This file is a merged representation of the entire codebase, combined into a single document by Repomix.
The content has been processed where security check has been disabled.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Security check has been disabled - content may contain sensitive information
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.circleci/
  config.yml
  install_snapcraft.sh
  update_docs.sh
.devcontainer/
  devcontainer.json
  Dockerfile
.github/
  ISSUE_TEMPLATE/
    bug_report.md
    discussion.md
    feature_request.md
  workflows/
    cd.yml
    ci.yml
    sponsors.yml
  FUNDING.yml
assets/
  subble-job-ad.jpg
  subble.webp
  tuple.png
  warp2.png
docs/
  keybindings/
    Keybindings_de.md
    Keybindings_en.md
    Keybindings_es.md
    Keybindings_fr.md
    Keybindings_nl.md
    Keybindings_pl.md
    Keybindings_pt.md
    Keybindings_tr.md
    Keybindings_zh.md
  resources/
    demo.gif
    demo3.gif
    discord.png
  Config.md
hooks/
  build
pkg/
  app/
    app.go
  cheatsheet/
    generate.go
    validate.go
  commands/
    ssh/
      ssh_test.go
      ssh.go
    container_stats_test.go
    container_stats.go
    container.go
    docker_host_unix.go
    docker_host_windows.go
    docker_test.go
    docker.go
    dummies.go
    errors.go
    image.go
    network.go
    os_default_platform.go
    os_test.go
    os_windows.go
    os.go
    project.go
    service.go
    volume.go
  config/
    app_config_test.go
    app_config.go
    config_default_platform.go
    config_linux.go
    config_windows.go
  gui/
    panels/
      context_state.go
      filtered_list_test.go
      filtered_list.go
      list_panel.go
      side_list_panel.go
    presentation/
      container_stats.go
      containers.go
      images.go
      menu_items.go
      networks.go
      projects.go
      services.go
      volumes.go
    types/
      types.go
    app_status_manager.go
    arrangement.go
    confirmation_panel.go
    container_logs.go
    containers_panel.go
    custom_commands.go
    filtering.go
    focus.go
    gocui.go
    gui.go
    images_panel.go
    keybindings.go
    layout.go
    main_panel.go
    menu_panel.go
    networks_panel.go
    options_menu_panel.go
    panels.go
    project_panel.go
    services_panel.go
    sort_container_test.go
    subprocess.go
    tasks_adapter.go
    theme.go
    view_helpers.go
    views.go
    volumes_panel.go
    window.go
  i18n/
    chinese.go
    dutch.go
    english.go
    french.go
    german.go
    i18n.go
    polish.go
    portuguese.go
    spanish.go
    turkish.go
  log/
    log.go
  tasks/
    tasks.go
  utils/
    utils_test.go
    utils.go
scripts/
  cheatsheet/
    main.go
  translations/
    get_required_translations.go
  bump_gocui.sh
  bump_lazycore.sh
  install_update_linux.sh
test/
  docker-compose.yml
  Dockerfile
  print-random-stuff.sh
.dockerignore
.gitignore
.golangci.yml
.goreleaser.yml
CODE-OF-CONDUCT.md
CONTRIBUTING.md
coverage.txt
docker-compose.yml
Dockerfile
go.mod
LICENSE
main.go
README.md
test.sh
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".circleci/config.yml">
version: 2

# global environment variables
# '& ' syntax is a YAML thing for creating referenceable documents
env-shared: &env-shared
  environment:
    GOFLAGS: "-mod=vendor"

# build steps shared across different jobs
build-shared: &build-shared
  steps:
    - checkout
    - run:
        name: Run gofmt -s
        command: |
          if [ $(find . ! -path "./vendor/*" -name "*.go" -exec gofmt -s -d {} \;|wc -l) -gt 0 ]; then
           find . ! -path "./vendor/*" -name "*.go" -exec gofmt -s -d {} \;
           exit 1;
          fi
    - restore_cache:
        keys:
          - pkg-cache-{{ checksum "go.sum" }}-v5
    - run:
        name: Run tests
        command: |
          go test -v ./...
    - run:
        name: Get gox
        # -mod=vendor doesn't work with go get while in source tree with go.mod in it
        working_directory: "/tmp"
        command: |
          go get github.com/mitchellh/gox
    - run:
        name: Compile project on every platform
        command: |
          gox -parallel 10 -os "linux freebsd" -osarch "darwin/i386 darwin/amd64 windows/i386 windows/amd64"
    - save_cache:
        key: pkg-cache-{{ checksum "go.sum" }}-v5
        paths:
          - ~/.cache/go-build

jobs:
  # matrix build jobs run on every commit
  # building on versioned Go and the latest one
  # '<<: *' syntax is a YAML thing for including documents
  "golang:1.17":
    <<: *env-shared
    <<: *build-shared
    docker:
      - image: circleci/golang:1.17
  "golang:latest":
    <<: *env-shared
    <<: *build-shared
    docker:
      - image: circleci/golang:latest
  # release job run only when a commit is tagged
  release:
    <<: *env-shared
    docker:
      - image: circleci/golang:1.17
    steps:
      - checkout
      - run:
          name: Run gorelease
          command: |
            curl -sL https://git.io/goreleaser | bash
      - run:
          name: Update docs
          command: |
            ./.circleci/update_docs.sh

workflows:
  version: 2
  build:
    jobs:
      # build matrix
      - "golang:1.17"
      - "golang:latest"
  release:
    jobs:
      - release:
          filters:
            tags:
              only: /v[0-9]+(\.[0-9]+)*/
            branches:
              ignore: /.*/
</file>

<file path=".circleci/install_snapcraft.sh">
#!/bin/bash

sudo apt-get update

sudo apt-get install -y \
    squashfs-tools \
    python3-pip \
    python3-apt \
    python3-debian \
    python3-pyelftools \
    python3-yaml \
    python3-tabulate \
    python3-jsonschema \
    python3-click \
    python3-pymacaroons \
    python3-simplejson \
    python3-progressbar \
    python3-requests-toolbelt \
    python3-requests-unixsocket

sudo pip3 install \
    petname \
    snapcraft

snapcraft --version
</file>

<file path=".circleci/update_docs.sh">
#!/bin/bash

set -ex

# see if we have a new cheatsheet
# if other docs end up being generated automatically we can chuck in the relevant scripts here
go run scripts/generate_cheatsheet.go

# commit and push if we have a change
if [[ -z $(git status -s -- docs/*) ]]; then
  echo "no changes to commit in the docs directory"
  exit 0
fi

echo "committing updated docs"

git config user.name "lazydocker bot"
git config user.email "jessedduffield@gmail.com"

git checkout master # just making sure we're up to date
git pull
git add docs/*
git commit -m "update docs"
git push -u origin master
</file>

<file path=".devcontainer/devcontainer.json">
{
  "name": "Docker in Docker",
  "build": {
    "dockerfile": "./Dockerfile",
    "context": "."
  },
  "features": {
    "ghcr.io/devcontainers/features/common-utils:1": {
      "installZsh": "true",
      "upgradePackages": "false",
      "uid": "1000",
      "gid": "1000",
      "installOhMyZsh": "true",
      "nonFreePackages": "true"
    },
    "ghcr.io/devcontainers/features/docker-from-docker:1": {
      "version": "latest",
      "enableNonRootDocker": "true",
      "moby": "true"
    },
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/go:1": {}
  },
  // Configure tool-specific properties.
  "customizations": {
    // Configure properties specific to VS Code.
    "vscode": {
      // Set *default* container specific settings.json values on container create.
      "settings": {
        "go.toolsManagement.checkForUpdates": "local",
        "go.useLanguageServer": true,
        "go.gopath": "~/go",
        "[go]": {
          "editor.formatOnSave": true,
          "editor.codeActionsOnSave": {
            "source.organizeImports": true
          }
        },
        "go.lintTool": "golangci-lint",
        "gopls": {
          "formatting.gofumpt": true,
          "usePlaceholders": false // add parameter placeholders when completing a function
        },
        "files.eol": "\n"
      },
      // Add the IDs of extensions you want installed when the container is created.
      "extensions": [
        "golang.Go"
      ]
    }
  }
  // TODO: make this work.
  // "postStartCommand": "echo \"alias gr=\\\"go run /workspaces/lazydocker/main.go\\\"\" >> ~/.zhsrc"
}
</file>

<file path=".devcontainer/Dockerfile">
FROM mcr.microsoft.com/devcontainers/go:bullseye

RUN apt-get update && apt-get install -y \
      curl \
      git \
    && rm -rf /var/lib/apt/lists/*

RUN go install mvdan.cc/gofumpt@latest
ENV PATH="/root/go/bin:${PATH}"
RUN curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b $(go env GOPATH)/bin v1.50.0
RUN golangci-lint --version
</file>

<file path=".github/ISSUE_TEMPLATE/bug_report.md">
---
name: Bug report
about: Create a report to help us improve
title: ''
labels: bug
assignees: ''

---

**Describe the bug**
A clear and concise description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

**Expected behaviour**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Desktop (please complete the following information):**
 - OS: [e.g. Windows]
 - Lazydocker Version [e.g. v0.1.45]
 - The last commit id if you built project from sources (run : ```git rev-parse HEAD```)

**Additional context**
Add any other context about the problem here.
</file>

<file path=".github/ISSUE_TEMPLATE/discussion.md">
---
name: Discussion
about: For starting a discussion
title: ''
labels: discussion
assignees: ''

---
</file>

<file path=".github/ISSUE_TEMPLATE/feature_request.md">
---
name: Feature request
about: Suggest an idea for this project
title: ''
labels: enhancement
assignees: ''

---

**Is your feature request related to a problem? Please describe.**
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

**Describe the solution you'd like**
A clear and concise description of what you want to happen.

**Describe alternatives you've considered**
A clear and concise description of any alternative solutions or features you've considered.

**Additional context**
Add any other context or screenshots about the feature request here.
</file>

<file path=".github/workflows/cd.yml">
name: Continuous Delivery

on:
  push:
    tags:
      - "v*"

jobs:
  goreleaser:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Unshallow repo
        run: git fetch --prune --unshallow
      - name: Setup Go
        uses: actions/setup-go@v6
        with:
          go-version: 1.24.x
      - name: Run goreleaser
        uses: goreleaser/goreleaser-action@v1
        with:
          distribution: goreleaser
          version: v1.17.2
          args: release --clean
        env:
          GITHUB_TOKEN: ${{secrets.TOKEN_GITHUB}}
</file>

<file path=".github/workflows/ci.yml">
name: Continuous Integration

env:
  GO_VERSION: 1.24

on:
  push:
    branches:
      - master
  pull_request:

jobs:
  ci:
    strategy:
      fail-fast: false
      matrix:
        os:
          - ubuntu-latest
          - windows-latest
    name: ci - ${{matrix.os}}
    runs-on: ${{matrix.os}}
    env:
      GOFLAGS: -mod=vendor
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Setup Go
        uses: actions/setup-go@v6
        with:
          go-version: 1.24.x
      - name: Cache build
        uses: actions/cache@v4
        with:
          path: ~/.cache/go-build
          key: ${{runner.os}}-go-${{hashFiles('**/go.sum')}}-test
          restore-keys: |
            ${{runner.os}}-go-
      - name: Test code
        run: |
          bash ./test.sh
  build:
    runs-on: ubuntu-latest
    env:
      GOFLAGS: -mod=vendor
      GOARCH: amd64
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Setup Go
        uses: actions/setup-go@v6
        with:
          go-version: 1.24.x
      - name: Cache build
        uses: actions/cache@v4
        with:
          path: ~/.cache/go-build
          key: ${{runner.os}}-go-${{hashFiles('**/go.sum')}}-build
          restore-keys: |
            ${{runner.os}}-go-
      - name: Build linux binary
        run: |
          GOOS=linux go build
      - name: Build windows binary
        run: |
          GOOS=windows go build
      - name: Build darwin binary
        run: |
          GOOS=darwin go build
  check-codebase:
    runs-on: ubuntu-latest
    env:
      GOFLAGS: -mod=vendor
      GOARCH: amd64
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Setup Go
        uses: actions/setup-go@v6
        with:
          go-version: 1.24.x
      - name: Cache build
        uses: actions/cache@v4
        with:
          path: |
            ~/.cache/go-build
            ~/go/pkg/mod
          key: ${{runner.os}}-go-${{hashFiles('**/go.sum')}}-build
          restore-keys: |
            ${{runner.os}}-go-
      - name: Check Cheatsheet
        run: |
          go run scripts/cheatsheet/main.go check
      - name: Check Vendor Directory
        # ensure our vendor directory matches up with our go modules
        run: |
          go mod vendor && git diff --exit-code || (echo "Unexpected change to vendor directory. Run 'go mod vendor' locally and commit the changes" && exit 1)
  lint:
    runs-on: ubuntu-latest
    env:
      GOFLAGS: -mod=vendor
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Setup Go
        uses: actions/setup-go@v6
        with:
          go-version: 1.24.x
      - name: Cache build
        uses: actions/cache@v4
        with:
          path: ~/.cache/go-build
          key: ${{runner.os}}-go-${{hashFiles('**/go.sum')}}-test
          restore-keys: |
            ${{runner.os}}-go-
      - name: Lint
        uses: golangci/golangci-lint-action@v3.1.0
        with:
          version: latest
      - name: Format code
        run: |
          if [ $(find . ! -path "./vendor/*" -name "*.go" -exec gofmt -s -d {} \;|wc -l) -gt 0 ]; then
           find . ! -path "./vendor/*" -name "*.go" -exec gofmt -s -d {} \;
           exit 1
          fi
      - name: errors
        run: golangci-lint run
        if: ${{ failure() }}
</file>

<file path=".github/workflows/sponsors.yml">
# see https://github.com/JamesIves/github-sponsors-readme-action
name: Generate Sponsors README
on:
  push:
    branches:
      - master
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      - name: Generate Sponsors ğŸ’–
        uses: JamesIves/github-sponsors-readme-action@v1.2.2
        with:
          token: ${{ secrets.TOKEN_GITHUB }}
          file: "README.md"
        if: ${{ github.repository == 'jesseduffield/lazydocker' }}

      - name: Create Pull Request ğŸš€
        uses: peter-evans/create-pull-request@v6
        with:
          commit-message: "README.md: Update Sponsors"
          title: "README.md: Update Sponsors"
          author: "github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
          labels: "ignore-for-release"
          delete-branch: true
</file>

<file path=".github/FUNDING.yml">
# These are supported funding model platforms

github: [jesseduffield]
custom: ['https://donorbox.org/lazygit']
</file>

<file path="docs/keybindings/Keybindings_de.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menÃ¼

## Projekt

<pre>
  <kbd>e</kbd>: bearbeite lazydocker Konfiguration
  <kbd>o</kbd>: Ã¶ffne lazydocker Konfiguration
  <kbd>m</kbd>: zeige Protokolle
  <kbd>enter</kbd>: fokussieren aufs Hauptpanel
  <kbd>[</kbd>: vorheriges Tab
  <kbd>]</kbd>: nÃ¤chstes Tab
</pre>

## Container

<pre>
  <kbd>d</kbd>: entfernen
  <kbd>e</kbd>: hide/show stopped containers
  <kbd>p</kbd>: pause
  <kbd>s</kbd>: anhalten
  <kbd>r</kbd>: neustarten
  <kbd>a</kbd>: anbinden
  <kbd>m</kbd>: zeige Protokolle
  <kbd>E</kbd>: exec shell
  <kbd>c</kbd>: fÃ¼hre vordefinierten benutzerdefinierten Befehl aus
  <kbd>b</kbd>: view bulk commands
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: fokussieren aufs Hauptpanel
  <kbd>[</kbd>: vorheriges Tab
  <kbd>]</kbd>: nÃ¤chstes Tab
  <kbd>/</kbd>: filter list
</pre>

## Dienste

<pre>
  <kbd>u</kbd>: up service
  <kbd>d</kbd>: entferne Container
  <kbd>s</kbd>: anhalten
  <kbd>p</kbd>: pause
  <kbd>r</kbd>: neustarten
  <kbd>S</kbd>: start
  <kbd>a</kbd>: anbinden
  <kbd>m</kbd>: zeige Protokolle
  <kbd>U</kbd>: up project
  <kbd>D</kbd>: down project
  <kbd>R</kbd>: zeige Neustartoptionen
  <kbd>c</kbd>: fÃ¼hre vordefinierten benutzerdefinierten Befehl aus
  <kbd>b</kbd>: view bulk commands
  <kbd>E</kbd>: exec shell
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: fokussieren aufs Hauptpanel
  <kbd>[</kbd>: vorheriges Tab
  <kbd>]</kbd>: nÃ¤chstes Tab
  <kbd>/</kbd>: filter list
</pre>

## Images

<pre>
  <kbd>c</kbd>: fÃ¼hre vordefinierten benutzerdefinierten Befehl aus
  <kbd>d</kbd>: entferne Image
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: fokussieren aufs Hauptpanel
  <kbd>[</kbd>: vorheriges Tab
  <kbd>]</kbd>: nÃ¤chstes Tab
  <kbd>/</kbd>: filter list
</pre>

## Volumes

<pre>
  <kbd>c</kbd>: fÃ¼hre vordefinierten benutzerdefinierten Befehl aus
  <kbd>d</kbd>: entferne Volume
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: fokussieren aufs Hauptpanel
  <kbd>[</kbd>: vorheriges Tab
  <kbd>]</kbd>: nÃ¤chstes Tab
  <kbd>/</kbd>: filter list
</pre>

## Netzwerk

<pre>
  <kbd>c</kbd>: fÃ¼hre vordefinierten benutzerdefinierten Befehl aus
  <kbd>d</kbd>: entferne Netzwerk
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: fokussieren aufs Hauptpanel
  <kbd>[</kbd>: vorheriges Tab
  <kbd>]</kbd>: nÃ¤chstes Tab
  <kbd>/</kbd>: filter list
</pre>

## Haupt

<pre>
  <kbd>esc</kbd>: zurÃ¼ck
</pre>

## Global

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_en.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menu

## Project

<pre>
  <kbd>e</kbd>: edit lazydocker config
  <kbd>o</kbd>: open lazydocker config
  <kbd>m</kbd>: view logs
  <kbd>enter</kbd>: focus main panel
  <kbd>[</kbd>: previous tab
  <kbd>]</kbd>: next tab
</pre>

## Containers

<pre>
  <kbd>d</kbd>: remove
  <kbd>e</kbd>: hide/show stopped containers
  <kbd>p</kbd>: pause
  <kbd>s</kbd>: stop
  <kbd>r</kbd>: restart
  <kbd>a</kbd>: attach
  <kbd>m</kbd>: view logs
  <kbd>E</kbd>: exec shell
  <kbd>c</kbd>: run predefined custom command
  <kbd>b</kbd>: view bulk commands
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: focus main panel
  <kbd>[</kbd>: previous tab
  <kbd>]</kbd>: next tab
  <kbd>/</kbd>: filter list
</pre>

## Services

<pre>
  <kbd>u</kbd>: up service
  <kbd>d</kbd>: remove containers
  <kbd>s</kbd>: stop
  <kbd>p</kbd>: pause
  <kbd>r</kbd>: restart
  <kbd>S</kbd>: start
  <kbd>a</kbd>: attach
  <kbd>m</kbd>: view logs
  <kbd>U</kbd>: up project
  <kbd>D</kbd>: down project
  <kbd>R</kbd>: view restart options
  <kbd>c</kbd>: run predefined custom command
  <kbd>b</kbd>: view bulk commands
  <kbd>E</kbd>: exec shell
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: focus main panel
  <kbd>[</kbd>: previous tab
  <kbd>]</kbd>: next tab
  <kbd>/</kbd>: filter list
</pre>

## Images

<pre>
  <kbd>c</kbd>: run predefined custom command
  <kbd>d</kbd>: remove image
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: focus main panel
  <kbd>[</kbd>: previous tab
  <kbd>]</kbd>: next tab
  <kbd>/</kbd>: filter list
</pre>

## Volumes

<pre>
  <kbd>c</kbd>: run predefined custom command
  <kbd>d</kbd>: remove volume
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: focus main panel
  <kbd>[</kbd>: previous tab
  <kbd>]</kbd>: next tab
  <kbd>/</kbd>: filter list
</pre>

## Networks

<pre>
  <kbd>c</kbd>: run predefined custom command
  <kbd>d</kbd>: remove network
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: focus main panel
  <kbd>[</kbd>: previous tab
  <kbd>]</kbd>: next tab
  <kbd>/</kbd>: filter list
</pre>

## Main

<pre>
  <kbd>esc</kbd>: return
</pre>

## Global

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_es.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menÃº

## Proyecto

<pre>
  <kbd>e</kbd>: editar configuraciÃ³n de lazydocker
  <kbd>o</kbd>: abrir configuraciÃ³n de lazydocker
  <kbd>m</kbd>: ver logs
  <kbd>enter</kbd>: enfocar panel principal
  <kbd>[</kbd>: anterior pestaÃ±a
  <kbd>]</kbd>: siguiente pestaÃ±a
</pre>

## Contenedores

<pre>
  <kbd>d</kbd>: borrar
  <kbd>e</kbd>: esconder/mostrar contenedores parados
  <kbd>p</kbd>: pausa
  <kbd>s</kbd>: parar
  <kbd>r</kbd>: reiniciar
  <kbd>a</kbd>: attach
  <kbd>m</kbd>: ver logs
  <kbd>E</kbd>: ejecutar shell
  <kbd>c</kbd>: ejecutar comando personalizado
  <kbd>b</kbd>: ver comandos masivos
  <kbd>w</kbd>: abrir en navegador (first port is http)
  <kbd>enter</kbd>: enfocar panel principal
  <kbd>[</kbd>: anterior pestaÃ±a
  <kbd>]</kbd>: siguiente pestaÃ±a
  <kbd>/</kbd>: filtrar lista
</pre>

## Servicios

<pre>
  <kbd>u</kbd>: levantar servicio
  <kbd>d</kbd>: borrar contenedores
  <kbd>s</kbd>: parar
  <kbd>p</kbd>: pausa
  <kbd>r</kbd>: reiniciar
  <kbd>S</kbd>: iniciar
  <kbd>a</kbd>: attach
  <kbd>m</kbd>: ver logs
  <kbd>U</kbd>: levantar proyecto
  <kbd>D</kbd>: dar de baja el proyecto
  <kbd>R</kbd>: ver opciones de reinicio
  <kbd>c</kbd>: ejecutar comando personalizado
  <kbd>b</kbd>: ver comandos masivos
  <kbd>E</kbd>: ejecutar shell
  <kbd>w</kbd>: abrir en navegador (first port is http)
  <kbd>enter</kbd>: enfocar panel principal
  <kbd>[</kbd>: anterior pestaÃ±a
  <kbd>]</kbd>: siguiente pestaÃ±a
  <kbd>/</kbd>: filtrar lista
</pre>

## ImÃ¡genes

<pre>
  <kbd>c</kbd>: ejecutar comando personalizado
  <kbd>d</kbd>: limpiar imagen
  <kbd>b</kbd>: ver comandos masivos
  <kbd>enter</kbd>: enfocar panel principal
  <kbd>[</kbd>: anterior pestaÃ±a
  <kbd>]</kbd>: siguiente pestaÃ±a
  <kbd>/</kbd>: filtrar lista
</pre>

## VolÃºmenes

<pre>
  <kbd>c</kbd>: ejecutar comando personalizado
  <kbd>d</kbd>: limpiar volÃºmen
  <kbd>b</kbd>: ver comandos masivos
  <kbd>enter</kbd>: enfocar panel principal
  <kbd>[</kbd>: anterior pestaÃ±a
  <kbd>]</kbd>: siguiente pestaÃ±a
  <kbd>/</kbd>: filtrar lista
</pre>

## Redes

<pre>
  <kbd>c</kbd>: ejecutar comando personalizado
  <kbd>d</kbd>: limpiar red
  <kbd>b</kbd>: ver comandos masivos
  <kbd>enter</kbd>: enfocar panel principal
  <kbd>[</kbd>: anterior pestaÃ±a
  <kbd>]</kbd>: siguiente pestaÃ±a
  <kbd>/</kbd>: filtrar lista
</pre>

## Inicio

<pre>
  <kbd>esc</kbd>: regresar
</pre>

## Global

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_fr.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menu

## Projet

<pre>
  <kbd>e</kbd>: modifier la configuration lazydocker
  <kbd>o</kbd>: ouvrir la configuration lazydocker
  <kbd>m</kbd>: voir les enregistrements
  <kbd>enter</kbd>: focus panneau principal
  <kbd>[</kbd>: onglet prÃ©cÃ©dent
  <kbd>]</kbd>: onglet suivant
</pre>

## Conteneurs

<pre>
  <kbd>d</kbd>: supprimer
  <kbd>e</kbd>: cacher/montrer les conteneurs arrÃªtÃ©s
  <kbd>p</kbd>: pause
  <kbd>s</kbd>: arrÃªter
  <kbd>r</kbd>: redÃ©marrer
  <kbd>a</kbd>: attacher
  <kbd>m</kbd>: voir les enregistrements
  <kbd>E</kbd>: exÃ©cuter le shell
  <kbd>c</kbd>: exÃ©cuter une commande prÃ©dÃ©finie
  <kbd>b</kbd>: voir les commandes groupÃ©es
  <kbd>w</kbd>: ouvrir dans le navigateur (le premier port est http)
  <kbd>enter</kbd>: focus panneau principal
  <kbd>[</kbd>: onglet prÃ©cÃ©dent
  <kbd>]</kbd>: onglet suivant
  <kbd>/</kbd>: filter list
</pre>

## Services

<pre>
  <kbd>u</kbd>: up service
  <kbd>d</kbd>: supprimer les conteneurs
  <kbd>s</kbd>: arrÃªter
  <kbd>p</kbd>: pause
  <kbd>r</kbd>: redÃ©marrer
  <kbd>S</kbd>: dÃ©marrer
  <kbd>a</kbd>: attacher
  <kbd>m</kbd>: voir les enregistrements
  <kbd>U</kbd>: up project
  <kbd>D</kbd>: down project
  <kbd>R</kbd>: voir les options de redÃ©marrage
  <kbd>c</kbd>: exÃ©cuter une commande prÃ©dÃ©finie
  <kbd>b</kbd>: voir les commandes groupÃ©es
  <kbd>E</kbd>: exÃ©cuter le shell
  <kbd>w</kbd>: ouvrir dans le navigateur (le premier port est http)
  <kbd>enter</kbd>: focus panneau principal
  <kbd>[</kbd>: onglet prÃ©cÃ©dent
  <kbd>]</kbd>: onglet suivant
  <kbd>/</kbd>: filter list
</pre>

## Images

<pre>
  <kbd>c</kbd>: exÃ©cuter une commande prÃ©dÃ©finie
  <kbd>d</kbd>: supprimer l'image
  <kbd>b</kbd>: voir les commandes groupÃ©es
  <kbd>enter</kbd>: focus panneau principal
  <kbd>[</kbd>: onglet prÃ©cÃ©dent
  <kbd>]</kbd>: onglet suivant
  <kbd>/</kbd>: filter list
</pre>

## Volumes

<pre>
  <kbd>c</kbd>: exÃ©cuter une commande prÃ©dÃ©finie
  <kbd>d</kbd>: supprimer le volume
  <kbd>b</kbd>: voir les commandes groupÃ©es
  <kbd>enter</kbd>: focus panneau principal
  <kbd>[</kbd>: onglet prÃ©cÃ©dent
  <kbd>]</kbd>: onglet suivant
  <kbd>/</kbd>: filter list
</pre>

## RÃ©seaux

<pre>
  <kbd>c</kbd>: exÃ©cuter une commande prÃ©dÃ©finie
  <kbd>d</kbd>: supprimer le rÃ©seau
  <kbd>b</kbd>: voir les commandes groupÃ©es
  <kbd>enter</kbd>: focus panneau principal
  <kbd>[</kbd>: onglet prÃ©cÃ©dent
  <kbd>]</kbd>: onglet suivant
  <kbd>/</kbd>: filter list
</pre>

## Principal

<pre>
  <kbd>esc</kbd>: retour
</pre>

## Global

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_nl.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menu

## Project

<pre>
  <kbd>e</kbd>: verander de lazydocker configuratie
  <kbd>o</kbd>: open de lazydocker configuratie
  <kbd>m</kbd>: bekijk logs
  <kbd>enter</kbd>: focus hoofdpaneel
  <kbd>[</kbd>: vorige tab
  <kbd>]</kbd>: volgende tab
</pre>

## Containers

<pre>
  <kbd>d</kbd>: verwijder
  <kbd>e</kbd>: verberg gestopte containers
  <kbd>p</kbd>: pause
  <kbd>s</kbd>: stop
  <kbd>r</kbd>: herstart
  <kbd>a</kbd>: verbinden
  <kbd>m</kbd>: bekijk logs
  <kbd>E</kbd>: exec shell
  <kbd>c</kbd>: draai een vooraf bedacht aangepaste opdracht
  <kbd>b</kbd>: view bulk commands
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: focus hoofdpaneel
  <kbd>[</kbd>: vorige tab
  <kbd>]</kbd>: volgende tab
  <kbd>/</kbd>: filter list
</pre>

## Diensten

<pre>
  <kbd>u</kbd>: up service
  <kbd>d</kbd>: verwijder containers
  <kbd>s</kbd>: stop
  <kbd>p</kbd>: pause
  <kbd>r</kbd>: herstart
  <kbd>S</kbd>: start
  <kbd>a</kbd>: verbinden
  <kbd>m</kbd>: bekijk logs
  <kbd>U</kbd>: up project
  <kbd>D</kbd>: down project
  <kbd>R</kbd>: bekijk herstart opties
  <kbd>c</kbd>: draai een vooraf bedacht aangepaste opdracht
  <kbd>b</kbd>: view bulk commands
  <kbd>E</kbd>: exec shell
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: focus hoofdpaneel
  <kbd>[</kbd>: vorige tab
  <kbd>]</kbd>: volgende tab
  <kbd>/</kbd>: filter list
</pre>

## Images

<pre>
  <kbd>c</kbd>: draai een vooraf bedacht aangepaste opdracht
  <kbd>d</kbd>: verwijder image
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: focus hoofdpaneel
  <kbd>[</kbd>: vorige tab
  <kbd>]</kbd>: volgende tab
  <kbd>/</kbd>: filter list
</pre>

## Volumes

<pre>
  <kbd>c</kbd>: draai een vooraf bedacht aangepaste opdracht
  <kbd>d</kbd>: verwijder volume
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: focus hoofdpaneel
  <kbd>[</kbd>: vorige tab
  <kbd>]</kbd>: volgende tab
  <kbd>/</kbd>: filter list
</pre>

## Networks

<pre>
  <kbd>c</kbd>: draai een vooraf bedacht aangepaste opdracht
  <kbd>d</kbd>: verwijder network
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: focus hoofdpaneel
  <kbd>[</kbd>: vorige tab
  <kbd>]</kbd>: volgende tab
  <kbd>/</kbd>: filter list
</pre>

## Hoofd

<pre>
  <kbd>esc</kbd>: terug
</pre>

## Globaal

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_pl.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menu

## Projekt

<pre>
  <kbd>e</kbd>: edytuj konfiguracjÄ™
  <kbd>o</kbd>: otwÃ³rz konfiguracjÄ™
  <kbd>m</kbd>: pokaÅ¼ logi
  <kbd>enter</kbd>: skup na gÅ‚Ã³wnym panelu
  <kbd>[</kbd>: poprzednia zakÅ‚adka
  <kbd>]</kbd>: nastÄ™pna zakÅ‚adka
</pre>

## Kontenery

<pre>
  <kbd>d</kbd>: usuÅ„
  <kbd>e</kbd>: hide/show stopped containers
  <kbd>p</kbd>: pause
  <kbd>s</kbd>: zatrzymaj
  <kbd>r</kbd>: restartuj
  <kbd>a</kbd>: przyczep
  <kbd>m</kbd>: pokaÅ¼ logi
  <kbd>E</kbd>: exec shell
  <kbd>c</kbd>: wykonaj predefiniowanÄ… wÅ‚asnÄ… komende
  <kbd>b</kbd>: view bulk commands
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: skup na gÅ‚Ã³wnym panelu
  <kbd>[</kbd>: poprzednia zakÅ‚adka
  <kbd>]</kbd>: nastÄ™pna zakÅ‚adka
  <kbd>/</kbd>: filter list
</pre>

## Serwisy

<pre>
  <kbd>u</kbd>: up service
  <kbd>d</kbd>: usuÅ„ kontenery
  <kbd>s</kbd>: zatrzymaj
  <kbd>p</kbd>: pause
  <kbd>r</kbd>: restartuj
  <kbd>S</kbd>: start
  <kbd>a</kbd>: przyczep
  <kbd>m</kbd>: pokaÅ¼ logi
  <kbd>U</kbd>: up project
  <kbd>D</kbd>: down project
  <kbd>R</kbd>: pokaÅ¼ opcje restartu
  <kbd>c</kbd>: wykonaj predefiniowanÄ… wÅ‚asnÄ… komende
  <kbd>b</kbd>: view bulk commands
  <kbd>E</kbd>: exec shell
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: skup na gÅ‚Ã³wnym panelu
  <kbd>[</kbd>: poprzednia zakÅ‚adka
  <kbd>]</kbd>: nastÄ™pna zakÅ‚adka
  <kbd>/</kbd>: filter list
</pre>

## Obrazy

<pre>
  <kbd>c</kbd>: wykonaj predefiniowanÄ… wÅ‚asnÄ… komende
  <kbd>d</kbd>: usuÅ„ obraz
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: skup na gÅ‚Ã³wnym panelu
  <kbd>[</kbd>: poprzednia zakÅ‚adka
  <kbd>]</kbd>: nastÄ™pna zakÅ‚adka
  <kbd>/</kbd>: filter list
</pre>

## Wolumeny

<pre>
  <kbd>c</kbd>: wykonaj predefiniowanÄ… wÅ‚asnÄ… komende
  <kbd>d</kbd>: usuÅ„ wolumen
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: skup na gÅ‚Ã³wnym panelu
  <kbd>[</kbd>: poprzednia zakÅ‚adka
  <kbd>]</kbd>: nastÄ™pna zakÅ‚adka
  <kbd>/</kbd>: filter list
</pre>

## Sieci

<pre>
  <kbd>c</kbd>: wykonaj predefiniowanÄ… wÅ‚asnÄ… komende
  <kbd>d</kbd>: usuÅ„ sieci
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: skup na gÅ‚Ã³wnym panelu
  <kbd>[</kbd>: poprzednia zakÅ‚adka
  <kbd>]</kbd>: nastÄ™pna zakÅ‚adka
  <kbd>/</kbd>: filter list
</pre>

## GÅ‚Ã³wne

<pre>
  <kbd>esc</kbd>: powrÃ³t
</pre>

## Globalne

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_pt.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menu

## Projeto

<pre>
  <kbd>e</kbd>: editar configuraÃ§Ã£o do lazydocker
  <kbd>o</kbd>: abrir configuraÃ§Ã£o do lazydocker
  <kbd>m</kbd>: ver logs
  <kbd>enter</kbd>: focar no painel principal
  <kbd>[</kbd>: aba anterior
  <kbd>]</kbd>: prÃ³xima aba
</pre>

## ContÃªineres

<pre>
  <kbd>d</kbd>: remover
  <kbd>e</kbd>: ocultar/mostrar contÃªineres parados
  <kbd>p</kbd>: pausar
  <kbd>s</kbd>: parar
  <kbd>r</kbd>: reiniciar
  <kbd>a</kbd>: anexar
  <kbd>m</kbd>: ver logs
  <kbd>E</kbd>: executar shell
  <kbd>c</kbd>: executar comando personalizado predefinido
  <kbd>b</kbd>: ver comandos em massa
  <kbd>w</kbd>: abrir no navegador (primeira porta Ã© http)
  <kbd>enter</kbd>: focar no painel principal
  <kbd>[</kbd>: aba anterior
  <kbd>]</kbd>: prÃ³xima aba
  <kbd>/</kbd>: filtrar lista
</pre>

## ServiÃ§os

<pre>
  <kbd>u</kbd>: subir serviÃ§o
  <kbd>d</kbd>: remover contÃªineres
  <kbd>s</kbd>: parar
  <kbd>p</kbd>: pausar
  <kbd>r</kbd>: reiniciar
  <kbd>S</kbd>: iniciar
  <kbd>a</kbd>: anexar
  <kbd>m</kbd>: ver logs
  <kbd>U</kbd>: subir projeto
  <kbd>D</kbd>: derrubar projeto
  <kbd>R</kbd>: ver opÃ§Ãµes de reinÃ­cio
  <kbd>c</kbd>: executar comando personalizado predefinido
  <kbd>b</kbd>: ver comandos em massa
  <kbd>E</kbd>: executar shell
  <kbd>w</kbd>: abrir no navegador (primeira porta Ã© http)
  <kbd>enter</kbd>: focar no painel principal
  <kbd>[</kbd>: aba anterior
  <kbd>]</kbd>: prÃ³xima aba
  <kbd>/</kbd>: filtrar lista
</pre>

## Imagens

<pre>
  <kbd>c</kbd>: executar comando personalizado predefinido
  <kbd>d</kbd>: remover imagem
  <kbd>b</kbd>: ver comandos em massa
  <kbd>enter</kbd>: focar no painel principal
  <kbd>[</kbd>: aba anterior
  <kbd>]</kbd>: prÃ³xima aba
  <kbd>/</kbd>: filtrar lista
</pre>

## Volumes

<pre>
  <kbd>c</kbd>: executar comando personalizado predefinido
  <kbd>d</kbd>: remover volume
  <kbd>b</kbd>: ver comandos em massa
  <kbd>enter</kbd>: focar no painel principal
  <kbd>[</kbd>: aba anterior
  <kbd>]</kbd>: prÃ³xima aba
  <kbd>/</kbd>: filtrar lista
</pre>

## Redes

<pre>
  <kbd>c</kbd>: executar comando personalizado predefinido
  <kbd>d</kbd>: remover rede
  <kbd>b</kbd>: ver comandos em massa
  <kbd>enter</kbd>: focar no painel principal
  <kbd>[</kbd>: aba anterior
  <kbd>]</kbd>: prÃ³xima aba
  <kbd>/</kbd>: filtrar lista
</pre>

## Principal

<pre>
  <kbd>esc</kbd>: retornar
</pre>

## Global

<pre>
  <kbd>+</kbd>: modo de tela seguinte (normal/meia/tela cheia)
  <kbd>_</kbd>: modo de tela anterior
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_tr.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker menÃ¼

## Proje

<pre>
  <kbd>e</kbd>: lazzydocker ayarlarÄ±nÄ± dÃ¼zenle
  <kbd>o</kbd>: lazydocker ayarlarÄ±nÄ± aÃ§
  <kbd>m</kbd>: kayÄ±t defterini gÃ¶rÃ¼ntÃ¼le
  <kbd>enter</kbd>: ana panele odaklan
  <kbd>[</kbd>: Ã¶nceki sekme
  <kbd>]</kbd>: sonraki sekme
</pre>

## Konteynerler

<pre>
  <kbd>d</kbd>: kaldÄ±r
  <kbd>e</kbd>: hide/show stopped containers
  <kbd>p</kbd>: pause
  <kbd>s</kbd>: durdur
  <kbd>r</kbd>: yeniden baÅŸlat
  <kbd>a</kbd>: baÄŸlan/iliÅŸtir
  <kbd>m</kbd>: kayÄ±t defterini gÃ¶rÃ¼ntÃ¼le
  <kbd>E</kbd>: exec shell
  <kbd>c</kbd>: Ã¶nceden tanÄ±mlanmÄ±ÅŸ Ã¶zel komutu Ã§alÄ±ÅŸtÄ±r
  <kbd>b</kbd>: view bulk commands
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: ana panele odaklan
  <kbd>[</kbd>: Ã¶nceki sekme
  <kbd>]</kbd>: sonraki sekme
  <kbd>/</kbd>: filter list
</pre>

## Servisler

<pre>
  <kbd>u</kbd>: up service
  <kbd>d</kbd>: konteynerleri kaldÄ±r
  <kbd>s</kbd>: durdur
  <kbd>p</kbd>: pause
  <kbd>r</kbd>: yeniden baÅŸlat
  <kbd>S</kbd>: start
  <kbd>a</kbd>: baÄŸlan/iliÅŸtir
  <kbd>m</kbd>: kayÄ±t defterini gÃ¶rÃ¼ntÃ¼le
  <kbd>U</kbd>: up project
  <kbd>D</kbd>: down project
  <kbd>R</kbd>: yeniden baÅŸlatma seÃ§eneklerini gÃ¶rÃ¼ntÃ¼le
  <kbd>c</kbd>: Ã¶nceden tanÄ±mlanmÄ±ÅŸ Ã¶zel komutu Ã§alÄ±ÅŸtÄ±r
  <kbd>b</kbd>: view bulk commands
  <kbd>E</kbd>: exec shell
  <kbd>w</kbd>: open in browser (first port is http)
  <kbd>enter</kbd>: ana panele odaklan
  <kbd>[</kbd>: Ã¶nceki sekme
  <kbd>]</kbd>: sonraki sekme
  <kbd>/</kbd>: filter list
</pre>

## Imajlar

<pre>
  <kbd>c</kbd>: Ã¶nceden tanÄ±mlanmÄ±ÅŸ Ã¶zel komutu Ã§alÄ±ÅŸtÄ±r
  <kbd>d</kbd>: imajÄ± kaldÄ±r
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: ana panele odaklan
  <kbd>[</kbd>: Ã¶nceki sekme
  <kbd>]</kbd>: sonraki sekme
  <kbd>/</kbd>: filter list
</pre>

## Alanlar

<pre>
  <kbd>c</kbd>: Ã¶nceden tanÄ±mlanmÄ±ÅŸ Ã¶zel komutu Ã§alÄ±ÅŸtÄ±r
  <kbd>d</kbd>: alanÄ± kaldÄ±r
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: ana panele odaklan
  <kbd>[</kbd>: Ã¶nceki sekme
  <kbd>]</kbd>: sonraki sekme
  <kbd>/</kbd>: filter list
</pre>

## AÄŸlarÄ±

<pre>
  <kbd>c</kbd>: Ã¶nceden tanÄ±mlanmÄ±ÅŸ Ã¶zel komutu Ã§alÄ±ÅŸtÄ±r
  <kbd>d</kbd>: aÄŸÄ± kaldÄ±r
  <kbd>b</kbd>: view bulk commands
  <kbd>enter</kbd>: ana panele odaklan
  <kbd>[</kbd>: Ã¶nceki sekme
  <kbd>]</kbd>: sonraki sekme
  <kbd>/</kbd>: filter list
</pre>

## Ana

<pre>
  <kbd>esc</kbd>: dÃ¶nÃ¼ÅŸ
</pre>

## Global

<pre>
  <kbd>+</kbd>: next screen mode (normal/half/fullscreen)
  <kbd>_</kbd>: prev screen mode
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/keybindings/Keybindings_zh.md">
_This file is auto-generated. To update, make the changes in the pkg/i18n directory and then run `go run scripts/cheatsheet/main.go generate` from the project root._

# Lazydocker èœå•

## é¡¹ç›®

<pre>
  <kbd>e</kbd>: ç¼–è¾‘lazydockeré…ç½®
  <kbd>o</kbd>: æ‰“å¼€lazydockeré…ç½®
  <kbd>m</kbd>: æŸ¥çœ‹æ—¥å¿—
  <kbd>enter</kbd>: èšç„¦ä¸»é¢æ¿
  <kbd>[</kbd>: ä¸Šä¸€ä¸ªé€‰é¡¹å¡
  <kbd>]</kbd>: ä¸‹ä¸€ä¸ªé€‰é¡¹å¡
</pre>

## å®¹å™¨

<pre>
  <kbd>d</kbd>: ç§»é™¤
  <kbd>e</kbd>: éšè—/æ˜¾ç¤ºå·²åœæ­¢çš„å®¹å™¨
  <kbd>p</kbd>: æš‚åœ
  <kbd>s</kbd>: åœæ­¢
  <kbd>r</kbd>: é‡æ–°å¯åŠ¨
  <kbd>a</kbd>: attach
  <kbd>m</kbd>: æŸ¥çœ‹æ—¥å¿—
  <kbd>E</kbd>: æ‰§è¡Œshell
  <kbd>c</kbd>: è¿è¡Œé¢„å®šä¹‰çš„è‡ªå®šä¹‰å‘½ä»¤
  <kbd>b</kbd>: æŸ¥çœ‹æ‰¹é‡å‘½ä»¤
  <kbd>w</kbd>: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€(ç¬¬ä¸€ä¸ªç«¯å£ä¸ºhttp)
  <kbd>enter</kbd>: èšç„¦ä¸»é¢æ¿
  <kbd>[</kbd>: ä¸Šä¸€ä¸ªé€‰é¡¹å¡
  <kbd>]</kbd>: ä¸‹ä¸€ä¸ªé€‰é¡¹å¡
  <kbd>/</kbd>: è¿‡æ»¤åˆ—è¡¨
</pre>

## æœåŠ¡

<pre>
  <kbd>u</kbd>: å¯åŠ¨æœåŠ¡
  <kbd>d</kbd>: ç§»é™¤å®¹å™¨
  <kbd>s</kbd>: åœæ­¢
  <kbd>p</kbd>: æš‚åœ
  <kbd>r</kbd>: é‡æ–°å¯åŠ¨
  <kbd>S</kbd>: å¯åŠ¨é¡¹ç›®
  <kbd>a</kbd>: attach
  <kbd>m</kbd>: æŸ¥çœ‹æ—¥å¿—
  <kbd>U</kbd>: åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨
  <kbd>D</kbd>: åœæ­¢å¹¶ç§»é™¤å®¹å™¨
  <kbd>R</kbd>: æŸ¥çœ‹é‡å¯é€‰é¡¹
  <kbd>c</kbd>: è¿è¡Œé¢„å®šä¹‰çš„è‡ªå®šä¹‰å‘½ä»¤
  <kbd>b</kbd>: æŸ¥çœ‹æ‰¹é‡å‘½ä»¤
  <kbd>E</kbd>: æ‰§è¡Œshell
  <kbd>w</kbd>: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€(ç¬¬ä¸€ä¸ªç«¯å£ä¸ºhttp)
  <kbd>enter</kbd>: èšç„¦ä¸»é¢æ¿
  <kbd>[</kbd>: ä¸Šä¸€ä¸ªé€‰é¡¹å¡
  <kbd>]</kbd>: ä¸‹ä¸€ä¸ªé€‰é¡¹å¡
  <kbd>/</kbd>: è¿‡æ»¤åˆ—è¡¨
</pre>

## é•œåƒ

<pre>
  <kbd>c</kbd>: è¿è¡Œé¢„å®šä¹‰çš„è‡ªå®šä¹‰å‘½ä»¤
  <kbd>d</kbd>: ç§»é™¤é•œåƒ
  <kbd>b</kbd>: æŸ¥çœ‹æ‰¹é‡å‘½ä»¤
  <kbd>enter</kbd>: èšç„¦ä¸»é¢æ¿
  <kbd>[</kbd>: ä¸Šä¸€ä¸ªé€‰é¡¹å¡
  <kbd>]</kbd>: ä¸‹ä¸€ä¸ªé€‰é¡¹å¡
  <kbd>/</kbd>: è¿‡æ»¤åˆ—è¡¨
</pre>

## å·

<pre>
  <kbd>c</kbd>: è¿è¡Œé¢„å®šä¹‰çš„è‡ªå®šä¹‰å‘½ä»¤
  <kbd>d</kbd>: ç§»é™¤å·
  <kbd>b</kbd>: æŸ¥çœ‹æ‰¹é‡å‘½ä»¤
  <kbd>enter</kbd>: èšç„¦ä¸»é¢æ¿
  <kbd>[</kbd>: ä¸Šä¸€ä¸ªé€‰é¡¹å¡
  <kbd>]</kbd>: ä¸‹ä¸€ä¸ªé€‰é¡¹å¡
  <kbd>/</kbd>: è¿‡æ»¤åˆ—è¡¨
</pre>

## ç½‘ç»œ

<pre>
  <kbd>c</kbd>: è¿è¡Œé¢„å®šä¹‰çš„è‡ªå®šä¹‰å‘½ä»¤
  <kbd>d</kbd>: ç§»é™¤ç½‘ç»œ
  <kbd>b</kbd>: æŸ¥çœ‹æ‰¹é‡å‘½ä»¤
  <kbd>enter</kbd>: èšç„¦ä¸»é¢æ¿
  <kbd>[</kbd>: ä¸Šä¸€ä¸ªé€‰é¡¹å¡
  <kbd>]</kbd>: ä¸‹ä¸€ä¸ªé€‰é¡¹å¡
  <kbd>/</kbd>: è¿‡æ»¤åˆ—è¡¨
</pre>

## ä¸»è¦

<pre>
  <kbd>esc</kbd>: è¿”å›
</pre>

## å…¨å±€

<pre>
  <kbd>+</kbd>: ä¸‹ä¸€ä¸ªå±å¹•æ¨¡å¼ï¼ˆæ­£å¸¸/åŠå±/å…¨å±ï¼‰
  <kbd>_</kbd>: ä¸Šä¸€ä¸ªå±å¹•æ¨¡å¼
  <kbd>1</kbd>: focus projects panel
  <kbd>2</kbd>: focus services panel
  <kbd>3</kbd>: focus containers panel
  <kbd>4</kbd>: focus images panel
  <kbd>5</kbd>: focus volumes panel
  <kbd>6</kbd>: focus networks panel
</pre>
</file>

<file path="docs/Config.md">
# User Config:

## Opening The User Config

The location of the user config will differ depending on your OS. You can open it via lazydocker by opening the application, clicking on the 'project' panel at the top left and pressing 'o' (or pressing 'e' if your files open in vim).

Changes to the user config will only take place after closing and re-opening lazydocker

### Locations:

- OSX: `~/Library/Application Support/jesseduffield/lazydocker/config.yml`
- Linux: `~/.config/lazydocker/config.yml`
- Windows: `C:\Users\<User>\AppData\Roaming\lazydocker\config.yml`

JSON schema is available for `config.yml` so that IntelliSense in Visual Studio Code
(completion and error checking) is automatically enabled when the [YAML Red Hat][yaml]
extension is installed. However, note that automatic schema detection only works
if your config file is in one of the standard paths mentioned above. If you
override the path to the file, you can still make IntelliSense work by adding

```yaml
# yaml-language-server: $schema=https://json.schemastore.org/lazydocker.json
```

to the top of your config file or via [Visual Studio Code settings.json config][settings].

[yaml]: https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml
[settings]: https://github.com/redhat-developer/vscode-yaml#associating-a-schema-to-a-glob-pattern-via-yamlschemas

## Default:

```yml
gui:
  scrollHeight: 2
  language: "auto" # one of 'auto' | 'en' | 'pl' | 'nl' | 'de' | 'tr'
  border: "rounded" # one of 'rounded' | 'single' | 'double' | 'hidden'
  theme:
    activeBorderColor:
      - green
      - bold
    inactiveBorderColor:
      - white
    selectedLineBgColor:
      - blue
    optionsTextColor:
      - blue
  returnImmediately: false
  wrapMainPanel: true
  # Side panel width as a ratio of the screen's width
  sidePanelWidth: 0.333
  # Determines whether we show the bottom line (the one containing keybinding
  # info and the status of the app).
  showBottomLine: true
  # When true, increases vertical space used by focused side panel,
  # creating an accordion effect
  expandFocusedSidePanel: false
  # Determines which screen mode will be used on startup
  screenMode: "normal" # one of 'normal' | 'half' | 'fullscreen'
  # Determines the style of the container status and container health display in the
  # containers panel. "long": full words (default), "short": one or two characters,
  # "icon": unicode emoji.
  containerStatusHealthStyle: "long"
logs:
  timestamps: false
  since: '60m' # set to '' to show all logs
  tail: '' # set to 200 to show last 200 lines of logs
commandTemplates:
  dockerCompose: docker compose # Determines the Docker Compose command to run, referred to as .DockerCompose in commandTemplates
  restartService: '{{ .DockerCompose }} restart {{ .Service.Name }}'
  up:  '{{ .DockerCompose }} up -d'
  down: '{{ .DockerCompose }} down'
  downWithVolumes: '{{ .DockerCompose }} down --volumes'
  upService:  '{{ .DockerCompose }} up -d {{ .Service.Name }}'
  startService: '{{ .DockerCompose }} start {{ .Service.Name }}'
  stopService: '{{ .DockerCompose }} stop {{ .Service.Name }}'
  serviceLogs: '{{ .DockerCompose }} logs --since=60m --follow {{ .Service.Name }}'
  viewServiceLogs: '{{ .DockerCompose }} logs --follow {{ .Service.Name }}'
  rebuildService: '{{ .DockerCompose }} up -d --build {{ .Service.Name }}'
  recreateService: '{{ .DockerCompose }} up -d --force-recreate {{ .Service.Name }}'
  allLogs: '{{ .DockerCompose }} logs --tail=300 --follow'
  viewAlLogs: '{{ .DockerCompose }} logs'
  dockerComposeConfig: '{{ .DockerCompose }} config'
  checkDockerComposeConfig: '{{ .DockerCompose }} config --quiet'
  serviceTop: '{{ .DockerCompose }} top {{ .Service.Name }}'
oS:
  openCommand: open {{filename}}
  openLinkCommand: open {{link}}
stats:
  graphs:
    - caption: CPU (%)
      statPath: DerivedStats.CPUPercentage
      color: blue
    - caption: Memory (%)
      statPath: DerivedStats.MemoryPercentage
      color: green
```

## To see what all of the config options mean, and what other options you can set, see [here](https://godoc.org/github.com/jesseduffield/lazydocker/pkg/config)

## Color Attributes:

For color attributes you can choose an array of attributes (with max one color attribute)
The available attributes are:

- default
- black
- red
- green
- yellow
- blue
- magenta
- cyan
- white
- bold
- reverse # useful for high-contrast
- underline

## Custom Commands

You can add custom commands like so:

```yaml
customCommands:
  containers:
    - name: bash
      attach: true
      command: 'docker exec -it {{ .Container.ID }} bash'
      serviceNames: []
```

You may use the following go templates (such as `{{ .Container.ID }}` above) in your commands:
- `{{ .DockerCompose }}`: the docker compose command (default: `docker-compose`)
- [`{{ .Container }}`](https://pkg.go.dev/github.com/jesseduffield/lazydocker@v0.20.0/pkg/commands#Container) and its fields. For example: `{{ .Container.Container.ImageID }}`
- [`{{ .Service }}`](https://pkg.go.dev/github.com/jesseduffield/lazydocker@v0.20.0/pkg/commands#Service) and its fields. For example: `{{ .Service.Name }}`

## Replacements

You can add replacements like so:

```yaml
replacements:
  imageNamePrefixes:
    '123456789012.dkr.ecr.us-east-1.amazonaws.com': '<prod>'
    '923456789999.dkr.ecr.us-east-1.amazonaws.com': '<dev>'
```
</file>

<file path="hooks/build">
#!/bin/bash

docker build --build-arg BUILD_DATE=`date -u +"%Y-%m-%dT%H:%M:%SZ"` \
             --build-arg VCS_REF=`git rev-parse --short HEAD` \
             --build-arg VERSION=`git describe --abbrev=0 --tag` \
             -t $IMAGE_NAME .
</file>

<file path="pkg/app/app.go">
package app

import (
	"io"
	"strings"

	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui"
	"github.com/jesseduffield/lazydocker/pkg/i18n"
	"github.com/jesseduffield/lazydocker/pkg/log"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/sirupsen/logrus"
)

// App struct
type App struct {
	closers []io.Closer

	Config        *config.AppConfig
	Log           *logrus.Entry
	OSCommand     *commands.OSCommand
	DockerCommand *commands.DockerCommand
	Gui           *gui.Gui
	Tr            *i18n.TranslationSet
	ErrorChan     chan error
}

// NewApp bootstrap a new application
func NewApp(config *config.AppConfig) (*App, error) {
	app := &App{
		closers:   []io.Closer{},
		Config:    config,
		ErrorChan: make(chan error),
	}
	var err error
	app.Log = log.NewLogger(config, "23432119147a4367abf7c0de2aa99a2d")
	app.Tr, err = i18n.NewTranslationSetFromConfig(app.Log, config.UserConfig.Gui.Language)
	if err != nil {
		return app, err
	}
	app.OSCommand = commands.NewOSCommand(app.Log, config)

	// here is the place to make use of the docker-compose.yml file in the current directory

	app.DockerCommand, err = commands.NewDockerCommand(app.Log, app.OSCommand, app.Tr, app.Config, app.ErrorChan)
	if err != nil {
		return app, err
	}
	app.closers = append(app.closers, app.DockerCommand)
	app.Gui, err = gui.NewGui(app.Log, app.DockerCommand, app.OSCommand, app.Tr, config, app.ErrorChan)
	if err != nil {
		return app, err
	}
	return app, nil
}

func (app *App) Run() error {
	return app.Gui.Run()
}

func (app *App) Close() error {
	return utils.CloseMany(app.closers)
}

type errorMapping struct {
	originalError string
	newError      string
}

// KnownError takes an error and tells us whether it's an error that we know about where we can print a nicely formatted version of it rather than panicking with a stack trace
func (app *App) KnownError(err error) (string, bool) {
	errorMessage := err.Error()

	mappings := []errorMapping{
		{
			originalError: "Got permission denied while trying to connect to the Docker daemon socket",
			newError:      app.Tr.CannotAccessDockerSocketError,
		},
	}

	for _, mapping := range mappings {
		if strings.Contains(errorMessage, mapping.originalError) {
			return mapping.newError, true
		}
	}

	return "", false
}
</file>

<file path="pkg/cheatsheet/generate.go">
// This "script" generates a file called Keybindings_{{.LANG}}.md
// in current working directory.
//
// The content of this generated file is a keybindings cheatsheet.
//
// To generate cheatsheet in english run:
//   LANG=en go run scripts/cheatsheet/main.go generate

package cheatsheet

import (
	"fmt"
	"log"
	"os"

	"github.com/jesseduffield/lazydocker/pkg/app"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui"
	"github.com/jesseduffield/lazydocker/pkg/i18n"
)

const (
	generateCheatsheetCmd = "go run scripts/cheatsheet/main.go generate"
)

type bindingSection struct {
	title    string
	bindings []*gui.Binding
}

func Generate() {
	generateAtDir(GetKeybindingsDir())
}

func generateAtDir(dir string) {
	mConfig, err := config.NewAppConfig("lazydocker", "", "", "", "", true, nil, "")
	if err != nil {
		panic(err)
	}

	for lang := range i18n.GetTranslationSets() {
		os.Setenv("LC_ALL", lang)
		mApp, _ := app.NewApp(mConfig)
		mApp.Gui.SetupFakeGui()

		file, err := os.Create(dir + "/Keybindings_" + lang + ".md")
		if err != nil {
			panic(err)
		}

		bindingSections := getBindingSections(mApp)
		content := formatSections(mApp, bindingSections)
		content = fmt.Sprintf(
			"_This file is auto-generated. To update, make the changes in the "+
				"pkg/i18n directory and then run `%s` from the project root._\n\n%s",
			generateCheatsheetCmd,
			content,
		)
		writeString(file, content)
	}
}

func writeString(file *os.File, str string) {
	_, err := file.WriteString(str)
	if err != nil {
		log.Fatal(err)
	}
}

func formatTitle(title string) string {
	return fmt.Sprintf("\n## %s\n\n", title)
}

func formatBinding(binding *gui.Binding) string {
	return fmt.Sprintf("  <kbd>%s</kbd>: %s\n", binding.GetKey(), binding.Description)
}

func getBindingSections(mApp *app.App) []*bindingSection {
	bindingSections := []*bindingSection{}

	for _, binding := range mApp.Gui.GetInitialKeybindings() {
		if binding.Description == "" {
			continue
		}

		viewName := binding.ViewName
		if viewName == "" {
			viewName = "global"
		}

		titleMap := map[string]string{
			"global":     mApp.Tr.GlobalTitle,
			"main":       mApp.Tr.MainTitle,
			"project":    mApp.Tr.ProjectTitle,
			"services":   mApp.Tr.ServicesTitle,
			"containers": mApp.Tr.ContainersTitle,
			"images":     mApp.Tr.ImagesTitle,
			"volumes":    mApp.Tr.VolumesTitle,
			"networks":   mApp.Tr.NetworksTitle,
		}

		bindingSections = addBinding(titleMap[viewName], bindingSections, binding)
	}

	return bindingSections
}

func addBinding(title string, bindingSections []*bindingSection, binding *gui.Binding) []*bindingSection {
	if binding.Description == "" {
		return bindingSections
	}

	for _, section := range bindingSections {
		if title == section.title {
			section.bindings = append(section.bindings, binding)
			return bindingSections
		}
	}

	section := &bindingSection{
		title:    title,
		bindings: []*gui.Binding{binding},
	}

	return append(bindingSections, section)
}

func formatSections(mApp *app.App, bindingSections []*bindingSection) string {
	content := fmt.Sprintf("# Lazydocker %s\n", mApp.Tr.Menu)

	for _, section := range bindingSections {
		content += formatTitle(section.title)
		content += "<pre>\n"
		for _, binding := range section.bindings {
			content += formatBinding(binding)
		}
		content += "</pre>\n"
	}

	return content
}
</file>

<file path="pkg/cheatsheet/validate.go">
package cheatsheet

import (
	"fmt"
	"io/fs"
	"log"
	"os"
	"path/filepath"
	"regexp"

	"github.com/jesseduffield/lazycore/pkg/utils"
	"github.com/pmezard/go-difflib/difflib"
)

func Check() {
	dir := GetKeybindingsDir()
	tmpDir := filepath.Join(os.TempDir(), "lazydocker_cheatsheet")

	err := os.RemoveAll(tmpDir)
	if err != nil {
		log.Fatalf("Error occurred while checking if cheatsheets are up to date: %v", err)
	}
	defer os.RemoveAll(tmpDir)

	if err = os.Mkdir(tmpDir, 0o700); err != nil {
		log.Fatalf("Error occurred while checking if cheatsheets are up to date: %v", err)
	}

	generateAtDir(tmpDir)

	actualContent := obtainContent(dir)
	expectedContent := obtainContent(tmpDir)

	if expectedContent == "" {
		log.Fatal("empty expected content")
	}

	if actualContent != expectedContent {
		if err := difflib.WriteUnifiedDiff(os.Stdout, difflib.UnifiedDiff{
			A:        difflib.SplitLines(expectedContent),
			B:        difflib.SplitLines(actualContent),
			FromFile: "Expected",
			FromDate: "",
			ToFile:   "Actual",
			ToDate:   "",
			Context:  1,
		}); err != nil {
			log.Fatalf("Error occurred while checking if cheatsheets are up to date: %v", err)
		}
		fmt.Printf(
			"\nCheatsheets are out of date. Please run `%s` at the project root and commit the changes. "+
				"If you run the script and no keybindings files are updated as a result, try rebasing onto master"+
				"and trying again.\n",
			generateCheatsheetCmd,
		)
		os.Exit(1)
	}

	fmt.Println("\nCheatsheets are up to date")
}

func GetKeybindingsDir() string {
	return utils.GetLazyRootDirectory() + "/docs/keybindings"
}

func obtainContent(dir string) string {
	re := regexp.MustCompile(`Keybindings_\w+\.md$`)

	content := ""
	err := filepath.WalkDir(dir, func(path string, d fs.DirEntry, err error) error {
		if re.MatchString(path) {
			bytes, err := os.ReadFile(path)
			if err != nil {
				log.Fatalf("Error occurred while checking if cheatsheets are up to date: %v", err)
			}
			content += fmt.Sprintf("\n%s\n\n", filepath.Base(path))
			content += string(bytes)
		}

		return nil
	})
	if err != nil {
		log.Fatalf("Error occurred while checking if cheatsheets are up to date: %v", err)
	}

	return content
}
</file>

<file path="pkg/commands/ssh/ssh_test.go">
package ssh

import (
	"context"
	"io"
	"os/exec"
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestSSHHandlerHandleSSHDockerHost(t *testing.T) {
	type scenario struct {
		testName                 string
		envVarValue              string
		expectedDialContextCount int
		expectedStartCmdCount    int
	}

	scenarios := []scenario{
		{
			testName:                 "No env var set",
			envVarValue:              "",
			expectedDialContextCount: 0,
			expectedStartCmdCount:    0,
		},
		{
			testName:                 "Env var set with https scheme",
			envVarValue:              "https://myhost.com",
			expectedStartCmdCount:    0,
			expectedDialContextCount: 0,
		},
		{
			testName:                 "Env var set with ssh scheme",
			envVarValue:              "ssh://myhost@192.168.5.178",
			expectedStartCmdCount:    1,
			expectedDialContextCount: 1,
		},
	}

	for _, s := range scenarios {
		s := s
		t.Run(s.testName, func(t *testing.T) {
			getenv := func(key string) string {
				if key != "DOCKER_HOST" {
					t.Errorf("Expected key to be DOCKER_HOST, got %s", key)
				}

				return s.envVarValue
			}

			tempDir := func(dir string, pattern string) (string, error) {
				assert.Equal(t, "/tmp", dir)
				assert.Equal(t, "lazydocker-sshtunnel-", pattern)

				return "/tmp/lazydocker-ssh-tunnel-12345", nil
			}

			setenv := func(key, value string) error {
				assert.Equal(t, "DOCKER_HOST", key)
				assert.Equal(t, "unix:///tmp/lazydocker-ssh-tunnel-12345/dockerhost.sock", value)
				return nil
			}

			startCmdCount := 0
			startCmd := func(cmd *exec.Cmd) error {
				assert.EqualValues(t, []string{"ssh", "-L", "/tmp/lazydocker-ssh-tunnel-12345/dockerhost.sock:/var/run/docker.sock", "192.168.5.178", "-N"}, cmd.Args)

				startCmdCount++

				return nil
			}

			dialContextCount := 0
			dialContext := func(ctx context.Context, network string, address string) (io.Closer, error) {
				assert.Equal(t, "unix", network)
				assert.Equal(t, "/tmp/lazydocker-ssh-tunnel-12345/dockerhost.sock", address)

				dialContextCount++

				return noopCloser{}, nil
			}

			handler := &SSHHandler{
				oSCommand: &fakeCmdKiller{},

				dialContext: dialContext,
				startCmd:    startCmd,
				tempDir:     tempDir,
				getenv:      getenv,
				setenv:      setenv,
			}

			_, err := handler.HandleSSHDockerHost()
			assert.NoError(t, err)

			assert.Equal(t, s.expectedDialContextCount, dialContextCount)
			assert.Equal(t, s.expectedStartCmdCount, startCmdCount)
		})
	}
}

type fakeCmdKiller struct{}

func (self *fakeCmdKiller) Kill(cmd *exec.Cmd) error {
	return nil
}

func (self *fakeCmdKiller) PrepareForChildren(cmd *exec.Cmd) {}
</file>

<file path="pkg/commands/ssh/ssh.go">
package ssh

import (
	"context"
	"fmt"
	"io"
	"net"
	"net/url"
	"os"
	"os/exec"
	"path"
	"time"
)

// we only need these two methods from our OSCommand struct, for killing commands
type CmdKiller interface {
	Kill(cmd *exec.Cmd) error
	PrepareForChildren(cmd *exec.Cmd)
}

type SSHHandler struct {
	oSCommand CmdKiller

	dialContext func(ctx context.Context, network, addr string) (io.Closer, error)
	startCmd    func(*exec.Cmd) error
	tempDir     func(dir string, pattern string) (name string, err error)
	getenv      func(key string) string
	setenv      func(key, value string) error
}

func NewSSHHandler(oSCommand CmdKiller) *SSHHandler {
	return &SSHHandler{
		oSCommand: oSCommand,

		dialContext: func(ctx context.Context, network, addr string) (io.Closer, error) {
			return (&net.Dialer{}).DialContext(ctx, network, addr)
		},
		startCmd: func(cmd *exec.Cmd) error { return cmd.Start() },
		tempDir:  os.MkdirTemp,
		getenv:   os.Getenv,
		setenv:   os.Setenv,
	}
}

// HandleSSHDockerHost overrides the DOCKER_HOST environment variable
// to point towards a local unix socket tunneled over SSH to the specified ssh host.
func (self *SSHHandler) HandleSSHDockerHost() (io.Closer, error) {
	const key = "DOCKER_HOST"
	ctx := context.Background()
	u, err := url.Parse(self.getenv(key))
	if err != nil {
		// if no or an invalid docker host is specified, continue nominally
		return noopCloser{}, nil
	}

	// if the docker host scheme is "ssh", forward the docker socket before creating the client
	if u.Scheme == "ssh" {
		tunnel, err := self.createDockerHostTunnel(ctx, u.Host)
		if err != nil {
			return noopCloser{}, fmt.Errorf("tunnel ssh docker host: %w", err)
		}
		err = self.setenv(key, tunnel.socketPath)
		if err != nil {
			return noopCloser{}, fmt.Errorf("override DOCKER_HOST to tunneled socket: %w", err)
		}

		return tunnel, nil
	}
	return noopCloser{}, nil
}

type noopCloser struct{}

func (noopCloser) Close() error { return nil }

type tunneledDockerHost struct {
	socketPath string
	cmd        *exec.Cmd
	oSCommand  CmdKiller
}

var _ io.Closer = (*tunneledDockerHost)(nil)

func (t *tunneledDockerHost) Close() error {
	return t.oSCommand.Kill(t.cmd)
}

func (self *SSHHandler) createDockerHostTunnel(ctx context.Context, remoteHost string) (*tunneledDockerHost, error) {
	socketDir, err := self.tempDir("/tmp", "lazydocker-sshtunnel-")
	if err != nil {
		return nil, fmt.Errorf("create ssh tunnel tmp file: %w", err)
	}
	localSocket := path.Join(socketDir, "dockerhost.sock")

	cmd, err := self.tunnelSSH(ctx, remoteHost, localSocket)
	if err != nil {
		return nil, fmt.Errorf("tunnel docker host over ssh: %w", err)
	}

	// set a reasonable timeout, then wait for the socket to dial successfully
	// before attempting to create a new docker client
	const socketTunnelTimeout = 8 * time.Second
	ctx, cancel := context.WithTimeout(ctx, socketTunnelTimeout)
	defer cancel()

	err = self.retrySocketDial(ctx, localSocket)
	if err != nil {
		return nil, fmt.Errorf("ssh tunneled socket never became available: %w", err)
	}

	// construct the new DOCKER_HOST url with the proper scheme
	newDockerHostURL := url.URL{Scheme: "unix", Path: localSocket}
	return &tunneledDockerHost{
		socketPath: newDockerHostURL.String(),
		cmd:        cmd,
		oSCommand:  self.oSCommand,
	}, nil
}

// Attempt to dial the socket until it becomes available.
// The retry loop will continue until the parent context is canceled.
func (self *SSHHandler) retrySocketDial(ctx context.Context, socketPath string) error {
	t := time.NewTicker(1 * time.Second)
	defer t.Stop()

	for {
		select {
		case <-ctx.Done():
			return ctx.Err()
		case <-t.C:
		}
		// attempt to dial the socket, exit on success
		err := self.tryDial(ctx, socketPath)
		if err != nil {
			continue
		}
		return nil
	}
}

// Try to dial the specified unix socket, immediately close the connection if successfully created.
func (self *SSHHandler) tryDial(ctx context.Context, socketPath string) error {
	conn, err := self.dialContext(ctx, "unix", socketPath)
	if err != nil {
		return err
	}
	defer conn.Close()
	return nil
}

func (self *SSHHandler) tunnelSSH(ctx context.Context, host, localSocket string) (*exec.Cmd, error) {
	cmd := exec.CommandContext(ctx, "ssh", "-L", localSocket+":/var/run/docker.sock", host, "-N")
	self.oSCommand.PrepareForChildren(cmd)
	err := self.startCmd(cmd)
	if err != nil {
		return nil, err
	}
	return cmd, nil
}
</file>

<file path="pkg/commands/container_stats_test.go">
package commands

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestCalculateContainerCPUPercentage(t *testing.T) {
	container := &ContainerStats{}
	container.CPUStats.CPUUsage.TotalUsage = 10
	container.CPUStats.SystemCPUUsage = 10
	container.PrecpuStats.CPUUsage.TotalUsage = 5
	container.PrecpuStats.SystemCPUUsage = 2

	assert.EqualValues(t, 62.5, container.CalculateContainerCPUPercentage())
}
</file>

<file path="pkg/commands/container_stats.go">
package commands

import (
	"math"
	"time"
)

// RecordedStats contains both the container stats we've received from docker, and our own derived stats  from those container stats. When configuring a graph, you're basically specifying the path of a value in this struct
type RecordedStats struct {
	ClientStats  ContainerStats
	DerivedStats DerivedStats
	RecordedAt   time.Time
}

// DerivedStats contains some useful stats that we've calculated based on the raw container stats that we got back from docker
type DerivedStats struct {
	CPUPercentage    float64
	MemoryPercentage float64
}

// ContainerStats autogenerated at https://mholt.github.io/json-to-go/
type ContainerStats struct {
	Read      time.Time `json:"read"`
	Preread   time.Time `json:"preread"`
	PidsStats struct {
		Current int `json:"current"`
	} `json:"pids_stats"`
	BlkioStats struct {
		IoServiceBytesRecursive []struct {
			Major int    `json:"major"`
			Minor int    `json:"minor"`
			Op    string `json:"op"`
			Value int    `json:"value"`
		} `json:"io_service_bytes_recursive"`
		IoServicedRecursive []struct {
			Major int    `json:"major"`
			Minor int    `json:"minor"`
			Op    string `json:"op"`
			Value int    `json:"value"`
		} `json:"io_serviced_recursive"`
		IoQueueRecursive       []interface{} `json:"io_queue_recursive"`
		IoServiceTimeRecursive []interface{} `json:"io_service_time_recursive"`
		IoWaitTimeRecursive    []interface{} `json:"io_wait_time_recursive"`
		IoMergedRecursive      []interface{} `json:"io_merged_recursive"`
		IoTimeRecursive        []interface{} `json:"io_time_recursive"`
		SectorsRecursive       []interface{} `json:"sectors_recursive"`
	} `json:"blkio_stats"`
	NumProcs     int      `json:"num_procs"`
	StorageStats struct{} `json:"storage_stats"`
	CPUStats     struct {
		CPUUsage struct {
			TotalUsage        int64   `json:"total_usage"`
			PercpuUsage       []int64 `json:"percpu_usage"`
			UsageInKernelmode int64   `json:"usage_in_kernelmode"`
			UsageInUsermode   int64   `json:"usage_in_usermode"`
		} `json:"cpu_usage"`
		SystemCPUUsage int64 `json:"system_cpu_usage"`
		OnlineCpus     int   `json:"online_cpus"`
		ThrottlingData struct {
			Periods          int `json:"periods"`
			ThrottledPeriods int `json:"throttled_periods"`
			ThrottledTime    int `json:"throttled_time"`
		} `json:"throttling_data"`
	} `json:"cpu_stats"`
	PrecpuStats struct {
		CPUUsage struct {
			TotalUsage        int64   `json:"total_usage"`
			PercpuUsage       []int64 `json:"percpu_usage"`
			UsageInKernelmode int64   `json:"usage_in_kernelmode"`
			UsageInUsermode   int64   `json:"usage_in_usermode"`
		} `json:"cpu_usage"`
		SystemCPUUsage int64 `json:"system_cpu_usage"`
		OnlineCpus     int   `json:"online_cpus"`
		ThrottlingData struct {
			Periods          int `json:"periods"`
			ThrottledPeriods int `json:"throttled_periods"`
			ThrottledTime    int `json:"throttled_time"`
		} `json:"throttling_data"`
	} `json:"precpu_stats"`
	MemoryStats struct {
		Usage    int `json:"usage"`
		MaxUsage int `json:"max_usage"`
		Stats    struct {
			ActiveAnon              int   `json:"active_anon"`
			ActiveFile              int   `json:"active_file"`
			Cache                   int   `json:"cache"`
			Dirty                   int   `json:"dirty"`
			HierarchicalMemoryLimit int64 `json:"hierarchical_memory_limit"`
			HierarchicalMemswLimit  int64 `json:"hierarchical_memsw_limit"`
			InactiveAnon            int   `json:"inactive_anon"`
			InactiveFile            int   `json:"inactive_file"`
			MappedFile              int   `json:"mapped_file"`
			Pgfault                 int   `json:"pgfault"`
			Pgmajfault              int   `json:"pgmajfault"`
			Pgpgin                  int   `json:"pgpgin"`
			Pgpgout                 int   `json:"pgpgout"`
			Rss                     int   `json:"rss"`
			RssHuge                 int   `json:"rss_huge"`
			TotalActiveAnon         int   `json:"total_active_anon"`
			TotalActiveFile         int   `json:"total_active_file"`
			TotalCache              int   `json:"total_cache"`
			TotalDirty              int   `json:"total_dirty"`
			TotalInactiveAnon       int   `json:"total_inactive_anon"`
			TotalInactiveFile       int   `json:"total_inactive_file"`
			TotalMappedFile         int   `json:"total_mapped_file"`
			TotalPgfault            int   `json:"total_pgfault"`
			TotalPgmajfault         int   `json:"total_pgmajfault"`
			TotalPgpgin             int   `json:"total_pgpgin"`
			TotalPgpgout            int   `json:"total_pgpgout"`
			TotalRss                int   `json:"total_rss"`
			TotalRssHuge            int   `json:"total_rss_huge"`
			TotalUnevictable        int   `json:"total_unevictable"`
			TotalWriteback          int   `json:"total_writeback"`
			Unevictable             int   `json:"unevictable"`
			Writeback               int   `json:"writeback"`
		} `json:"stats"`
		Limit int64 `json:"limit"`
	} `json:"memory_stats"`
	Name     string `json:"name"`
	ID       string `json:"id"`
	Networks struct {
		Eth0 struct {
			RxBytes   int `json:"rx_bytes"`
			RxPackets int `json:"rx_packets"`
			RxErrors  int `json:"rx_errors"`
			RxDropped int `json:"rx_dropped"`
			TxBytes   int `json:"tx_bytes"`
			TxPackets int `json:"tx_packets"`
			TxErrors  int `json:"tx_errors"`
			TxDropped int `json:"tx_dropped"`
		} `json:"eth0"`
	} `json:"networks"`
}

// CalculateContainerCPUPercentage calculates the cpu usage of the container as a percent of total CPU usage
// to calculate CPU usage, we take the increase in CPU time from the container since the last poll, divide that by the total increase in CPU time since the last poll, times by the number of cores, and times by 100 to get a percentage
// I'm not entirely sure why we need to multiply by the number of cores, but the numbers work
func (s *ContainerStats) CalculateContainerCPUPercentage() float64 {
	cpuUsageDelta := s.CPUStats.CPUUsage.TotalUsage - s.PrecpuStats.CPUUsage.TotalUsage
	cpuTotalUsageDelta := s.CPUStats.SystemCPUUsage - s.PrecpuStats.SystemCPUUsage

	value := float64(cpuUsageDelta*100) / float64(cpuTotalUsageDelta)
	if math.IsNaN(value) {
		return 0
	}
	return value
}

// CalculateContainerMemoryUsage calculates the memory usage of the container as a percent of total available memory
func (s *ContainerStats) CalculateContainerMemoryUsage() float64 {
	value := float64(s.MemoryStats.Usage*100) / float64(s.MemoryStats.Limit)
	if math.IsNaN(value) {
		return 0
	}
	return value
}

func (c *Container) appendStats(stats *RecordedStats, maxDuration time.Duration) {
	c.StatsMutex.Lock()
	defer c.StatsMutex.Unlock()

	c.StatHistory = append(c.StatHistory, stats)
	c.eraseOldHistory(maxDuration)
}

// eraseOldHistory removes any history before the user-specified max duration
func (c *Container) eraseOldHistory(maxDuration time.Duration) {
	if maxDuration == 0 {
		return
	}

	for i, stat := range c.StatHistory {
		if time.Since(stat.RecordedAt) < maxDuration {
			c.StatHistory = c.StatHistory[i:]
			return
		}
	}
}

func (c *Container) GetLastStats() (*RecordedStats, bool) {
	c.StatsMutex.Lock()
	defer c.StatsMutex.Unlock()
	history := c.StatHistory
	if len(history) == 0 {
		return nil, false
	}
	return history[len(history)-1], true
}
</file>

<file path="pkg/commands/container.go">
package commands

import (
	"context"
	"fmt"
	"os/exec"
	"strings"

	"github.com/docker/docker/api/types/container"
	"github.com/docker/docker/api/types/filters"
	"github.com/docker/docker/client"
	"github.com/go-errors/errors"
	"github.com/jesseduffield/lazydocker/pkg/i18n"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/sasha-s/go-deadlock"
	"github.com/sirupsen/logrus"
	"golang.org/x/xerrors"
)

// Container : A docker Container
type Container struct {
	Name            string
	ServiceName     string
	ContainerNumber string // might make this an int in the future if need be

	// OneOff tells us if the container is just a job container or is actually bound to the service
	OneOff          bool
	ProjectName     string
	ID              string
	Container       container.Summary
	Client          *client.Client
	OSCommand       *OSCommand
	Log             *logrus.Entry
	StatHistory     []*RecordedStats
	Details         container.InspectResponse
	MonitoringStats bool
	DockerCommand   LimitedDockerCommand
	Tr              *i18n.TranslationSet

	StatsMutex deadlock.Mutex
}

// Remove removes the container
func (c *Container) Remove(options container.RemoveOptions) error {
	c.Log.Warn(fmt.Sprintf("removing container %s", c.Name))
	if err := c.Client.ContainerRemove(context.Background(), c.ID, options); err != nil {
		if strings.Contains(err.Error(), "Stop the container before attempting removal or force remove") {
			return ComplexError{
				Code:    MustStopContainer,
				Message: err.Error(),
				frame:   xerrors.Caller(1),
			}
		}
		return err
	}

	return nil
}

// Stop stops the container
func (c *Container) Stop() error {
	c.Log.Warn(fmt.Sprintf("stopping container %s", c.Name))
	return c.Client.ContainerStop(context.Background(), c.ID, container.StopOptions{})
}

// Pause pauses the container
func (c *Container) Pause() error {
	c.Log.Warn(fmt.Sprintf("pausing container %s", c.Name))
	return c.Client.ContainerPause(context.Background(), c.ID)
}

// Unpause unpauses the container
func (c *Container) Unpause() error {
	c.Log.Warn(fmt.Sprintf("unpausing container %s", c.Name))
	return c.Client.ContainerUnpause(context.Background(), c.ID)
}

// Restart restarts the container
func (c *Container) Restart() error {
	c.Log.Warn(fmt.Sprintf("restarting container %s", c.Name))
	return c.Client.ContainerRestart(context.Background(), c.ID, container.StopOptions{})
}

// Attach attaches the container
func (c *Container) Attach() (*exec.Cmd, error) {
	if !c.DetailsLoaded() {
		return nil, errors.New(c.Tr.WaitingForContainerInfo)
	}

	// verify that we can in fact attach to this container
	if !c.Details.Config.OpenStdin {
		return nil, errors.New(c.Tr.UnattachableContainerError)
	}

	if c.Container.State == "exited" {
		return nil, errors.New(c.Tr.CannotAttachStoppedContainerError)
	}

	c.Log.Warn(fmt.Sprintf("attaching to container %s", c.Name))
	// TODO: use SDK
	cmd := c.OSCommand.NewCmd("docker", "attach", "--sig-proxy=false", c.ID)
	return cmd, nil
}

// Top returns process information
func (c *Container) Top(ctx context.Context) (container.TopResponse, error) {
	detail, err := c.Inspect()
	if err != nil {
		return container.TopResponse{}, err
	}

	// check container status
	if !detail.State.Running {
		return container.TopResponse{}, errors.New("container is not running")
	}

	return c.Client.ContainerTop(ctx, c.ID, []string{})
}

// PruneContainers prunes containers
func (c *DockerCommand) PruneContainers() error {
	_, err := c.Client.ContainersPrune(context.Background(), filters.Args{})
	return err
}

// Inspect returns details about the container
func (c *Container) Inspect() (container.InspectResponse, error) {
	return c.Client.ContainerInspect(context.Background(), c.ID)
}

// RenderTop returns details about the container
func (c *Container) RenderTop(ctx context.Context) (string, error) {
	result, err := c.Top(ctx)
	if err != nil {
		return "", err
	}

	return utils.RenderTable(append([][]string{result.Titles}, result.Processes...))
}

// DetailsLoaded tells us whether we have yet loaded the details for a container.
// Sometimes it takes some time for a container to have its details loaded
// after it starts.
func (c *Container) DetailsLoaded() bool {
	return c.Details.ContainerJSONBase != nil
}
</file>

<file path="pkg/commands/docker_host_unix.go">
//go:build !windows

package commands

const (
	defaultDockerHost = "unix:///var/run/docker.sock"
)
</file>

<file path="pkg/commands/docker_host_windows.go">
package commands

const (
	defaultDockerHost = "npipe:////./pipe/docker_engine"
)
</file>

<file path="pkg/commands/docker_test.go">
package commands

import (
	"os"
	"testing"

	"github.com/docker/docker/client"
	"github.com/stretchr/testify/assert"
)

// TestNewDockerClientVersionNegotiation verifies that newDockerClient allows
// API version negotiation even when DOCKER_API_VERSION is set.
//
// This is a regression test for https://github.com/jesseduffield/lazydocker/issues/715
// where users got "client version 1.25 is too old" errors because FromEnv()
// includes WithVersionFromEnv() which sets manualOverride=true, preventing
// API version negotiation.
func TestNewDockerClientVersionNegotiation(t *testing.T) {
	// Save original env var and restore after test
	originalAPIVersion := os.Getenv("DOCKER_API_VERSION")
	defer func() {
		if originalAPIVersion == "" {
			os.Unsetenv("DOCKER_API_VERSION")
		} else {
			os.Setenv("DOCKER_API_VERSION", originalAPIVersion)
		}
	}()

	// Set DOCKER_API_VERSION to an old version that would cause
	// "client version 1.25 is too old" errors if negotiation is disabled
	os.Setenv("DOCKER_API_VERSION", "1.25")

	t.Run("FromEnv locks version preventing negotiation", func(t *testing.T) {
		// This demonstrates the problematic behavior we're avoiding.
		// When using FromEnv with DOCKER_API_VERSION set, the client
		// version gets locked to 1.25 and negotiation is disabled.
		cli, err := client.NewClientWithOpts(
			client.FromEnv,
			client.WithAPIVersionNegotiation(),
		)
		assert.NoError(t, err)
		defer cli.Close()

		// Version is locked to the env var value
		assert.Equal(t, "1.25", cli.ClientVersion())
	})

	t.Run("newDockerClient allows version negotiation", func(t *testing.T) {
		// Test the actual production function.
		// Use DefaultDockerHost for cross-platform compatibility
		// (unix socket on Linux/macOS, named pipe on Windows).
		cli, err := newDockerClient(client.DefaultDockerHost)
		assert.NoError(t, err)
		defer cli.Close()

		// Version is NOT locked to the env var value (1.25).
		// Instead, it uses the library's default version and will negotiate
		// with the server on first request. This is the key difference that
		// fixes the "version too old" error.
		assert.NotEqual(t, "1.25", cli.ClientVersion(),
			"client version should not be locked to DOCKER_API_VERSION env var")
	})
}
</file>

<file path="pkg/commands/docker.go">
package commands

import (
	"bufio"
	"context"
	"encoding/json"
	"fmt"
	"io"
	ogLog "log"
	"os"
	"os/exec"
	"strings"
	"sync"
	"time"

	cliconfig "github.com/docker/cli/cli/config"
	ddocker "github.com/docker/cli/cli/context/docker"
	ctxstore "github.com/docker/cli/cli/context/store"
	"github.com/docker/docker/api/types/container"
	"github.com/docker/docker/client"
	"github.com/imdario/mergo"
	"github.com/jesseduffield/lazydocker/pkg/commands/ssh"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/i18n"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/sasha-s/go-deadlock"
	"github.com/sirupsen/logrus"
)

const (
	dockerHostEnvKey = "DOCKER_HOST"
)

// DockerCommand is our main docker interface
type DockerCommand struct {
	Log                    *logrus.Entry
	OSCommand              *OSCommand
	Tr                     *i18n.TranslationSet
	Config                 *config.AppConfig
	Client                 *client.Client
	InDockerComposeProject bool
	ErrorChan              chan error
	ContainerMutex         deadlock.Mutex
	ServiceMutex           deadlock.Mutex

	Closers []io.Closer
}

var _ io.Closer = &DockerCommand{}

// LimitedDockerCommand is a stripped-down DockerCommand with just the methods the container/service/image might need
type LimitedDockerCommand interface {
	NewCommandObject(CommandObject) CommandObject
}

// CommandObject is what we pass to our template resolvers when we are running a custom command. We do not guarantee that all fields will be populated: just the ones that make sense for the current context
type CommandObject struct {
	DockerCompose string
	Service       *Service
	Container     *Container
	Image         *Image
	Volume        *Volume
	Network       *Network
}

// NewCommandObject takes a command object and returns a default command object with the passed command object merged in
func (c *DockerCommand) NewCommandObject(obj CommandObject) CommandObject {
	defaultObj := CommandObject{DockerCompose: c.Config.UserConfig.CommandTemplates.DockerCompose}
	_ = mergo.Merge(&defaultObj, obj)
	return defaultObj
}

// newDockerClient creates a Docker client with the given host.
// We avoid using client.FromEnv because it includes WithVersionFromEnv() which
// sets manualOverride=true when DOCKER_API_VERSION is set, preventing API version
// negotiation even when WithAPIVersionNegotiation() is specified.
// Instead, we explicitly configure only what we need, and rely on proper
// API version negotiation to support older Docker daemons.
// See https://github.com/jesseduffield/lazydocker/issues/715
func newDockerClient(dockerHost string) (*client.Client, error) {
	return client.NewClientWithOpts(
		client.WithTLSClientConfigFromEnv(),
		client.WithAPIVersionNegotiation(),
		client.WithHost(dockerHost),
	)
}

// NewDockerCommand it runs docker commands
func NewDockerCommand(log *logrus.Entry, osCommand *OSCommand, tr *i18n.TranslationSet, config *config.AppConfig, errorChan chan error) (*DockerCommand, error) {
	dockerHost, err := determineDockerHost()
	if err != nil {
		ogLog.Printf("> could not determine host %v", err)
	}

	// NOTE: Inject the determined docker host to the environment. This allows the
	//       `SSHHandler.HandleSSHDockerHost()` to create a local unix socket tunneled
	//       over SSH to the specified ssh host.
	if strings.HasPrefix(dockerHost, "ssh://") {
		os.Setenv(dockerHostEnvKey, dockerHost)
	}

	tunnelCloser, err := ssh.NewSSHHandler(osCommand).HandleSSHDockerHost()
	if err != nil {
		ogLog.Fatal(err)
	}

	// Retrieve the docker host from the environment which could have been set by
	// the `SSHHandler.HandleSSHDockerHost()` and override `dockerHost`.
	dockerHostFromEnv := os.Getenv(dockerHostEnvKey)
	if dockerHostFromEnv != "" {
		dockerHost = dockerHostFromEnv
	}

	cli, err := newDockerClient(dockerHost)
	if err != nil {
		ogLog.Fatal(err)
	}

	dockerCommand := &DockerCommand{
		Log:                    log,
		OSCommand:              osCommand,
		Tr:                     tr,
		Config:                 config,
		Client:                 cli,
		ErrorChan:              errorChan,
		InDockerComposeProject: true,
		Closers:                []io.Closer{tunnelCloser},
	}

	dockerCommand.setDockerComposeCommand(config)

	err = osCommand.RunCommand(
		utils.ApplyTemplate(
			config.UserConfig.CommandTemplates.CheckDockerComposeConfig,
			dockerCommand.NewCommandObject(CommandObject{}),
		),
	)
	if err != nil {
		dockerCommand.InDockerComposeProject = false
		log.Warn(err.Error())
	}

	return dockerCommand, nil
}

func (c *DockerCommand) setDockerComposeCommand(config *config.AppConfig) {
	if config.UserConfig.CommandTemplates.DockerCompose != "docker compose" {
		return
	}

	// it's possible that a user is still using docker-compose, so we'll check if 'docker comopose' is available, and if not, we'll fall back to 'docker-compose'
	err := c.OSCommand.RunCommand("docker compose version")
	if err != nil {
		config.UserConfig.CommandTemplates.DockerCompose = "docker-compose"
	}
}

func (c *DockerCommand) Close() error {
	return utils.CloseMany(c.Closers)
}

func (c *DockerCommand) CreateClientStatMonitor(container *Container) {
	container.MonitoringStats = true
	stream, err := c.Client.ContainerStats(context.Background(), container.ID, true)
	if err != nil {
		// not creating error panel because if we've disconnected from docker we'll
		// have already created an error panel
		c.Log.Error(err)
		container.MonitoringStats = false
		return
	}

	defer stream.Body.Close()

	scanner := bufio.NewScanner(stream.Body)
	for scanner.Scan() {
		data := scanner.Bytes()
		var stats ContainerStats
		_ = json.Unmarshal(data, &stats)

		recordedStats := &RecordedStats{
			ClientStats: stats,
			DerivedStats: DerivedStats{
				CPUPercentage:    stats.CalculateContainerCPUPercentage(),
				MemoryPercentage: stats.CalculateContainerMemoryUsage(),
			},
			RecordedAt: time.Now(),
		}

		container.appendStats(recordedStats, c.Config.UserConfig.Stats.MaxDuration)
	}

	container.MonitoringStats = false
}

func (c *DockerCommand) RefreshContainersAndServices(currentServices []*Service, currentContainers []*Container) ([]*Container, []*Service, error) {
	c.ServiceMutex.Lock()
	defer c.ServiceMutex.Unlock()

	containers, err := c.GetContainers(currentContainers)
	if err != nil {
		return nil, nil, err
	}

	var services []*Service
	// we only need to get these services once because they won't change in the runtime of the program
	if currentServices != nil {
		services = currentServices
	} else {
		services, err = c.GetServices()
		if err != nil {
			return nil, nil, err
		}
	}

	c.assignContainersToServices(containers, services)

	return containers, services, nil
}

func (c *DockerCommand) assignContainersToServices(containers []*Container, services []*Service) {
L:
	for _, service := range services {
		for _, ctr := range containers {
			if !ctr.OneOff && ctr.ServiceName == service.Name {
				service.Container = ctr
				continue L
			}
		}
		service.Container = nil
	}
}

// GetContainers gets the docker containers
func (c *DockerCommand) GetContainers(existingContainers []*Container) ([]*Container, error) {
	c.ContainerMutex.Lock()
	defer c.ContainerMutex.Unlock()

	containers, err := c.Client.ContainerList(context.Background(), container.ListOptions{All: true})
	if err != nil {
		return nil, err
	}

	ownContainers := make([]*Container, len(containers))

	for i, ctr := range containers {
		var newContainer *Container

		// check if we already have data stored against the container
		for _, existingContainer := range existingContainers {
			if existingContainer.ID == ctr.ID {
				newContainer = existingContainer
				break
			}
		}

		// initialise the container if it's completely new
		if newContainer == nil {
			newContainer = &Container{
				ID:            ctr.ID,
				Client:        c.Client,
				OSCommand:     c.OSCommand,
				Log:           c.Log,
				DockerCommand: c,
				Tr:            c.Tr,
			}
		}

		newContainer.Container = ctr
		// if the container is made with a name label we will use that
		if name, ok := ctr.Labels["name"]; ok {
			newContainer.Name = name
		} else {
			if len(ctr.Names) > 0 {
				newContainer.Name = strings.TrimLeft(ctr.Names[0], "/")
			} else {
				newContainer.Name = ctr.ID
			}
		}
		newContainer.ServiceName = ctr.Labels["com.docker.compose.service"]
		newContainer.ProjectName = ctr.Labels["com.docker.compose.project"]
		newContainer.ContainerNumber = ctr.Labels["com.docker.compose.container"]
		newContainer.OneOff = ctr.Labels["com.docker.compose.oneoff"] == "True"

		ownContainers[i] = newContainer
	}

	c.SetContainerDetails(ownContainers)

	return ownContainers, nil
}

// GetServices gets services
func (c *DockerCommand) GetServices() ([]*Service, error) {
	if !c.InDockerComposeProject {
		return nil, nil
	}

	composeCommand := c.Config.UserConfig.CommandTemplates.DockerCompose
	output, err := c.OSCommand.RunCommandWithOutput(fmt.Sprintf("%s config --services", composeCommand))
	if err != nil {
		return nil, err
	}

	// output looks like:
	// service1
	// service2

	lines := utils.SplitLines(output)
	services := make([]*Service, len(lines))
	for i, str := range lines {
		services[i] = &Service{
			Name:          str,
			ID:            str,
			OSCommand:     c.OSCommand,
			Log:           c.Log,
			DockerCommand: c,
		}
	}

	return services, nil
}

func (c *DockerCommand) RefreshContainerDetails(containers []*Container) error {
	c.ContainerMutex.Lock()
	defer c.ContainerMutex.Unlock()

	c.SetContainerDetails(containers)

	return nil
}

// Attaches the details returned from docker inspect to each of the containers
// this contains a bit more info than what you get from the go-docker client
func (c *DockerCommand) SetContainerDetails(containers []*Container) {
	wg := sync.WaitGroup{}
	for _, ctr := range containers {
		ctr := ctr
		wg.Add(1)
		go func() {
			details, err := c.Client.ContainerInspect(context.Background(), ctr.ID)
			if err != nil {
				c.Log.Error(err)
			} else {
				ctr.Details = details
			}
			wg.Done()
		}()
	}
	wg.Wait()
}

// ViewAllLogs attaches to a subprocess viewing all the logs from docker-compose
func (c *DockerCommand) ViewAllLogs() (*exec.Cmd, error) {
	cmd := c.OSCommand.ExecutableFromString(
		utils.ApplyTemplate(
			c.OSCommand.Config.UserConfig.CommandTemplates.ViewAllLogs,
			c.NewCommandObject(CommandObject{}),
		),
	)

	c.OSCommand.PrepareForChildren(cmd)

	return cmd, nil
}

// DockerComposeConfig returns the result of 'docker-compose config'
func (c *DockerCommand) DockerComposeConfig() string {
	output, err := c.OSCommand.RunCommandWithOutput(
		utils.ApplyTemplate(
			c.OSCommand.Config.UserConfig.CommandTemplates.DockerComposeConfig,
			c.NewCommandObject(CommandObject{}),
		),
	)
	if err != nil {
		output = err.Error()
	}
	return output
}

// determineDockerHost tries to the determine the docker host that we should connect to
// in the following order of decreasing precedence:
//   - value of "DOCKER_HOST" environment variable
//   - host retrieved from the current context (specified via DOCKER_CONTEXT)
//   - "default docker host" for the host operating system, otherwise
func determineDockerHost() (string, error) {
	// If the docker host is explicitly set via the "DOCKER_HOST" environment variable,
	// then its a no-brainer :shrug:
	if os.Getenv("DOCKER_HOST") != "" {
		return os.Getenv("DOCKER_HOST"), nil
	}

	currentContext := os.Getenv("DOCKER_CONTEXT")
	if currentContext == "" {
		cf, err := cliconfig.Load(cliconfig.Dir())
		if err != nil {
			return "", err
		}
		currentContext = cf.CurrentContext
	}

	// On some systems (windows) `default` is stored in the docker config as the currentContext.
	if currentContext == "" || currentContext == "default" {
		// If a docker context is neither specified via the "DOCKER_CONTEXT" environment variable nor via the
		// $HOME/.docker/config file, then we fall back to connecting to the "default docker host" meant for
		// the host operating system.
		return defaultDockerHost, nil
	}

	storeConfig := ctxstore.NewConfig(
		func() interface{} { return &ddocker.EndpointMeta{} },
		ctxstore.EndpointTypeGetter(ddocker.DockerEndpoint, func() interface{} { return &ddocker.EndpointMeta{} }),
	)

	st := ctxstore.New(cliconfig.ContextStoreDir(), storeConfig)
	md, err := st.GetMetadata(currentContext)
	if err != nil {
		return "", err
	}
	dockerEP, ok := md.Endpoints[ddocker.DockerEndpoint]
	if !ok {
		return "", err
	}
	dockerEPMeta, ok := dockerEP.(ddocker.EndpointMeta)
	if !ok {
		return "", fmt.Errorf("expected docker.EndpointMeta, got %T", dockerEP)
	}

	if dockerEPMeta.Host != "" {
		return dockerEPMeta.Host, nil
	}

	// We might end up here, if the context was created with the `host` set to an empty value (i.e. '').
	// For example:
	// ```sh
	// docker context create foo --docker "host="
	// ```
	// In such scenario, we mimic the `docker` cli and try to connect to the "default docker host".
	return defaultDockerHost, nil
}
</file>

<file path="pkg/commands/dummies.go">
package commands

import (
	"io"

	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/i18n"
	"github.com/sirupsen/logrus"
)

// This file exports dummy constructors for use by tests in other packages

// NewDummyOSCommand creates a new dummy OSCommand for testing
func NewDummyOSCommand() *OSCommand {
	return NewOSCommand(NewDummyLog(), NewDummyAppConfig())
}

// NewDummyAppConfig creates a new dummy AppConfig for testing
func NewDummyAppConfig() *config.AppConfig {
	appConfig := &config.AppConfig{
		Name:        "lazydocker",
		Version:     "unversioned",
		Commit:      "",
		BuildDate:   "",
		Debug:       false,
		BuildSource: "",
	}
	return appConfig
}

// NewDummyLog creates a new dummy Log for testing
func NewDummyLog() *logrus.Entry {
	log := logrus.New()
	log.Out = io.Discard
	return log.WithField("test", "test")
}

// NewDummyDockerCommand creates a new dummy DockerCommand for testing
func NewDummyDockerCommand() *DockerCommand {
	return NewDummyDockerCommandWithOSCommand(NewDummyOSCommand())
}

// NewDummyDockerCommandWithOSCommand creates a new dummy DockerCommand for testing
func NewDummyDockerCommandWithOSCommand(osCommand *OSCommand) *DockerCommand {
	newAppConfig := NewDummyAppConfig()
	return &DockerCommand{
		Log:       NewDummyLog(),
		OSCommand: osCommand,
		Tr:        i18n.NewTranslationSet(NewDummyLog(), newAppConfig.UserConfig.Gui.Language),
		Config:    newAppConfig,
	}
}
</file>

<file path="pkg/commands/errors.go">
package commands

import (
	"fmt"

	"github.com/go-errors/errors"
	"golang.org/x/xerrors"
)

const (
	// MustStopContainer tells us that we must stop the container before removing it
	MustStopContainer = iota
)

// WrapError wraps an error for the sake of showing a stack trace at the top level
// the go-errors package, for some reason, does not return nil when you try to wrap
// a non-error, so we're just doing it here
func WrapError(err error) error {
	if err == nil {
		return err
	}

	return errors.Wrap(err, 0)
}

// ComplexError an error which carries a code so that calling code has an easier job to do
// adapted from https://medium.com/yakka/better-go-error-handling-with-xerrors-1987650e0c79
type ComplexError struct {
	Message string
	Code    int
	frame   xerrors.Frame
}

// FormatError is a function
func (ce ComplexError) FormatError(p xerrors.Printer) error {
	p.Printf("%d %s", ce.Code, ce.Message)
	ce.frame.Format(p)
	return nil
}

// Format is a function
func (ce ComplexError) Format(f fmt.State, c rune) {
	xerrors.FormatError(ce, f, c)
}

func (ce ComplexError) Error() string {
	return fmt.Sprint(ce)
}

// HasErrorCode is a function
func HasErrorCode(err error, code int) bool {
	var originalErr ComplexError
	if xerrors.As(err, &originalErr) {
		return originalErr.Code == MustStopContainer
	}
	return false
}
</file>

<file path="pkg/commands/image.go">
package commands

import (
	"context"
	"strings"

	"github.com/docker/docker/api/types/filters"
	"github.com/docker/docker/api/types/image"
	"github.com/docker/docker/client"
	"github.com/fatih/color"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
	"github.com/sirupsen/logrus"
)

// Image : A docker Image
type Image struct {
	Name          string
	Tag           string
	ID            string
	Image         image.Summary
	Client        *client.Client
	OSCommand     *OSCommand
	Log           *logrus.Entry
	DockerCommand LimitedDockerCommand
}

// Remove removes the image
func (i *Image) Remove(options image.RemoveOptions) error {
	if _, err := i.Client.ImageRemove(context.Background(), i.ID, options); err != nil {
		return err
	}

	return nil
}

func getHistoryResponseItemDisplayStrings(layer image.HistoryResponseItem) []string {
	tag := ""
	if len(layer.Tags) > 0 {
		tag = layer.Tags[0]
	}

	id := strings.TrimPrefix(layer.ID, "sha256:")
	if len(id) > 10 {
		id = id[0:10]
	}
	idColor := color.FgWhite
	if id == "<missing>" {
		idColor = color.FgBlue
	}

	dockerFileCommandPrefix := "/bin/sh -c #(nop) "
	createdBy := layer.CreatedBy
	if strings.Contains(layer.CreatedBy, dockerFileCommandPrefix) {
		createdBy = strings.Trim(strings.TrimPrefix(layer.CreatedBy, dockerFileCommandPrefix), " ")
		split := strings.Split(createdBy, " ")
		createdBy = utils.ColoredString(split[0], color.FgYellow) + " " + strings.Join(split[1:], " ")
	}

	createdBy = strings.Replace(createdBy, "\t", " ", -1)

	size := utils.FormatBinaryBytes(int(layer.Size))
	sizeColor := color.FgWhite
	if size == "0B" {
		sizeColor = color.FgBlue
	}

	return []string{
		utils.ColoredString(id, idColor),
		utils.ColoredString(tag, color.FgGreen),
		utils.ColoredString(size, sizeColor),
		createdBy,
	}
}

// RenderHistory renders the history of the image
func (i *Image) RenderHistory() (string, error) {
	history, err := i.Client.ImageHistory(context.Background(), i.ID)
	if err != nil {
		return "", err
	}

	tableBody := lo.Map(history, func(layer image.HistoryResponseItem, _ int) []string {
		return getHistoryResponseItemDisplayStrings(layer)
	})

	headers := [][]string{{"ID", "TAG", "SIZE", "COMMAND"}}
	table := append(headers, tableBody...)

	return utils.RenderTable(table)
}

// RefreshImages returns a slice of docker images
func (c *DockerCommand) RefreshImages() ([]*Image, error) {
	images, err := c.Client.ImageList(context.Background(), image.ListOptions{})
	if err != nil {
		return nil, err
	}

	ownImages := make([]*Image, len(images))

	for i, img := range images {
		firstTag := ""
		tags := img.RepoTags
		if len(tags) > 0 {
			firstTag = tags[0]
		}

		nameParts := strings.Split(firstTag, ":")
		tag := ""
		name := "none"
		if len(nameParts) > 1 {
			tag = nameParts[len(nameParts)-1]
			name = strings.Join(nameParts[:len(nameParts)-1], ":")

			for prefix, replacement := range c.Config.UserConfig.Replacements.ImageNamePrefixes {
				if strings.HasPrefix(name, prefix) {
					name = strings.Replace(name, prefix, replacement, 1)
					break
				}
			}
		}

		ownImages[i] = &Image{
			ID:            img.ID,
			Name:          name,
			Tag:           tag,
			Image:         img,
			Client:        c.Client,
			OSCommand:     c.OSCommand,
			Log:           c.Log,
			DockerCommand: c,
		}
	}

	return ownImages, nil
}

// PruneImages prunes images
func (c *DockerCommand) PruneImages() error {
	_, err := c.Client.ImagesPrune(context.Background(), filters.Args{})
	return err
}
</file>

<file path="pkg/commands/network.go">
package commands

import (
	"context"

	"github.com/docker/docker/api/types/filters"
	"github.com/docker/docker/api/types/network"
	"github.com/docker/docker/client"
	"github.com/sirupsen/logrus"
)

// Network : A docker Network
type Network struct {
	Name          string
	Network       network.Inspect
	Client        *client.Client
	OSCommand     *OSCommand
	Log           *logrus.Entry
	DockerCommand LimitedDockerCommand
}

// RefreshNetworks gets the networks and stores them
func (c *DockerCommand) RefreshNetworks() ([]*Network, error) {
	networks, err := c.Client.NetworkList(context.Background(), network.ListOptions{})
	if err != nil {
		return nil, err
	}

	ownNetworks := make([]*Network, len(networks))

	for i, nw := range networks {
		ownNetworks[i] = &Network{
			Name:          nw.Name,
			Network:       nw,
			Client:        c.Client,
			OSCommand:     c.OSCommand,
			Log:           c.Log,
			DockerCommand: c,
		}
	}

	return ownNetworks, nil
}

// PruneNetworks prunes networks
func (c *DockerCommand) PruneNetworks() error {
	_, err := c.Client.NetworksPrune(context.Background(), filters.Args{})
	return err
}

// Remove removes the network
func (v *Network) Remove() error {
	return v.Client.NetworkRemove(context.Background(), v.Name)
}
</file>

<file path="pkg/commands/os_default_platform.go">
//go:build !windows
// +build !windows

package commands

import (
	"runtime"
)

func getPlatform() *Platform {
	return &Platform{
		os:              runtime.GOOS,
		shell:           "bash",
		shellArg:        "-c",
		openCommand:     "open {{filename}}",
		openLinkCommand: "open {{link}}",
	}
}
</file>

<file path="pkg/commands/os_test.go">
package commands

import (
	"fmt"
	"os"
	"os/exec"
	"testing"

	"github.com/stretchr/testify/assert"
)

// TestOSCommandRunCommandWithOutput is a function.
func TestOSCommandRunCommandWithOutput(t *testing.T) {
	type scenario struct {
		command string
		test    func(string, error)
	}

	scenarios := []scenario{
		{
			"echo -n '123'",
			func(output string, err error) {
				assert.NoError(t, err)
				assert.EqualValues(t, "123", output)
			},
		},
		{
			"rmdir unexisting-folder",
			func(output string, err error) {
				assert.Regexp(t, "rmdir.*unexisting-folder.*", err.Error())
			},
		},
	}

	for _, s := range scenarios {
		s.test(NewDummyOSCommand().RunCommandWithOutput(s.command))
	}
}

// TestOSCommandRunCommand is a function.
func TestOSCommandRunCommand(t *testing.T) {
	type scenario struct {
		command string
		test    func(error)
	}

	scenarios := []scenario{
		{
			"rmdir unexisting-folder",
			func(err error) {
				assert.Regexp(t, "rmdir.*unexisting-folder.*", err.Error())
			},
		},
	}

	for _, s := range scenarios {
		s.test(NewDummyOSCommand().RunCommand(s.command))
	}
}

// TestOSCommandEditFile is a function.
func TestOSCommandEditFile(t *testing.T) {
	type scenario struct {
		filename string
		command  func(string, ...string) *exec.Cmd
		getenv   func(string) string
		test     func(*exec.Cmd, error)
	}

	scenarios := []scenario{
		{
			"test",
			func(name string, arg ...string) *exec.Cmd {
				return exec.Command("exit", "1")
			},
			func(env string) string {
				return ""
			},
			func(cmd *exec.Cmd, err error) {
				assert.EqualError(t, err, "No editor defined in $VISUAL or $EDITOR")
			},
		},
		{
			"test",
			func(name string, arg ...string) *exec.Cmd {
				if name == "which" {
					return exec.Command("exit", "1")
				}

				assert.EqualValues(t, "nano", name)

				return exec.Command("exit", "0")
			},
			func(env string) string {
				if env == "VISUAL" {
					return "nano"
				}

				return ""
			},
			func(cmd *exec.Cmd, err error) {
				assert.NoError(t, err)
			},
		},
		{
			"test",
			func(name string, arg ...string) *exec.Cmd {
				if name == "which" {
					return exec.Command("exit", "1")
				}

				assert.EqualValues(t, "emacs", name)

				return exec.Command("exit", "0")
			},
			func(env string) string {
				if env == "EDITOR" {
					return "emacs"
				}

				return ""
			},
			func(cmd *exec.Cmd, err error) {
				assert.NoError(t, err)
			},
		},
		{
			"test",
			func(name string, arg ...string) *exec.Cmd {
				if name == "which" {
					return exec.Command("echo")
				}

				assert.EqualValues(t, "vi", name)

				return exec.Command("exit", "0")
			},
			func(env string) string {
				return ""
			},
			func(cmd *exec.Cmd, err error) {
				assert.NoError(t, err)
			},
		},
	}

	for _, s := range scenarios {
		OSCmd := NewDummyOSCommand()
		OSCmd.command = s.command
		OSCmd.getenv = s.getenv

		s.test(OSCmd.EditFile(s.filename))
	}
}

func TestOSCommandQuote(t *testing.T) {
	osCommand := NewDummyOSCommand()

	osCommand.Platform.os = "linux"

	actual := osCommand.Quote("hello `test`")

	expected := "\"hello \\`test\\`\""

	assert.EqualValues(t, expected, actual)
}

// TestOSCommandQuoteSingleQuote tests the quote function with ' quotes explicitly for Linux
func TestOSCommandQuoteSingleQuote(t *testing.T) {
	osCommand := NewDummyOSCommand()

	osCommand.Platform.os = "linux"

	actual := osCommand.Quote("hello 'test'")

	expected := `"hello 'test'"`

	assert.EqualValues(t, expected, actual)
}

// TestOSCommandQuoteDoubleQuote tests the quote function with " quotes explicitly for Linux
func TestOSCommandQuoteDoubleQuote(t *testing.T) {
	osCommand := NewDummyOSCommand()

	osCommand.Platform.os = "linux"

	actual := osCommand.Quote(`hello "test"`)

	expected := `"hello \"test\""`

	assert.EqualValues(t, expected, actual)
}

// TestOSCommandQuoteWindows tests the quote function for Windows
func TestOSCommandQuoteWindows(t *testing.T) {
	osCommand := NewDummyOSCommand()

	osCommand.Platform.os = "windows"

	actual := osCommand.Quote(`hello "test" 'test2'`)

	expected := `\"hello "'"'"test"'"'" 'test2'\"`

	assert.EqualValues(t, expected, actual)
}

// TestOSCommandUnquote is a function.
func TestOSCommandUnquote(t *testing.T) {
	osCommand := NewDummyOSCommand()

	actual := osCommand.Unquote(`hello "test"`)

	expected := "hello test"

	assert.EqualValues(t, expected, actual)
}

// TestOSCommandFileType is a function.
func TestOSCommandFileType(t *testing.T) {
	type scenario struct {
		path  string
		setup func()
		test  func(string)
	}

	scenarios := []scenario{
		{
			"testFile",
			func() {
				if _, err := os.Create("testFile"); err != nil {
					panic(err)
				}
			},
			func(output string) {
				assert.EqualValues(t, "file", output)
			},
		},
		{
			"file with spaces",
			func() {
				if _, err := os.Create("file with spaces"); err != nil {
					panic(err)
				}
			},
			func(output string) {
				assert.EqualValues(t, "file", output)
			},
		},
		{
			"testDirectory",
			func() {
				if err := os.Mkdir("testDirectory", 0o644); err != nil {
					panic(err)
				}
			},
			func(output string) {
				assert.EqualValues(t, "directory", output)
			},
		},
		{
			"nonExistant",
			func() {},
			func(output string) {
				assert.EqualValues(t, "other", output)
			},
		},
	}

	for _, s := range scenarios {
		s.setup()
		s.test(NewDummyOSCommand().FileType(s.path))
		_ = os.RemoveAll(s.path)
	}
}

func TestOSCommandCreateTempFile(t *testing.T) {
	type scenario struct {
		testName string
		filename string
		content  string
		test     func(string, error)
	}

	scenarios := []scenario{
		{
			"valid case",
			"filename",
			"content",
			func(path string, err error) {
				assert.NoError(t, err)

				content, err := os.ReadFile(path)
				assert.NoError(t, err)

				assert.Equal(t, "content", string(content))
			},
		},
	}

	for _, s := range scenarios {
		t.Run(s.testName, func(t *testing.T) {
			s.test(NewDummyOSCommand().CreateTempFile(s.filename, s.content))
		})
	}
}

func TestOSCommandExecutableFromStringWithShellLinux(t *testing.T) {
	osCommand := NewDummyOSCommand()

	osCommand.Platform.os = "linux"

	tests := []struct {
		name       string
		commandStr string
		want       string
	}{
		{
			"success",
			"pwd",
			fmt.Sprintf("%v %v %v", osCommand.Platform.shell, osCommand.Platform.shellArg, "\"pwd\""),
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := osCommand.NewCommandStringWithShell(tt.commandStr)
			assert.Equal(t, tt.want, got)
		})
	}
}

func TestOSCommandNewCommandStringWithShellWindows(t *testing.T) {
	osCommand := NewDummyOSCommand()

	osCommand.Platform.os = "windows"

	tests := []struct {
		name       string
		commandStr string
		want       string
	}{
		{
			"success",
			"pwd",
			fmt.Sprintf("%v %v %v", osCommand.Platform.shell, osCommand.Platform.shellArg, "pwd"),
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := osCommand.NewCommandStringWithShell(tt.commandStr)
			assert.Equal(t, tt.want, got)
		})
	}
}
</file>

<file path="pkg/commands/os_windows.go">
package commands

func getPlatform() *Platform {
	return &Platform{
		os:       "windows",
		shell:    "cmd",
		shellArg: "/c",
	}
}
</file>

<file path="pkg/commands/os.go">
package commands

import (
	"context"
	"fmt"
	"io"
	"os"
	"os/exec"
	"path/filepath"
	"strings"
	"sync"
	"time"

	"github.com/go-errors/errors"

	"github.com/jesseduffield/kill"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/mgutz/str"
	"github.com/sirupsen/logrus"
)

// Platform stores the os state
type Platform struct {
	os              string
	shell           string
	shellArg        string
	openCommand     string
	openLinkCommand string
}

// OSCommand holds all the os commands
type OSCommand struct {
	Log      *logrus.Entry
	Platform *Platform
	Config   *config.AppConfig
	command  func(string, ...string) *exec.Cmd
	getenv   func(string) string
}

// NewOSCommand os command runner
func NewOSCommand(log *logrus.Entry, config *config.AppConfig) *OSCommand {
	return &OSCommand{
		Log:      log,
		Platform: getPlatform(),
		Config:   config,
		command:  exec.Command,
		getenv:   os.Getenv,
	}
}

// SetCommand sets the command function used by the struct.
// To be used for testing only
func (c *OSCommand) SetCommand(cmd func(string, ...string) *exec.Cmd) {
	c.command = cmd
}

// RunCommandWithOutput wrapper around commands returning their output and error
func (c *OSCommand) RunCommandWithOutput(command string) (string, error) {
	cmd := c.ExecutableFromString(command)
	before := time.Now()
	output, err := sanitisedCommandOutput(cmd.Output())
	c.Log.Warn(fmt.Sprintf("'%s': %s", command, time.Since(before)))
	return output, err
}

// RunCommandWithOutput wrapper around commands returning their output and error
func (c *OSCommand) RunCommandWithOutputContext(ctx context.Context, command string) (string, error) {
	cmd := c.ExecutableFromStringContext(ctx, command)
	before := time.Now()
	output, err := sanitisedCommandOutput(cmd.Output())
	c.Log.Warn(fmt.Sprintf("'%s': %s", command, time.Since(before)))
	return output, err
}

// RunExecutableWithOutput runs an executable file and returns its output
func (c *OSCommand) RunExecutableWithOutput(cmd *exec.Cmd) (string, error) {
	return sanitisedCommandOutput(cmd.CombinedOutput())
}

// RunExecutable runs an executable file and returns an error if there was one
func (c *OSCommand) RunExecutable(cmd *exec.Cmd) error {
	_, err := c.RunExecutableWithOutput(cmd)
	return err
}

// ExecutableFromString takes a string like `docker ps -a` and returns an executable command for it
func (c *OSCommand) ExecutableFromString(commandStr string) *exec.Cmd {
	splitCmd := str.ToArgv(commandStr)
	return c.NewCmd(splitCmd[0], splitCmd[1:]...)
}

// Same as ExecutableFromString but cancellable via a context
func (c *OSCommand) ExecutableFromStringContext(ctx context.Context, commandStr string) *exec.Cmd {
	splitCmd := str.ToArgv(commandStr)
	return exec.CommandContext(ctx, splitCmd[0], splitCmd[1:]...)
}

func (c *OSCommand) NewCmd(cmdName string, commandArgs ...string) *exec.Cmd {
	cmd := c.command(cmdName, commandArgs...)
	cmd.Env = os.Environ()
	return cmd
}

func (c *OSCommand) NewCommandStringWithShell(commandStr string) string {
	var quotedCommand string
	// Windows does not seem to like quotes around the command
	if c.Platform.os == "windows" {
		quotedCommand = strings.NewReplacer(
			"^", "^^",
			"&", "^&",
			"|", "^|",
			"<", "^<",
			">", "^>",
			"%", "^%",
		).Replace(commandStr)
	} else {
		quotedCommand = c.Quote(commandStr)
	}

	return fmt.Sprintf("%s %s %s", c.Platform.shell, c.Platform.shellArg, quotedCommand)
}

// RunCommand runs a command and just returns the error
func (c *OSCommand) RunCommand(command string) error {
	_, err := c.RunCommandWithOutput(command)
	return err
}

// FileType tells us if the file is a file, directory or other
func (c *OSCommand) FileType(path string) string {
	fileInfo, err := os.Stat(path)
	if err != nil {
		return "other"
	}
	if fileInfo.IsDir() {
		return "directory"
	}
	return "file"
}

func sanitisedCommandOutput(output []byte, err error) (string, error) {
	outputString := string(output)
	if err != nil {
		// errors like 'exit status 1' are not very useful so we'll create an error
		// from stderr if we got an ExitError
		exitError, ok := err.(*exec.ExitError)
		if ok {
			return outputString, errors.New(string(exitError.Stderr))
		}
		return "", WrapError(err)
	}
	return outputString, nil
}

// OpenFile opens a file with the given
func (c *OSCommand) OpenFile(filename string) error {
	commandTemplate := c.Config.UserConfig.OS.OpenCommand
	templateValues := map[string]string{
		"filename": c.Quote(filename),
	}

	command := utils.ResolvePlaceholderString(commandTemplate, templateValues)
	err := c.RunCommand(command)
	return err
}

// OpenLink opens a file with the given
func (c *OSCommand) OpenLink(link string) error {
	commandTemplate := c.Config.UserConfig.OS.OpenLinkCommand
	templateValues := map[string]string{
		"link": c.Quote(link),
	}

	command := utils.ResolvePlaceholderString(commandTemplate, templateValues)
	err := c.RunCommand(command)
	return err
}

// EditFile opens a file in a subprocess using whatever editor is available,
// falling back to core.editor, VISUAL, EDITOR, then vi
func (c *OSCommand) EditFile(filename string) (*exec.Cmd, error) {
	editor := c.getenv("VISUAL")
	if editor == "" {
		editor = c.getenv("EDITOR")
	}
	if editor == "" {
		if err := c.RunCommand("which vi"); err == nil {
			editor = "vi"
		}
	}
	if editor == "" {
		return nil, errors.New("No editor defined in $VISUAL or $EDITOR")
	}

	return c.NewCmd(editor, filename), nil
}

// Quote wraps a message in platform-specific quotation marks
func (c *OSCommand) Quote(message string) string {
	var quote string
	if c.Platform.os == "windows" {
		quote = `\"`
		message = strings.NewReplacer(
			`"`, `"'"'"`,
			`\"`, `\\"`,
		).Replace(message)
	} else {
		quote = `"`
		message = strings.NewReplacer(
			`\`, `\\`,
			`"`, `\"`,
			`$`, `\$`,
			"`", "\\`",
		).Replace(message)
	}
	return quote + message + quote
}

// Unquote removes wrapping quotations marks if they are present
// this is needed for removing quotes from staged filenames with spaces
func (c *OSCommand) Unquote(message string) string {
	return strings.Replace(message, `"`, "", -1)
}

// AppendLineToFile adds a new line in file
func (c *OSCommand) AppendLineToFile(filename, line string) error {
	f, err := os.OpenFile(filename, os.O_APPEND|os.O_WRONLY|os.O_CREATE, 0o600)
	if err != nil {
		return WrapError(err)
	}
	defer f.Close()

	_, err = f.WriteString("\n" + line)
	if err != nil {
		return WrapError(err)
	}
	return nil
}

// CreateTempFile writes a string to a new temp file and returns the file's name
func (c *OSCommand) CreateTempFile(filename, content string) (string, error) {
	tmpfile, err := os.CreateTemp("", filename)
	if err != nil {
		c.Log.Error(err)
		return "", WrapError(err)
	}

	if _, err := tmpfile.WriteString(content); err != nil {
		c.Log.Error(err)
		return "", WrapError(err)
	}
	if err := tmpfile.Close(); err != nil {
		c.Log.Error(err)
		return "", WrapError(err)
	}

	return tmpfile.Name(), nil
}

// Remove removes a file or directory at the specified path
func (c *OSCommand) Remove(filename string) error {
	err := os.RemoveAll(filename)
	return WrapError(err)
}

// FileExists checks whether a file exists at the specified path
func (c *OSCommand) FileExists(path string) (bool, error) {
	if _, err := os.Stat(path); err != nil {
		if os.IsNotExist(err) {
			return false, nil
		}
		return false, err
	}
	return true, nil
}

// RunPreparedCommand takes a pointer to an exec.Cmd and runs it
// this is useful if you need to give your command some environment variables
// before running it
func (c *OSCommand) RunPreparedCommand(cmd *exec.Cmd) error {
	out, err := cmd.CombinedOutput()
	outString := string(out)
	c.Log.Info(outString)
	if err != nil {
		if len(outString) == 0 {
			return err
		}
		return errors.New(outString)
	}
	return nil
}

// GetLazydockerPath returns the path of the currently executed file
func (c *OSCommand) GetLazydockerPath() string {
	ex, err := os.Executable() // get the executable path for docker to use
	if err != nil {
		ex = os.Args[0] // fallback to the first call argument if needed
	}
	return filepath.ToSlash(ex)
}

// RunCustomCommand returns the pointer to a custom command
func (c *OSCommand) RunCustomCommand(command string) *exec.Cmd {
	return c.NewCmd(c.Platform.shell, c.Platform.shellArg, command)
}

// PipeCommands runs a heap of commands and pipes their inputs/outputs together like A | B | C
func (c *OSCommand) PipeCommands(commandStrings ...string) error {
	cmds := make([]*exec.Cmd, len(commandStrings))

	for i, str := range commandStrings {
		cmds[i] = c.ExecutableFromString(str)
	}

	for i := 0; i < len(cmds)-1; i++ {
		stdout, err := cmds[i].StdoutPipe()
		if err != nil {
			return err
		}

		cmds[i+1].Stdin = stdout
	}

	// keeping this here in case I adapt this code for some other purpose in the future
	// cmds[len(cmds)-1].Stdout = os.Stdout

	finalErrors := []string{}

	wg := sync.WaitGroup{}
	wg.Add(len(cmds))

	for _, cmd := range cmds {
		currentCmd := cmd
		go func() {
			stderr, err := currentCmd.StderrPipe()
			if err != nil {
				c.Log.Error(err)
			}

			if err := currentCmd.Start(); err != nil {
				c.Log.Error(err)
			}

			if b, err := io.ReadAll(stderr); err == nil {
				if len(b) > 0 {
					finalErrors = append(finalErrors, string(b))
				}
			}

			if err := currentCmd.Wait(); err != nil {
				c.Log.Error(err)
			}

			wg.Done()
		}()
	}

	wg.Wait()

	if len(finalErrors) > 0 {
		return errors.New(strings.Join(finalErrors, "\n"))
	}
	return nil
}

// Kill kills a process. If the process has Setpgid == true, then we have anticipated that it might spawn its own child processes, so we've given it a process group ID (PGID) equal to its process id (PID) and given its child processes will inherit the PGID, we can kill that group, rather than killing the process itself.
func (c *OSCommand) Kill(cmd *exec.Cmd) error {
	return kill.Kill(cmd)
}

// PrepareForChildren sets Setpgid to true on the cmd, so that when we run it as a subprocess, we can kill its group rather than the process itself. This is because some commands, like `docker-compose logs` spawn multiple children processes, and killing the parent process isn't sufficient for killing those child processes. We set the group id here, and then in subprocess.go we check if the group id is set and if so, we kill the whole group rather than just the one process.
func (c *OSCommand) PrepareForChildren(cmd *exec.Cmd) {
	kill.PrepareForChildren(cmd)
}
</file>

<file path="pkg/commands/project.go">
package commands

type Project struct {
	Name string
}
</file>

<file path="pkg/commands/service.go">
package commands

import (
	"context"
	"os/exec"

	"github.com/docker/docker/api/types/container"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/sirupsen/logrus"
)

// Service : A docker Service
type Service struct {
	Name          string
	ID            string
	OSCommand     *OSCommand
	Log           *logrus.Entry
	Container     *Container
	DockerCommand LimitedDockerCommand
}

// Remove removes the service's containers
func (s *Service) Remove(options container.RemoveOptions) error {
	return s.Container.Remove(options)
}

// Stop stops the service's containers
func (s *Service) Stop() error {
	return s.runCommand(s.OSCommand.Config.UserConfig.CommandTemplates.StopService)
}

// Up up's the service
func (s *Service) Up() error {
	return s.runCommand(s.OSCommand.Config.UserConfig.CommandTemplates.UpService)
}

// Restart restarts the service
func (s *Service) Restart() error {
	return s.runCommand(s.OSCommand.Config.UserConfig.CommandTemplates.RestartService)
}

// Start starts the service
func (s *Service) Start() error {
	return s.runCommand(s.OSCommand.Config.UserConfig.CommandTemplates.StartService)
}

func (s *Service) runCommand(templateCmdStr string) error {
	command := utils.ApplyTemplate(
		templateCmdStr,
		s.DockerCommand.NewCommandObject(CommandObject{Service: s}),
	)
	return s.OSCommand.RunCommand(command)
}

// Attach attaches to the service
func (s *Service) Attach() (*exec.Cmd, error) {
	return s.Container.Attach()
}

// ViewLogs attaches to a subprocess viewing the service's logs
func (s *Service) ViewLogs() (*exec.Cmd, error) {
	templateString := s.OSCommand.Config.UserConfig.CommandTemplates.ViewServiceLogs
	command := utils.ApplyTemplate(
		templateString,
		s.DockerCommand.NewCommandObject(CommandObject{Service: s}),
	)

	cmd := s.OSCommand.ExecutableFromString(command)
	s.OSCommand.PrepareForChildren(cmd)

	return cmd, nil
}

// RenderTop renders the process list of the service
func (s *Service) RenderTop(ctx context.Context) (string, error) {
	templateString := s.OSCommand.Config.UserConfig.CommandTemplates.ServiceTop
	command := utils.ApplyTemplate(
		templateString,
		s.DockerCommand.NewCommandObject(CommandObject{Service: s}),
	)

	return s.OSCommand.RunCommandWithOutputContext(ctx, command)
}
</file>

<file path="pkg/commands/volume.go">
package commands

import (
	"context"

	"github.com/docker/docker/api/types/filters"
	"github.com/docker/docker/api/types/volume"
	"github.com/docker/docker/client"
	"github.com/sirupsen/logrus"
)

// Volume : A docker Volume
type Volume struct {
	Name          string
	Volume        *volume.Volume
	Client        *client.Client
	OSCommand     *OSCommand
	Log           *logrus.Entry
	DockerCommand LimitedDockerCommand
}

// RefreshVolumes gets the volumes and stores them
func (c *DockerCommand) RefreshVolumes() ([]*Volume, error) {
	result, err := c.Client.VolumeList(context.Background(), volume.ListOptions{})
	if err != nil {
		return nil, err
	}

	volumes := result.Volumes

	ownVolumes := make([]*Volume, len(volumes))

	for i, vol := range volumes {
		ownVolumes[i] = &Volume{
			Name:          vol.Name,
			Volume:        vol,
			Client:        c.Client,
			OSCommand:     c.OSCommand,
			Log:           c.Log,
			DockerCommand: c,
		}
	}

	return ownVolumes, nil
}

// PruneVolumes prunes volumes
func (c *DockerCommand) PruneVolumes() error {
	_, err := c.Client.VolumesPrune(context.Background(), filters.Args{})
	return err
}

// Remove removes the volume
func (v *Volume) Remove(force bool) error {
	return v.Client.VolumeRemove(context.Background(), v.Name, force)
}
</file>

<file path="pkg/config/app_config_test.go">
package config

import (
	"os"
	"testing"

	"github.com/jesseduffield/yaml"
)

func TestDockerComposeCommandNoFiles(t *testing.T) {
	composeFiles := []string{}
	conf, err := NewAppConfig("name", "version", "commit", "date", "buildSource", false, composeFiles, "projectDir")
	if err != nil {
		t.Fatalf("Unexpected error: %s", err)
	}

	actual := conf.UserConfig.CommandTemplates.DockerCompose
	expected := "docker compose"
	if actual != expected {
		t.Fatalf("Expected %s but got %s", expected, actual)
	}
}

func TestDockerComposeCommandSingleFile(t *testing.T) {
	composeFiles := []string{"one.yml"}
	conf, err := NewAppConfig("name", "version", "commit", "date", "buildSource", false, composeFiles, "projectDir")
	if err != nil {
		t.Fatalf("Unexpected error: %s", err)
	}

	actual := conf.UserConfig.CommandTemplates.DockerCompose
	expected := "docker compose -f one.yml"
	if actual != expected {
		t.Fatalf("Expected %s but got %s", expected, actual)
	}
}

func TestDockerComposeCommandMultipleFiles(t *testing.T) {
	composeFiles := []string{"one.yml", "two.yml", "three.yml"}
	conf, err := NewAppConfig("name", "version", "commit", "date", "buildSource", false, composeFiles, "projectDir")
	if err != nil {
		t.Fatalf("Unexpected error: %s", err)
	}

	actual := conf.UserConfig.CommandTemplates.DockerCompose
	expected := "docker compose -f one.yml -f two.yml -f three.yml"
	if actual != expected {
		t.Fatalf("Expected %s but got %s", expected, actual)
	}
}

func TestWritingToConfigFile(t *testing.T) {
	// init the AppConfig
	emptyComposeFiles := []string{}
	conf, err := NewAppConfig("name", "version", "commit", "date", "buildSource", false, emptyComposeFiles, "projectDir")
	if err != nil {
		t.Fatalf("Unexpected error: %s", err)
	}

	testFn := func(t *testing.T, ac *AppConfig, newValue bool) {
		t.Helper()
		updateFn := func(uc *UserConfig) error {
			uc.ConfirmOnQuit = newValue
			return nil
		}

		err = ac.WriteToUserConfig(updateFn)
		if err != nil {
			t.Fatalf("Unexpected error: %s", err)
		}

		file, err := os.OpenFile(ac.ConfigFilename(), os.O_RDONLY, 0o660)
		if err != nil {
			t.Fatalf("Unexpected error: %s", err)
		}

		sampleUC := UserConfig{}
		err = yaml.NewDecoder(file).Decode(&sampleUC)
		if err != nil {
			t.Fatalf("Unexpected error: %s", err)
		}

		err = file.Close()
		if err != nil {
			t.Fatalf("Unexpected error: %s", err)
		}

		if sampleUC.ConfirmOnQuit != newValue {
			t.Fatalf("Got %v, Expected %v\n", sampleUC.ConfirmOnQuit, newValue)
		}
	}

	// insert value into an empty file
	testFn(t, conf, true)

	// modifying an existing file that already has 'ConfirmOnQuit'
	testFn(t, conf, false)
}
</file>

<file path="pkg/config/app_config.go">
// Package config handles all the user-configuration. The fields here are
// all in PascalCase but in your actual config.yml they'll be in camelCase.
// You can view the default config with `lazydocker --config`.
// You can open your config file by going to the status panel (using left-arrow)
// and pressing 'o'.
// You can directly edit the file (e.g. in vim) by pressing 'e' instead.
// To see the final config after your user-specific options have been merged
// with the defaults, go to the 'about' tab in the status panel.
// Because of the way we merge your user config with the defaults you may need
// to be careful: if for example you set a `commandTemplates:` yaml key but then
// give it no child values, it will scrap all of the defaults and the app will
// probably crash.
package config

import (
	"os"
	"path/filepath"
	"strings"
	"time"

	"github.com/OpenPeeDeeP/xdg"
	"github.com/jesseduffield/yaml"
)

// UserConfig holds all of the user-configurable options
type UserConfig struct {
	// Gui is for configuring visual things like colors and whether we show or
	// hide things
	Gui GuiConfig `yaml:"gui,omitempty"`

	// ConfirmOnQuit when enabled prompts you to confirm you want to quit when you
	// hit esc or q when no confirmation panels are open
	ConfirmOnQuit bool `yaml:"confirmOnQuit,omitempty"`

	// Logs determines how we render/filter a container's logs
	Logs LogsConfig `yaml:"logs,omitempty"`

	// CommandTemplates determines what commands actually get called when we run
	// certain commands
	CommandTemplates CommandTemplatesConfig `yaml:"commandTemplates,omitempty"`

	// CustomCommands determines what shows up in your custom commands menu when
	// you press 'c'. You can use go templates to access three items on the
	// struct: the DockerCompose command (defaulted to 'docker-compose'), the
	// Service if present, and the Container if present. The struct types for
	// those are found in the commands package
	CustomCommands CustomCommands `yaml:"customCommands,omitempty"`

	// BulkCommands are commands that apply to all items in a panel e.g.
	// killing all containers, stopping all services, or pruning all images
	BulkCommands CustomCommands `yaml:"bulkCommands,omitempty"`

	// OS determines what defaults are set for opening files and links
	OS OSConfig `yaml:"oS,omitempty"`

	// Stats determines how long lazydocker will gather container stats for, and
	// what stat info to graph
	Stats StatsConfig `yaml:"stats,omitempty"`

	// Replacements determines how we render an item's info
	Replacements Replacements `yaml:"replacements,omitempty"`

	// For demo purposes: any list item with one of these strings as a substring
	// will be filtered out and not displayed.
	// Not documented because it's subject to change
	Ignore []string `yaml:"ignore,omitempty"`
}

// ThemeConfig is for setting the colors of panels and some text.
type ThemeConfig struct {
	ActiveBorderColor   []string `yaml:"activeBorderColor,omitempty"`
	InactiveBorderColor []string `yaml:"inactiveBorderColor,omitempty"`
	SelectedLineBgColor []string `yaml:"selectedLineBgColor,omitempty"`
	OptionsTextColor    []string `yaml:"optionsTextColor,omitempty"`
}

// GuiConfig is for configuring visual things like colors and whether we show or
// hide things
type GuiConfig struct {
	// ScrollHeight determines how many characters you scroll at a time when
	// scrolling the main panel
	ScrollHeight int `yaml:"scrollHeight,omitempty"`

	// Language determines which language the GUI displayed.
	Language string `yaml:"language,omitempty"`

	// ScrollPastBottom determines whether you can scroll past the bottom of the
	// main view
	ScrollPastBottom bool `yaml:"scrollPastBottom,omitempty"`

	// IgnoreMouseEvents is for when you do not want to use your mouse to interact
	// with anything
	IgnoreMouseEvents bool `yaml:"mouseEvents,omitempty"`

	// Theme determines what colors and color attributes your panel borders have.
	// I always set inactiveBorderColor to black because in my terminal it's more
	// of a grey, but that doesn't work in your average terminal. I highly
	// recommended finding a combination that works for you
	Theme ThemeConfig `yaml:"theme,omitempty"`

	// ShowAllContainers determines whether the Containers panel contains all the
	// containers returned by `docker ps -a`, or just those containers that aren't
	// directly linked to a service. It is probably desirable to enable this if
	// you have multiple containers per service, but otherwise it can cause a lot
	// of clutter
	ShowAllContainers bool `yaml:"showAllContainers,omitempty"`

	// ReturnImmediately determines whether you get the 'press enter to return to
	// lazydocker' message after a subprocess has completed. You would set this to
	// true if you often want to see the output of subprocesses before returning
	// to lazydocker. I would default this to false but then people who want it
	// set to true won't even know the config option exists.
	ReturnImmediately bool `yaml:"returnImmediately,omitempty"`

	// WrapMainPanel determines whether we use word wrap on the main panel
	WrapMainPanel bool `yaml:"wrapMainPanel,omitempty"`

	// LegacySortContainers determines if containers should be sorted using legacy approach.
	// By default, containers are now sorted by status. This setting allows users to
	// use legacy behaviour instead.
	LegacySortContainers bool `yaml:"legacySortContainers,omitempty"`

	// If 0.333, then the side panels will be 1/3 of the screen's width
	SidePanelWidth float64 `yaml:"sidePanelWidth"`

	// Determines whether we show the bottom line (the one containing keybinding
	// info and the status of the app).
	ShowBottomLine bool `yaml:"showBottomLine"`

	// When true, increases vertical space used by focused side panel,
	// creating an accordion effect
	ExpandFocusedSidePanel bool `yaml:"expandFocusedSidePanel"`

	// ScreenMode allow user to specify which screen mode will be used on startup
	ScreenMode string `yaml:"screenMode,omitempty"`

	// Determines the style of the container status and container health display in the
	// containers panel. "long": full words (default), "short": one or two characters,
	// "icon": unicode emoji.
	ContainerStatusHealthStyle string `yaml:"containerStatusHealthStyle"`

	// Window border style.
	// One of 'rounded' (default) | 'single' | 'double' | 'hidden'
	Border string `yaml:"border"`
}

// CommandTemplatesConfig determines what commands actually get called when we
// run certain commands
type CommandTemplatesConfig struct {
	// RestartService is for restarting a service. docker-compose restart {{
	// .Service.Name }} works but I prefer docker-compose up --force-recreate {{
	// .Service.Name }}
	RestartService string `yaml:"restartService,omitempty"`

	// StartService is just like the above but for starting
	StartService string `yaml:"startService,omitempty"`

	// UpService ups the service (creates and starts)
	UpService string `yaml:"upService,omitempty"`

	// Runs "docker-compose up -d"
	Up string `yaml:"up,omitempty"`

	// downs everything
	Down string `yaml:"down,omitempty"`
	// downs and removes volumes
	DownWithVolumes string `yaml:"downWithVolumes,omitempty"`

	// DockerCompose is for your docker-compose command. You may want to combine a
	// few different docker-compose.yml files together, in which case you can set
	// this to "docker compose -f foo/docker-compose.yml -f
	// bah/docker-compose.yml". The reason that the other docker-compose command
	// templates all start with {{ .DockerCompose }} is so that they can make use
	// of whatever you've set in this value rather than you having to copy and
	// paste it to all the other commands
	DockerCompose string `yaml:"dockerCompose,omitempty"`

	// StopService is the command for stopping a service
	StopService string `yaml:"stopService,omitempty"`

	// ServiceLogs get the logs for a service. This is actually not currently
	// used; we just get the logs of the corresponding container. But we should
	// probably support explicitly returning the logs of the service when you've
	// selected the service, given that a service may have multiple containers.
	ServiceLogs string `yaml:"serviceLogs,omitempty"`

	// ViewServiceLogs is for when you want to view the logs of a service as a
	// subprocess. This defaults to having no filter, unlike the in-app logs
	// commands which will usually filter down to the last hour for the sake of
	// performance.
	ViewServiceLogs string `yaml:"viewServiceLogs,omitempty"`

	// RebuildService is the command for rebuilding a service. Defaults to
	// something along the lines of `{{ .DockerCompose }} up --build {{
	// .Service.Name }}`
	RebuildService string `yaml:"rebuildService,omitempty"`

	// RecreateService is for force-recreating a service. I prefer this to
	// restarting a service because it will also restart any dependent services
	// and ensure they're running before trying to run the service at hand
	RecreateService string `yaml:"recreateService,omitempty"`

	// AllLogs is for showing what you get from doing `docker compose logs`. It
	// combines all the logs together
	AllLogs string `yaml:"allLogs,omitempty"`

	// ViewAllLogs is the command we use when you want to see all logs in a subprocess with no filtering
	ViewAllLogs string `yaml:"viewAlLogs,omitempty"`

	// DockerComposeConfig is the command for viewing the config of your docker
	// compose. It basically prints out the yaml from your docker-compose.yml
	// file(s)
	DockerComposeConfig string `yaml:"dockerComposeConfig,omitempty"`

	// CheckDockerComposeConfig is what we use to check whether we are in a
	// docker-compose context. If the command returns an error then we clearly
	// aren't in a docker-compose config and we then just hide the services panel
	// and only show containers
	CheckDockerComposeConfig string `yaml:"checkDockerComposeConfig,omitempty"`

	// ServiceTop is the command for viewing the processes under a given service
	ServiceTop string `yaml:"serviceTop,omitempty"`
}

// OSConfig contains config on the level of the os
type OSConfig struct {
	// OpenCommand is the command for opening a file
	OpenCommand string `yaml:"openCommand,omitempty"`

	// OpenCommand is the command for opening a link
	OpenLinkCommand string `yaml:"openLinkCommand,omitempty"`
}

// GraphConfig specifies how to make a graph of recorded container stats
type GraphConfig struct {
	// Min sets the minimum value that you want to display. If you want to set
	// this, you should also set MinType to "static". The reason for this is that
	// if Min == 0, it's not clear if it has not been set (given that the
	// zero-value of an int is 0) or if it's intentionally been set to 0.
	Min float64 `yaml:"min,omitempty"`

	// Max sets the maximum value that you want to display. If you want to set
	// this, you should also set MaxType to "static". The reason for this is that
	// if Max == 0, it's not clear if it has not been set (given that the
	// zero-value of an int is 0) or if it's intentionally been set to 0.
	Max float64 `yaml:"max,omitempty"`

	// Height sets the height of the graph in ascii characters
	Height int `yaml:"height,omitempty"`

	// Caption sets the caption of the graph. If you want to show CPU Percentage
	// you could set this to "CPU (%)"
	Caption string `yaml:"caption,omitempty"`

	// This is the path to the stat that you want to display. It is based on the
	// RecordedStats struct in container_stats.go, so feel free to look there to
	// see all the options available. Alternatively if you go into lazydocker and
	// go to the stats tab, you'll see that same struct in JSON format, so you can
	// just PascalCase the path and you'll have a valid path. E.g.
	// ClientStats.blkio_stats -> "ClientStats.BlkioStats"
	StatPath string `yaml:"statPath,omitempty"`

	// This determines the color of the graph. This can be any color attribute,
	// e.g. 'blue', 'green'
	Color string `yaml:"color,omitempty"`

	// MinType and MaxType are each one of "", "static". blank means the min/max
	// of the data set will be used. "static" means the min/max specified will be
	// used
	MinType string `yaml:"minType,omitempty"`

	// MaxType is just like MinType but for the max value
	MaxType string `yaml:"maxType,omitempty"`
}

// StatsConfig contains the stuff relating to stats and graphs
type StatsConfig struct {
	// Graphs contains the configuration for the stats graphs we want to show in
	// the app
	Graphs []GraphConfig

	// MaxDuration tells us how long to collect stats for. Currently this defaults
	// to "5m" i.e. 5 minutes.
	MaxDuration time.Duration `yaml:"maxDuration,omitempty"`
}

// CustomCommands contains the custom commands that you might want to use on any
// given service or container
type CustomCommands struct {
	// Containers contains the custom commands for containers
	Containers []CustomCommand `yaml:"containers,omitempty"`

	// Services contains the custom commands for services
	Services []CustomCommand `yaml:"services,omitempty"`

	// Images contains the custom commands for images
	Images []CustomCommand `yaml:"images,omitempty"`

	// Volumes contains the custom commands for volumes
	Volumes []CustomCommand `yaml:"volumes,omitempty"`

	// Networks contains the custom commands for networks
	Networks []CustomCommand `yaml:"networks,omitempty"`
}

// Replacements contains the stuff relating to rendering a container's info
type Replacements struct {
	// ImageNamePrefixes tells us how to replace a prefix in the Docker image name
	ImageNamePrefixes map[string]string `yaml:"imageNamePrefixes,omitempty"`
}

// CustomCommand is a template for a command we want to run against a service or
// container
type CustomCommand struct {
	// Name is the name of the command, purely for visual display
	Name string `yaml:"name"`

	// Attach tells us whether to switch to a subprocess to interact with the
	// called program, or just read its output. If Attach is set to false, the
	// command will run in the background. I'm open to the idea of having a third
	// option where the output plays in the main panel.
	Attach bool `yaml:"attach"`

	// Shell indicates whether to invoke the Command on a shell or not.
	// Example of a bash invoked command: `/bin/bash -c "{Command}".
	Shell bool `yaml:"shell"`

	// Command is the command we want to run. We can use the go templates here as
	// well. One example might be `{{ .DockerCompose }} exec {{ .Service.Name }}
	// /bin/sh`
	Command string `yaml:"command"`

	// ServiceNames is used to restrict this command to just one or more services.
	// An example might be 'rails migrate' for your rails api service(s). This
	// field has no effect on customcommands under the 'communications' part of
	// the customCommand config.
	ServiceNames []string `yaml:"serviceNames"`

	// InternalFunction is the name of a function inside lazydocker that we want to run, as opposed to a command-line command. This is only used internally and can't be configured by the user
	InternalFunction func() error `yaml:"-"`
}

type LogsConfig struct {
	Timestamps bool   `yaml:"timestamps,omitempty"`
	Since      string `yaml:"since,omitempty"`
	Tail       string `yaml:"tail,omitempty"`
}

// GetDefaultConfig returns the application default configuration NOTE (to
// contributors, not users): do not default a boolean to true, because false is
// the boolean zero value and this will be ignored when parsing the user's
// config
func GetDefaultConfig() UserConfig {
	duration, err := time.ParseDuration("3m")
	if err != nil {
		panic(err)
	}

	return UserConfig{
		Gui: GuiConfig{
			ScrollHeight:      2,
			Language:          "auto",
			ScrollPastBottom:  false,
			IgnoreMouseEvents: false,
			Theme: ThemeConfig{
				ActiveBorderColor:   []string{"green", "bold"},
				InactiveBorderColor: []string{"default"},
				SelectedLineBgColor: []string{"blue"},
				OptionsTextColor:    []string{"blue"},
			},
			ShowAllContainers:          false,
			ReturnImmediately:          false,
			WrapMainPanel:              true,
			LegacySortContainers:       false,
			SidePanelWidth:             0.3333,
			ShowBottomLine:             true,
			ExpandFocusedSidePanel:     false,
			ScreenMode:                 "normal",
			ContainerStatusHealthStyle: "long",
		},
		ConfirmOnQuit: false,
		Logs: LogsConfig{
			Timestamps: false,
			Since:      "60m",
			Tail:       "",
		},
		CommandTemplates: CommandTemplatesConfig{
			DockerCompose:            "docker compose",
			RestartService:           "{{ .DockerCompose }} restart {{ .Service.Name }}",
			StartService:             "{{ .DockerCompose }} start {{ .Service.Name }}",
			Up:                       "{{ .DockerCompose }} up -d",
			Down:                     "{{ .DockerCompose }} down",
			DownWithVolumes:          "{{ .DockerCompose }} down --volumes",
			UpService:                "{{ .DockerCompose }} up -d {{ .Service.Name }}",
			RebuildService:           "{{ .DockerCompose }} up -d --build {{ .Service.Name }}",
			RecreateService:          "{{ .DockerCompose }} up -d --force-recreate {{ .Service.Name }}",
			StopService:              "{{ .DockerCompose }} stop {{ .Service.Name }}",
			ServiceLogs:              "{{ .DockerCompose }} logs --since=60m --follow {{ .Service.Name }}",
			ViewServiceLogs:          "{{ .DockerCompose }} logs --follow {{ .Service.Name }}",
			AllLogs:                  "{{ .DockerCompose }} logs --tail=300 --follow",
			ViewAllLogs:              "{{ .DockerCompose }} logs",
			DockerComposeConfig:      "{{ .DockerCompose }} config",
			CheckDockerComposeConfig: "{{ .DockerCompose }} config --quiet",
			ServiceTop:               "{{ .DockerCompose }} top {{ .Service.Name }}",
		},
		CustomCommands: CustomCommands{
			Containers: []CustomCommand{},
			Services:   []CustomCommand{},
			Images:     []CustomCommand{},
			Volumes:    []CustomCommand{},
		},
		BulkCommands: CustomCommands{
			Services: []CustomCommand{
				{
					Name:    "up",
					Command: "{{ .DockerCompose }} up -d",
				},
				{
					Name:    "up (attached)",
					Command: "{{ .DockerCompose }} up",
					Attach:  true,
				},
				{
					Name:    "stop",
					Command: "{{ .DockerCompose }} stop",
				},
				{
					Name:    "pull",
					Command: "{{ .DockerCompose }} pull",
					Attach:  true,
				},
				{
					Name:    "build",
					Command: "{{ .DockerCompose }} build --parallel --force-rm",
					Attach:  true,
				},
				{
					Name:    "down",
					Command: "{{ .DockerCompose }} down",
				},
				{
					Name:    "down with volumes",
					Command: "{{ .DockerCompose }} down --volumes",
				},
				{
					Name:    "down with images",
					Command: "{{ .DockerCompose }} down --rmi all",
				},
				{
					Name:    "down with volumes and images",
					Command: "{{ .DockerCompose }} down --volumes --rmi all",
				},
			},
			Containers: []CustomCommand{},
			Images:     []CustomCommand{},
			Volumes:    []CustomCommand{},
		},
		OS: GetPlatformDefaultConfig(),
		Stats: StatsConfig{
			MaxDuration: duration,
			Graphs: []GraphConfig{
				{
					Caption:  "CPU (%)",
					StatPath: "DerivedStats.CPUPercentage",
					Color:    "cyan",
				},
				{
					Caption:  "Memory (%)",
					StatPath: "DerivedStats.MemoryPercentage",
					Color:    "green",
				},
			},
		},
		Replacements: Replacements{
			ImageNamePrefixes: map[string]string{},
		},
	}
}

// AppConfig contains the base configuration fields required for lazydocker.
type AppConfig struct {
	Debug       bool   `long:"debug" env:"DEBUG" default:"false"`
	Version     string `long:"version" env:"VERSION" default:"unversioned"`
	Commit      string `long:"commit" env:"COMMIT"`
	BuildDate   string `long:"build-date" env:"BUILD_DATE"`
	Name        string `long:"name" env:"NAME" default:"lazydocker"`
	BuildSource string `long:"build-source" env:"BUILD_SOURCE" default:""`
	UserConfig  *UserConfig
	ConfigDir   string
	ProjectDir  string
}

// NewAppConfig makes a new app config
func NewAppConfig(name, version, commit, date string, buildSource string, debuggingFlag bool, composeFiles []string, projectDir string) (*AppConfig, error) {
	configDir, err := findOrCreateConfigDir(name)
	if err != nil {
		return nil, err
	}

	userConfig, err := loadUserConfigWithDefaults(configDir)
	if err != nil {
		return nil, err
	}

	// Pass compose files as individual -f flags to docker compose
	if len(composeFiles) > 0 {
		userConfig.CommandTemplates.DockerCompose += " -f " + strings.Join(composeFiles, " -f ")
	}

	appConfig := &AppConfig{
		Name:        name,
		Version:     version,
		Commit:      commit,
		BuildDate:   date,
		Debug:       debuggingFlag || os.Getenv("DEBUG") == "TRUE",
		BuildSource: buildSource,
		UserConfig:  userConfig,
		ConfigDir:   configDir,
		ProjectDir:  projectDir,
	}

	return appConfig, nil
}

func configDirForVendor(vendor string, projectName string) string {
	envConfigDir := os.Getenv("CONFIG_DIR")
	if envConfigDir != "" {
		return envConfigDir
	}
	configDirs := xdg.New(vendor, projectName)
	return configDirs.ConfigHome()
}

func configDir(projectName string) string {
	legacyConfigDirectory := configDirForVendor("jesseduffield", projectName)
	if _, err := os.Stat(legacyConfigDirectory); !os.IsNotExist(err) {
		return legacyConfigDirectory
	}
	configDirectory := configDirForVendor("", projectName)
	return configDirectory
}

func findOrCreateConfigDir(projectName string) (string, error) {
	folder := configDir(projectName)

	err := os.MkdirAll(folder, 0o755)
	if err != nil {
		return "", err
	}

	return folder, nil
}

func loadUserConfigWithDefaults(configDir string) (*UserConfig, error) {
	config := GetDefaultConfig()

	return loadUserConfig(configDir, &config)
}

func loadUserConfig(configDir string, base *UserConfig) (*UserConfig, error) {
	fileName := filepath.Join(configDir, "config.yml")

	if _, err := os.Stat(fileName); err != nil {
		if os.IsNotExist(err) {
			file, err := os.Create(fileName)
			if err != nil {
				return nil, err
			}
			file.Close()
		} else {
			return nil, err
		}
	}

	content, err := os.ReadFile(fileName)
	if err != nil {
		return nil, err
	}

	if err := yaml.Unmarshal(content, base); err != nil {
		return nil, err
	}

	return base, nil
}

// WriteToUserConfig allows you to set a value on the user config to be saved
// note that if you set a zero-value, it may be ignored e.g. a false or 0 or
// empty string this is because we are using the omitempty yaml directive so
// that we don't write a heap of zero values to the user's config.yml
func (c *AppConfig) WriteToUserConfig(updateConfig func(*UserConfig) error) error {
	userConfig, err := loadUserConfig(c.ConfigDir, &UserConfig{})
	if err != nil {
		return err
	}

	if err := updateConfig(userConfig); err != nil {
		return err
	}

	file, err := os.OpenFile(c.ConfigFilename(), os.O_WRONLY|os.O_CREATE, 0o666)
	if err != nil {
		return err
	}

	return yaml.NewEncoder(file).Encode(userConfig)
}

// ConfigFilename returns the filename of the current config file
func (c *AppConfig) ConfigFilename() string {
	return filepath.Join(c.ConfigDir, "config.yml")
}
</file>

<file path="pkg/config/config_default_platform.go">
//go:build !windows && !linux
// +build !windows,!linux

package config

// GetPlatformDefaultConfig gets the defaults for the platform
func GetPlatformDefaultConfig() OSConfig {
	return OSConfig{
		OpenCommand:     "open {{filename}}",
		OpenLinkCommand: "open {{link}}",
	}
}
</file>

<file path="pkg/config/config_linux.go">
package config

// GetPlatformDefaultConfig gets the defaults for the platform
func GetPlatformDefaultConfig() OSConfig {
	return OSConfig{
		OpenCommand:     `sh -c "xdg-open {{filename}} >/dev/null"`,
		OpenLinkCommand: `sh -c "xdg-open {{link}} >/dev/null"`,
	}
}
</file>

<file path="pkg/config/config_windows.go">
package config

// GetPlatformDefaultConfig gets the defaults for the platform
func GetPlatformDefaultConfig() OSConfig {
	return OSConfig{
		OpenCommand:     `cmd /c "start "" {{filename}}"`,
		OpenLinkCommand: `cmd /c "start "" {{link}}"`,
	}
}
</file>

<file path="pkg/gui/panels/context_state.go">
package panels

import (
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/samber/lo"
)

// A 'context' generally corresponds to an item and the tab in the main panel that we're
// displaying. So if we switch to a new item, or change the tab in the panel panel
// for the current item, we end up with a new context. When we have a new context,
// we render new content to the main panel.
type ContextState[T any] struct {
	// index of the currently selected tab in the main view.
	mainTabIdx int
	// this function returns the tabs that we can display for an item (the tabs
	// are shown on the main view)
	GetMainTabs func() []MainTab[T]
	// This tells us whether we need to re-render to the main panel for a given item.
	// This should include the item's ID and if you want to invalidate the cache for
	// some other reason, you can add that to the key as well (e.g. the container's state).
	GetItemContextCacheKey func(item T) string
}

type MainTab[T any] struct {
	// key used as part of the context cache key
	Key string
	// title of the tab, rendered in the main view
	Title string
	// function to render the content of the tab
	Render func(item T) tasks.TaskFunc
}

func (self *ContextState[T]) GetMainTabTitles() []string {
	return lo.Map(self.GetMainTabs(), func(tab MainTab[T], _ int) string {
		return tab.Title
	})
}

func (self *ContextState[T]) GetCurrentContextKey(item T) string {
	return self.GetItemContextCacheKey(item) + "-" + self.GetCurrentMainTab().Key
}

func (self *ContextState[T]) GetCurrentMainTab() MainTab[T] {
	return self.GetMainTabs()[self.mainTabIdx]
}

func (self *ContextState[T]) HandleNextMainTab() {
	tabs := self.GetMainTabs()

	if len(tabs) == 0 {
		return
	}

	self.mainTabIdx = (self.mainTabIdx + 1) % len(tabs)
}

func (self *ContextState[T]) HandlePrevMainTab() {
	tabs := self.GetMainTabs()

	if len(tabs) == 0 {
		return
	}

	self.mainTabIdx = (self.mainTabIdx - 1 + len(tabs)) % len(tabs)
}

func (self *ContextState[T]) SetMainTabIndex(index int) {
	self.mainTabIdx = index
}
</file>

<file path="pkg/gui/panels/filtered_list_test.go">
package panels

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestFilteredListGet(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		args int
		want int
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: 1,
			want: 2,
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: 2,
			want: 3,
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{1}},
			args: 0,
			want: 2,
		},
	}

	for _, tt := range tests {
		if got := tt.f.Get(tt.args); got != tt.want {
			t.Errorf("FilteredList.Get() = %v, want %v", got, tt.want)
		}
	}
}

func TestFilteredListLen(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		want int
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			want: 3,
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{1}},
			want: 1,
		},
	}

	for _, tt := range tests {
		if got := tt.f.Len(); got != tt.want {
			t.Errorf("FilteredList.Len() = %v, want %v", got, tt.want)
		}
	}
}

func TestFilteredListFilter(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		args func(int, int) bool
		want *FilteredList[int]
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: func(i int, _ int) bool { return i%2 == 0 },
			want: &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{1}},
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: func(i int, _ int) bool { return i%2 == 1 },
			want: &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 2}},
		},
	}

	for _, tt := range tests {
		tt.f.Filter(tt.args)
		assert.EqualValues(t, tt.f.indices, tt.want.indices)
	}
}

func TestFilteredListSort(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		args func(int, int) bool
		want *FilteredList[int]
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: func(i int, j int) bool { return i < j },
			want: &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: func(i int, j int) bool { return i > j },
			want: &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{2, 1, 0}},
		},
	}

	for _, tt := range tests {
		tt.f.Sort(tt.args)
		assert.EqualValues(t, tt.f.indices, tt.want.indices)
	}
}

func TestFilteredListGetIndex(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		args int
		want int
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: 1,
			want: 0,
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: 2,
			want: 1,
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{1}},
			args: 0,
			want: -1,
		},
	}

	for _, tt := range tests {
		if got := tt.f.GetIndex(tt.args); got != tt.want {
			t.Errorf("FilteredList.GetIndex() = %v, want %v", got, tt.want)
		}
	}
}

func TestFilteredListGetItems(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		want []int
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			want: []int{1, 2, 3},
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{1}},
			want: []int{2},
		},
	}

	for _, tt := range tests {
		got := tt.f.GetItems()
		assert.EqualValues(t, got, tt.want)
	}
}

func TestFilteredListSetItems(t *testing.T) {
	tests := []struct {
		f    *FilteredList[int]
		args []int
		want *FilteredList[int]
	}{
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{0, 1, 2}},
			args: []int{4, 5, 6},
			want: &FilteredList[int]{allItems: []int{4, 5, 6}, indices: []int{0, 1, 2}},
		},
		{
			f:    &FilteredList[int]{allItems: []int{1, 2, 3}, indices: []int{1}},
			args: []int{4},
			want: &FilteredList[int]{allItems: []int{4}, indices: []int{0}},
		},
	}

	for _, tt := range tests {
		tt.f.SetItems(tt.args)
		assert.EqualValues(t, tt.f.indices, tt.want.indices)
		assert.EqualValues(t, tt.f.allItems, tt.want.allItems)
	}
}
</file>

<file path="pkg/gui/panels/filtered_list.go">
package panels

import (
	"sort"
	"sync"
)

type FilteredList[T comparable] struct {
	allItems []T
	// indices of items in the allItems slice that are included in the filtered list
	indices []int

	mutex sync.RWMutex
}

func NewFilteredList[T comparable]() *FilteredList[T] {
	return &FilteredList[T]{}
}

func (self *FilteredList[T]) SetItems(items []T) {
	self.mutex.Lock()
	defer self.mutex.Unlock()

	self.allItems = items
	self.indices = make([]int, len(items))
	for i := range self.indices {
		self.indices[i] = i
	}
}

func (self *FilteredList[T]) Filter(filter func(T, int) bool) {
	self.mutex.Lock()
	defer self.mutex.Unlock()

	self.indices = self.indices[:0]
	for i, item := range self.allItems {
		if filter(item, i) {
			self.indices = append(self.indices, i)
		}
	}
}

func (self *FilteredList[T]) Sort(less func(T, T) bool) {
	self.mutex.Lock()
	defer self.mutex.Unlock()

	if less == nil {
		return
	}

	sort.Slice(self.indices, func(i, j int) bool {
		return less(self.allItems[self.indices[i]], self.allItems[self.indices[j]])
	})
}

func (self *FilteredList[T]) Get(index int) T {
	self.mutex.RLock()
	defer self.mutex.RUnlock()

	return self.allItems[self.indices[index]]
}

func (self *FilteredList[T]) TryGet(index int) (T, bool) {
	self.mutex.RLock()
	defer self.mutex.RUnlock()

	if index < 0 || index >= len(self.indices) {
		var zero T
		return zero, false
	}

	return self.allItems[self.indices[index]], true
}

// returns the length of the filtered list
func (self *FilteredList[T]) Len() int {
	self.mutex.RLock()
	defer self.mutex.RUnlock()

	return len(self.indices)
}

func (self *FilteredList[T]) GetIndex(item T) int {
	self.mutex.RLock()
	defer self.mutex.RUnlock()

	for i, index := range self.indices {
		if self.allItems[index] == item {
			return i
		}
	}
	return -1
}

func (self *FilteredList[T]) GetItems() []T {
	self.mutex.RLock()
	defer self.mutex.RUnlock()

	result := make([]T, len(self.indices))
	for i, index := range self.indices {
		result[i] = self.allItems[index]
	}
	return result
}

func (self *FilteredList[T]) GetAllItems() []T {
	self.mutex.RLock()
	defer self.mutex.RUnlock()

	return self.allItems
}
</file>

<file path="pkg/gui/panels/list_panel.go">
package panels

import (
	"github.com/jesseduffield/gocui"
	lcUtils "github.com/jesseduffield/lazycore/pkg/utils"
)

type ListPanel[T comparable] struct {
	SelectedIdx int
	List        *FilteredList[T]
	View        *gocui.View
}

func (self *ListPanel[T]) SetSelectedLineIdx(value int) {
	clampedValue := 0
	if self.List.Len() > 0 {
		clampedValue = lcUtils.Clamp(value, 0, self.List.Len()-1)
	}

	self.SelectedIdx = clampedValue
}

func (self *ListPanel[T]) clampSelectedLineIdx() {
	clamped := lcUtils.Clamp(self.SelectedIdx, 0, self.List.Len()-1)

	if clamped != self.SelectedIdx {
		self.SelectedIdx = clamped
	}
}

// moves the cursor up or down by the given amount (up for negative values)
func (self *ListPanel[T]) moveSelectedLine(delta int) {
	self.SetSelectedLineIdx(self.SelectedIdx + delta)
}

func (self *ListPanel[T]) SelectNextLine() {
	self.moveSelectedLine(1)
}

func (self *ListPanel[T]) SelectPrevLine() {
	self.moveSelectedLine(-1)
}
</file>

<file path="pkg/gui/panels/side_list_panel.go">
package panels

import (
	"context"
	"fmt"
	"strings"

	"github.com/go-errors/errors"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

type ISideListPanel interface {
	SetMainTabIndex(int)
	HandleSelect() error
	GetView() *gocui.View
	Refocus()
	RerenderList() error
	IsFilterDisabled() bool
	IsHidden() bool
	HandleNextLine() error
	HandlePrevLine() error
	HandleClick() error
	HandlePrevMainTab() error
	HandleNextMainTab() error
}

// list panel at the side of the screen that renders content to the main panel
type SideListPanel[T comparable] struct {
	ContextState *ContextState[T]

	ListPanel[T]

	// message to render in the main view if there are no items in the panel
	// and it has focus. Leave empty if you don't want to render anything
	NoItemsMessage string

	// a representation of the gui
	Gui IGui

	// this Filter is applied on top of additional default filters
	Filter func(T) bool
	Sort   func(a, b T) bool

	// a callback to invoke when the item is clicked
	OnClick func(T) error

	// returns the cells that we render to the view in a table format. The cells will
	// be rendered with padding.
	GetTableCells func(T) []string

	// function to be called after re-rendering list. Can be nil
	OnRerender func() error

	// set this to true if you don't want to allow manual filtering via '/'
	DisableFilter bool

	// This can be nil if you want to always show the panel
	Hide func() bool
}

var _ ISideListPanel = &SideListPanel[int]{}

type IGui interface {
	HandleClick(v *gocui.View, itemCount int, selectedLine *int, handleSelect func() error) error
	NewSimpleRenderStringTask(getContent func() string) tasks.TaskFunc
	FocusY(selectedLine int, itemCount int, view *gocui.View)
	ShouldRefresh(contextKey string) bool
	GetMainView() *gocui.View
	IsCurrentView(*gocui.View) bool
	FilterString(view *gocui.View) string
	IgnoreStrings() []string
	Update(func() error)

	QueueTask(f func(ctx context.Context)) error
}

func (self *SideListPanel[T]) HandleClick() error {
	itemCount := self.List.Len()
	handleSelect := self.HandleSelect
	selectedLine := &self.SelectedIdx

	if err := self.Gui.HandleClick(self.View, itemCount, selectedLine, handleSelect); err != nil {
		return err
	}

	if self.OnClick != nil {
		selectedItem, err := self.GetSelectedItem()
		if err == nil {
			return self.OnClick(selectedItem)
		}
	}

	return nil
}

func (self *SideListPanel[T]) GetView() *gocui.View {
	return self.View
}

func (self *SideListPanel[T]) HandleSelect() error {
	item, err := self.GetSelectedItem()
	if err != nil {
		if err.Error() != self.NoItemsMessage {
			return err
		}

		if self.NoItemsMessage != "" {
			self.Gui.NewSimpleRenderStringTask(func() string { return self.NoItemsMessage })
		}

		return nil
	}

	self.Refocus()

	return self.renderContext(item)
}

func (self *SideListPanel[T]) renderContext(item T) error {
	if self.ContextState == nil {
		return nil
	}

	key := self.ContextState.GetCurrentContextKey(item)
	if !self.Gui.ShouldRefresh(key) {
		return nil
	}

	mainView := self.Gui.GetMainView()
	mainView.Tabs = self.ContextState.GetMainTabTitles()
	mainView.TabIndex = self.ContextState.mainTabIdx

	task := self.ContextState.GetCurrentMainTab().Render(item)

	return self.Gui.QueueTask(task)
}

func (self *SideListPanel[T]) GetSelectedItem() (T, error) {
	var zero T

	item, ok := self.List.TryGet(self.SelectedIdx)
	if !ok {
		// could probably have a better error here
		return zero, errors.New(self.NoItemsMessage)
	}

	return item, nil
}

func (self *SideListPanel[T]) HandleNextLine() error {
	self.SelectNextLine()

	return self.HandleSelect()
}

func (self *SideListPanel[T]) HandlePrevLine() error {
	self.SelectPrevLine()

	return self.HandleSelect()
}

func (self *SideListPanel[T]) HandleNextMainTab() error {
	if self.ContextState == nil {
		return nil
	}

	self.ContextState.HandleNextMainTab()

	return self.HandleSelect()
}

func (self *SideListPanel[T]) HandlePrevMainTab() error {
	if self.ContextState == nil {
		return nil
	}

	self.ContextState.HandlePrevMainTab()

	return self.HandleSelect()
}

func (self *SideListPanel[T]) Refocus() {
	self.Gui.FocusY(self.SelectedIdx, self.List.Len(), self.View)
}

func (self *SideListPanel[T]) SetItems(items []T) {
	self.List.SetItems(items)
	self.FilterAndSort()
}

func (self *SideListPanel[T]) FilterAndSort() {
	filterString := self.Gui.FilterString(self.View)

	self.List.Filter(func(item T, index int) bool {
		if self.Filter != nil && !self.Filter(item) {
			return false
		}

		if lo.SomeBy(self.Gui.IgnoreStrings(), func(ignore string) bool {
			return lo.SomeBy(self.GetTableCells(item), func(searchString string) bool {
				return strings.Contains(searchString, ignore)
			})
		}) {
			return false
		}

		if filterString != "" {
			return lo.SomeBy(self.GetTableCells(item), func(searchString string) bool {
				return strings.Contains(searchString, filterString)
			})
		}

		return true
	})

	self.List.Sort(self.Sort)

	self.clampSelectedLineIdx()
}

func (self *SideListPanel[T]) RerenderList() error {
	self.FilterAndSort()

	self.Gui.Update(func() error {
		self.View.Clear()
		table := lo.Map(self.List.GetItems(), func(item T, index int) []string {
			return self.GetTableCells(item)
		})
		renderedTable, err := utils.RenderTable(table)
		if err != nil {
			return err
		}
		fmt.Fprint(self.View, renderedTable)

		if self.OnRerender != nil {
			if err := self.OnRerender(); err != nil {
				return err
			}
		}

		if self.Gui.IsCurrentView(self.View) {
			return self.HandleSelect()
		}
		return nil
	})

	return nil
}

func (self *SideListPanel[T]) SetMainTabIndex(index int) {
	if self.ContextState == nil {
		return
	}

	self.ContextState.SetMainTabIndex(index)
}

func (self *SideListPanel[T]) IsFilterDisabled() bool {
	return self.DisableFilter
}

func (self *SideListPanel[T]) IsHidden() bool {
	if self.Hide == nil {
		return false
	}

	return self.Hide()
}
</file>

<file path="pkg/gui/presentation/container_stats.go">
package presentation

import (
	"fmt"
	"math"
	"reflect"
	"strconv"
	"strings"
	"time"

	"github.com/fatih/color"
	"github.com/jesseduffield/asciigraph"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/mcuadros/go-lookup"
	"github.com/samber/lo"
)

func RenderStats(userConfig *config.UserConfig, container *commands.Container, viewWidth int) (string, error) {
	stats, ok := container.GetLastStats()
	if !ok {
		return "", nil
	}

	graphSpecs := userConfig.Stats.Graphs
	graphs := make([]string, len(graphSpecs))
	for i, spec := range graphSpecs {
		graph, err := plotGraph(container, spec, viewWidth-10)
		if err != nil {
			return "", err
		}
		graphs[i] = utils.ColoredString(graph, utils.GetColorAttribute(spec.Color))
	}

	pidsCount := fmt.Sprintf("PIDs: %d", stats.ClientStats.PidsStats.Current)
	dataReceived := fmt.Sprintf("Traffic received: %s", utils.FormatDecimalBytes(stats.ClientStats.Networks.Eth0.RxBytes))
	dataSent := fmt.Sprintf("Traffic sent: %s", utils.FormatDecimalBytes(stats.ClientStats.Networks.Eth0.TxBytes))

	originalStats, err := utils.MarshalIntoYaml(stats)
	if err != nil {
		return "", err
	}

	contents := fmt.Sprintf("\n\n%s\n\n%s\n\n%s\n%s\n\n%s",
		utils.ColoredString(strings.Join(graphs, "\n\n"), color.FgGreen),
		pidsCount,
		dataReceived,
		dataSent,
		utils.ColoredYamlString(string(originalStats)),
	)

	return contents, nil
}

// plotGraph returns the plotted graph based on the graph spec and the stat history
func plotGraph(container *commands.Container, spec config.GraphConfig, width int) (string, error) {
	container.StatsMutex.Lock()
	defer container.StatsMutex.Unlock()

	data := make([]float64, len(container.StatHistory))

	for i, stats := range container.StatHistory {
		value, err := lookup.LookupString(stats, spec.StatPath)
		if err != nil {
			return "Could not find key: " + spec.StatPath, nil
		}
		floatValue, err := getFloat(value.Interface())
		if err != nil {
			return "", err
		}

		data[i] = floatValue
	}

	max := spec.Max
	if spec.MaxType == "" {
		max = lo.Max(data)
	}

	min := spec.Min
	if spec.MinType == "" {
		min = lo.Min(data)
	}

	height := 10
	if spec.Height > 0 {
		height = spec.Height
	}

	caption := fmt.Sprintf(
		"%s: %0.2f (%v)",
		spec.Caption,
		data[len(data)-1],
		time.Since(container.StatHistory[0].RecordedAt).Round(time.Second),
	)

	return asciigraph.Plot(
		data,
		asciigraph.Height(height),
		asciigraph.Width(width),
		asciigraph.Min(min),
		asciigraph.Max(max),
		asciigraph.Caption(caption),
	), nil
}

// from Dave C's answer at https://stackoverflow.com/questions/20767724/converting-unknown-interface-to-float64-in-golang
func getFloat(unk interface{}) (float64, error) {
	floatType := reflect.TypeOf(float64(0))
	stringType := reflect.TypeOf("")

	switch i := unk.(type) {
	case float64:
		return i, nil
	case float32:
		return float64(i), nil
	case int64:
		return float64(i), nil
	case int32:
		return float64(i), nil
	case int:
		return float64(i), nil
	case uint64:
		return float64(i), nil
	case uint32:
		return float64(i), nil
	case uint:
		return float64(i), nil
	case string:
		return strconv.ParseFloat(i, 64)
	default:
		v := reflect.ValueOf(unk)
		v = reflect.Indirect(v)
		if v.Type().ConvertibleTo(floatType) {
			fv := v.Convert(floatType)
			return fv.Float(), nil
		} else if v.Type().ConvertibleTo(stringType) {
			sv := v.Convert(stringType)
			s := sv.String()
			return strconv.ParseFloat(s, 64)
		} else {
			return math.NaN(), fmt.Errorf("Can't convert %v to float64", v.Type())
		}
	}
}
</file>

<file path="pkg/gui/presentation/containers.go">
package presentation

import (
	"fmt"
	"sort"
	"strconv"
	"strings"

	"github.com/docker/docker/api/types/container"
	"github.com/fatih/color"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func GetContainerDisplayStrings(guiConfig *config.GuiConfig, container *commands.Container) []string {
	return []string{
		getContainerDisplayStatus(guiConfig, container),
		getContainerDisplaySubstatus(guiConfig, container),
		container.Name,
		getDisplayCPUPerc(container),
		utils.ColoredString(displayPorts(container), color.FgYellow),
		utils.ColoredString(displayContainerImage(container), color.FgMagenta),
	}
}

func displayContainerImage(container *commands.Container) string {
	return strings.TrimPrefix(container.Container.Image, "sha256:")
}

func displayPorts(c *commands.Container) string {
	portStrings := lo.Map(c.Container.Ports, func(port container.Port, _ int) string {
		if port.PublicPort == 0 {
			return fmt.Sprintf("%d/%s", port.PrivatePort, port.Type)
		}

		// docker ps will show '0.0.0.0:80->80/tcp' but we'll show
		// '80->80/tcp' instead to save space (unless the IP is something other than
		// 0.0.0.0)
		ipString := ""
		if port.IP != "0.0.0.0" {
			ipString = port.IP + ":"
		}
		return fmt.Sprintf("%s%d->%d/%s", ipString, port.PublicPort, port.PrivatePort, port.Type)
	})

	// sorting because the order of the ports is not deterministic
	// and we don't want to have them constantly swapping
	sort.Strings(portStrings)

	return strings.Join(portStrings, ", ")
}

// getContainerDisplayStatus returns the colored status of the container
func getContainerDisplayStatus(guiConfig *config.GuiConfig, c *commands.Container) string {
	shortStatusMap := map[string]string{
		"paused":     "P",
		"exited":     "X",
		"created":    "C",
		"removing":   "RM",
		"restarting": "RS",
		"running":    "R",
		"dead":       "D",
	}

	iconStatusMap := map[string]rune{
		"paused":     'â—«',
		"exited":     'â¨¯',
		"created":    '+',
		"removing":   'âˆ’',
		"restarting": 'âŸ³',
		"running":    'â–¶',
		"dead":       '!',
	}

	var containerState string
	switch guiConfig.ContainerStatusHealthStyle {
	case "short":
		containerState = shortStatusMap[c.Container.State]
	case "icon":
		containerState = string(iconStatusMap[c.Container.State])
	case "long":
		fallthrough
	default:
		containerState = c.Container.State
	}

	return utils.ColoredString(containerState, getContainerColor(c))
}

// GetDisplayStatus returns the exit code if the container has exited, and the health status if the container is running (and has a health check)
func getContainerDisplaySubstatus(guiConfig *config.GuiConfig, c *commands.Container) string {
	if !c.DetailsLoaded() {
		return ""
	}

	switch c.Container.State {
	case "exited":
		return utils.ColoredString(
			fmt.Sprintf("(%s)", strconv.Itoa(c.Details.State.ExitCode)), getContainerColor(c),
		)
	case "running":
		return getHealthStatus(guiConfig, c)
	default:
		return ""
	}
}

func getHealthStatus(guiConfig *config.GuiConfig, c *commands.Container) string {
	if !c.DetailsLoaded() {
		return ""
	}

	healthStatusColorMap := map[string]color.Attribute{
		"healthy":   color.FgGreen,
		"unhealthy": color.FgRed,
		"starting":  color.FgYellow,
	}

	if c.Details.State.Health == nil {
		return ""
	}

	shortHealthStatusMap := map[string]string{
		"healthy":   "H",
		"unhealthy": "U",
		"starting":  "S",
	}

	iconHealthStatusMap := map[string]rune{
		"healthy":   'âœ”',
		"unhealthy": '?',
		"starting":  'â€¦',
	}

	var healthStatus string
	switch guiConfig.ContainerStatusHealthStyle {
	case "short":
		healthStatus = shortHealthStatusMap[c.Details.State.Health.Status]
	case "icon":
		healthStatus = string(iconHealthStatusMap[c.Details.State.Health.Status])
	case "long":
		fallthrough
	default:
		healthStatus = c.Details.State.Health.Status
	}

	if healthStatusColor, ok := healthStatusColorMap[c.Details.State.Health.Status]; ok {
		return utils.ColoredString(fmt.Sprintf("(%s)", healthStatus), healthStatusColor)
	}
	return ""
}

// getDisplayCPUPerc colors the cpu percentage based on how extreme it is
func getDisplayCPUPerc(c *commands.Container) string {
	stats, ok := c.GetLastStats()
	if !ok {
		return ""
	}

	percentage := stats.DerivedStats.CPUPercentage
	formattedPercentage := fmt.Sprintf("%.2f%%", stats.DerivedStats.CPUPercentage)

	var clr color.Attribute
	if percentage > 90 {
		clr = color.FgRed
	} else if percentage > 50 {
		clr = color.FgYellow
	} else {
		clr = color.FgWhite
	}

	return utils.ColoredString(formattedPercentage, clr)
}

// getContainerColor Container color
func getContainerColor(c *commands.Container) color.Attribute {
	switch c.Container.State {
	case "exited":
		// This means the colour may be briefly yellow and then switch to red upon starting
		// Not sure what a better alternative is.
		if !c.DetailsLoaded() || c.Details.State.ExitCode == 0 {
			return color.FgYellow
		}
		return color.FgRed
	case "created":
		return color.FgCyan
	case "running":
		return color.FgGreen
	case "paused":
		return color.FgYellow
	case "dead":
		return color.FgRed
	case "restarting":
		return color.FgBlue
	case "removing":
		return color.FgMagenta
	default:
		return color.FgWhite
	}
}
</file>

<file path="pkg/gui/presentation/images.go">
package presentation

import (
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

func GetImageDisplayStrings(image *commands.Image) []string {
	return []string{
		image.Name,
		image.Tag,
		utils.FormatDecimalBytes(int(image.Image.Size)),
	}
}
</file>

<file path="pkg/gui/presentation/menu_items.go">
package presentation

import "github.com/jesseduffield/lazydocker/pkg/gui/types"

func GetMenuItemDisplayStrings(menuItem *types.MenuItem) []string {
	return menuItem.LabelColumns
}
</file>

<file path="pkg/gui/presentation/networks.go">
package presentation

import "github.com/jesseduffield/lazydocker/pkg/commands"

func GetNetworkDisplayStrings(network *commands.Network) []string {
	return []string{network.Network.Driver, network.Name}
}
</file>

<file path="pkg/gui/presentation/projects.go">
package presentation

import "github.com/jesseduffield/lazydocker/pkg/commands"

func GetProjectDisplayStrings(project *commands.Project) []string {
	return []string{project.Name}
}
</file>

<file path="pkg/gui/presentation/services.go">
package presentation

import (
	"github.com/fatih/color"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

func GetServiceDisplayStrings(guiConfig *config.GuiConfig, service *commands.Service) []string {
	if service.Container == nil {
		var containerState string
		switch guiConfig.ContainerStatusHealthStyle {
		case "short":
			containerState = "n"
		case "icon":
			containerState = "."
		case "long":
			fallthrough
		default:
			containerState = "none"
		}

		return []string{
			utils.ColoredString(containerState, color.FgBlue),
			"",
			service.Name,
			"",
			"",
			"",
		}
	}

	container := service.Container
	return []string{
		getContainerDisplayStatus(guiConfig, container),
		getContainerDisplaySubstatus(guiConfig, container),
		service.Name,
		getDisplayCPUPerc(container),
		utils.ColoredString(displayPorts(container), color.FgYellow),
		utils.ColoredString(displayContainerImage(container), color.FgMagenta),
	}
}
</file>

<file path="pkg/gui/presentation/volumes.go">
package presentation

import "github.com/jesseduffield/lazydocker/pkg/commands"

func GetVolumeDisplayStrings(volume *commands.Volume) []string {
	return []string{volume.Volume.Driver, volume.Name}
}
</file>

<file path="pkg/gui/types/types.go">
package types

type MenuItem struct {
	Label string

	// alternative to Label. Allows specifying columns which will be auto-aligned
	LabelColumns []string

	OnPress func() error

	// Only applies when Label is used
	OpensMenu bool
}
</file>

<file path="pkg/gui/app_status_manager.go">
package gui

import (
	"time"

	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

type appStatus struct {
	name       string
	statusType string
	duration   int
}

type statusManager struct {
	statuses []appStatus
}

func (m *statusManager) removeStatus(name string) {
	newStatuses := []appStatus{}
	for _, status := range m.statuses {
		if status.name != name {
			newStatuses = append(newStatuses, status)
		}
	}
	m.statuses = newStatuses
}

func (m *statusManager) addWaitingStatus(name string) {
	m.removeStatus(name)
	newStatus := appStatus{
		name:       name,
		statusType: "waiting",
		duration:   0,
	}
	m.statuses = append([]appStatus{newStatus}, m.statuses...)
}

func (m *statusManager) getStatusString() string {
	if len(m.statuses) == 0 {
		return ""
	}
	topStatus := m.statuses[0]
	if topStatus.statusType == "waiting" {
		return topStatus.name + " " + utils.Loader()
	}
	return topStatus.name
}

// WithWaitingStatus wraps a function and shows a waiting status while the function is still executing
func (gui *Gui) WithWaitingStatus(name string, f func() error) error {
	go func() {
		gui.statusManager.addWaitingStatus(name)

		defer func() {
			gui.statusManager.removeStatus(name)
		}()

		go func() {
			ticker := time.NewTicker(time.Millisecond * 50)
			defer ticker.Stop()
			for range ticker.C {
				appStatus := gui.statusManager.getStatusString()
				if appStatus == "" {
					return
				}
				if err := gui.renderString(gui.g, "appStatus", appStatus); err != nil {
					gui.Log.Warn(err)
				}
			}
		}()

		if err := f(); err != nil {
			gui.g.Update(func(g *gocui.Gui) error {
				return gui.createErrorPanel(err.Error())
			})
		}
	}()

	return nil
}
</file>

<file path="pkg/gui/arrangement.go">
package gui

import (
	"github.com/jesseduffield/lazycore/pkg/boxlayout"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/mattn/go-runewidth"
	"github.com/samber/lo"
)

// In this file we use the boxlayout package, along with knowledge about the app's state,
// to arrange the windows (i.e. panels) on the screen.

const INFO_SECTION_PADDING = " "

func (gui *Gui) getWindowDimensions(informationStr string, appStatus string) map[string]boxlayout.Dimensions {
	minimumHeight := 9
	minimumWidth := 10
	width, height := gui.g.Size()
	if width < minimumWidth || height < minimumHeight {
		return boxlayout.ArrangeWindows(&boxlayout.Box{Window: "limit"}, 0, 0, width, height)
	}

	sideSectionWeight, mainSectionWeight := gui.getMidSectionWeights()

	sidePanelsDirection := boxlayout.COLUMN
	portraitMode := width <= 84 && height > 45
	if portraitMode {
		sidePanelsDirection = boxlayout.ROW
	}

	showInfoSection := gui.Config.UserConfig.Gui.ShowBottomLine || gui.State.Filter.active
	infoSectionSize := 0
	if showInfoSection {
		infoSectionSize = 1
	}

	root := &boxlayout.Box{
		Direction: boxlayout.ROW,
		Children: []*boxlayout.Box{
			{
				Direction: sidePanelsDirection,
				Weight:    1,
				Children: []*boxlayout.Box{
					{
						Direction:           boxlayout.ROW,
						Weight:              sideSectionWeight,
						ConditionalChildren: gui.sidePanelChildren,
					},
					{
						Window: "main",
						Weight: mainSectionWeight,
					},
				},
			},
			{
				Direction: boxlayout.COLUMN,
				Size:      infoSectionSize,
				Children:  gui.infoSectionChildren(informationStr, appStatus),
			},
		},
	}

	return boxlayout.ArrangeWindows(root, 0, 0, width, height)
}

func (gui *Gui) getMidSectionWeights() (int, int) {
	currentWindow := gui.currentStaticWindowName()

	// we originally specified this as a ratio i.e. .20 would correspond to a weight of 1 against 4
	sidePanelWidthRatio := gui.Config.UserConfig.Gui.SidePanelWidth
	// we could make this better by creating ratios like 2:3 rather than always 1:something
	mainSectionWeight := int(1/sidePanelWidthRatio) - 1
	sideSectionWeight := 1

	if currentWindow == "main" && gui.State.ScreenMode == SCREEN_FULL {
		mainSectionWeight = 1
		sideSectionWeight = 0
	} else {
		if gui.State.ScreenMode == SCREEN_HALF {
			mainSectionWeight = 1
		} else if gui.State.ScreenMode == SCREEN_FULL {
			mainSectionWeight = 0
		}
	}

	return sideSectionWeight, mainSectionWeight
}

func (gui *Gui) infoSectionChildren(informationStr string, appStatus string) []*boxlayout.Box {
	result := []*boxlayout.Box{}

	if len(appStatus) > 0 {
		result = append(result,
			&boxlayout.Box{
				Window: "appStatus",
				Size:   runewidth.StringWidth(appStatus) + runewidth.StringWidth(INFO_SECTION_PADDING),
			},
		)
	}

	if gui.State.Filter.active {
		return append(result, []*boxlayout.Box{
			{
				Window: "filterPrefix",
				Size:   runewidth.StringWidth(gui.filterPrompt()),
			},
			{
				Window: "filter",
				Weight: 1,
			},
		}...)
	}

	result = append(result,
		[]*boxlayout.Box{
			{
				Window: "options",
				Weight: 1,
			},
			{
				Window: "information",
				// unlike appStatus, informationStr has various colors so we need to decolorise before taking the length
				Size: runewidth.StringWidth(INFO_SECTION_PADDING) + runewidth.StringWidth(utils.Decolorise(informationStr)),
			},
		}...,
	)

	return result
}

func (gui *Gui) sideViewNames() []string {
	visibleSidePanels := lo.Filter(gui.allSidePanels(), func(panel panels.ISideListPanel, _ int) bool {
		return !panel.IsHidden()
	})

	return lo.Map(visibleSidePanels, func(panel panels.ISideListPanel, _ int) string {
		return panel.GetView().Name()
	})
}

func (gui *Gui) sidePanelChildren(width int, height int) []*boxlayout.Box {
	currentWindow := gui.currentSideWindowName()
	sideWindowNames := gui.sideViewNames()

	if gui.State.ScreenMode == SCREEN_FULL || gui.State.ScreenMode == SCREEN_HALF {
		fullHeightBox := func(window string) *boxlayout.Box {
			if window == currentWindow {
				return &boxlayout.Box{
					Window: window,
					Weight: 1,
				}
			} else {
				return &boxlayout.Box{
					Window: window,
					Size:   0,
				}
			}
		}

		return lo.Map(sideWindowNames, func(window string, _ int) *boxlayout.Box {
			return fullHeightBox(window)
		})

	} else if height >= 28 {
		accordionMode := gui.Config.UserConfig.Gui.ExpandFocusedSidePanel
		accordionBox := func(defaultBox *boxlayout.Box) *boxlayout.Box {
			if accordionMode && defaultBox.Window == currentWindow {
				return &boxlayout.Box{
					Window: defaultBox.Window,
					Weight: 2,
				}
			}

			return defaultBox
		}

		return append([]*boxlayout.Box{
			{
				Window: sideWindowNames[0],
				Size:   3,
			},
		}, lo.Map(sideWindowNames[1:], func(window string, _ int) *boxlayout.Box {
			return accordionBox(&boxlayout.Box{Window: window, Weight: 1})
		})...)
	} else {
		squashedHeight := 1
		if height >= 21 {
			squashedHeight = 3
		}

		squashedSidePanelBox := func(window string) *boxlayout.Box {
			if window == currentWindow {
				return &boxlayout.Box{
					Window: window,
					Weight: 1,
				}
			} else {
				return &boxlayout.Box{
					Window: window,
					Size:   squashedHeight,
				}
			}
		}

		return lo.Map(sideWindowNames, func(window string, _ int) *boxlayout.Box {
			return squashedSidePanelBox(window)
		})
	}
}
</file>

<file path="pkg/gui/confirmation_panel.go">
// lots of this has been directly ported from one of the example files, will brush up later

// Copyright 2014 The gocui Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

package gui

import (
	"strings"

	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
)

func (gui *Gui) wrappedConfirmationFunction(function func(*gocui.Gui, *gocui.View) error) func(*gocui.Gui, *gocui.View) error {
	return func(g *gocui.Gui, v *gocui.View) error {
		if err := gui.closeConfirmationPrompt(); err != nil {
			return err
		}

		if function != nil {
			if err := function(g, v); err != nil {
				return err
			}
		}

		return nil
	}
}

func (gui *Gui) closeConfirmationPrompt() error {
	if err := gui.returnFocus(); err != nil {
		return err
	}
	gui.g.DeleteViewKeybindings("confirmation")
	gui.Views.Confirmation.Visible = false
	return nil
}

func (gui *Gui) getMessageHeight(wrap bool, message string, width int) int {
	lines := strings.Split(message, "\n")
	lineCount := 0
	// if we need to wrap, calculate height to fit content within view's width
	if wrap {
		for _, line := range lines {
			lineCount += len(line)/width + 1
		}
	} else {
		lineCount = len(lines)
	}
	return lineCount
}

func (gui *Gui) getConfirmationPanelDimensions(wrap bool, prompt string) (int, int, int, int) {
	width, height := gui.g.Size()
	panelWidth := width / 2
	panelHeight := gui.getMessageHeight(wrap, prompt, panelWidth)
	return width/2 - panelWidth/2,
		height/2 - panelHeight/2 - panelHeight%2 - 1,
		width/2 + panelWidth/2,
		height/2 + panelHeight/2
}

func (gui *Gui) createPromptPanel(title string, handleConfirm func(*gocui.Gui, *gocui.View) error) error {
	gui.onNewPopupPanel()
	err := gui.prepareConfirmationPanel(title, "")
	if err != nil {
		return err
	}
	gui.Views.Confirmation.Editable = true
	return gui.setKeyBindings(gui.g, handleConfirm, nil)
}

func (gui *Gui) prepareConfirmationPanel(title, prompt string) error {
	x0, y0, x1, y1 := gui.getConfirmationPanelDimensions(true, prompt)
	confirmationView := gui.Views.Confirmation
	_, err := gui.g.SetView("confirmation", x0, y0, x1, y1, 0)
	if err != nil {
		return err
	}
	confirmationView.Title = title
	confirmationView.Visible = true
	gui.g.Update(func(g *gocui.Gui) error {
		return gui.switchFocus(confirmationView)
	})
	return nil
}

func (gui *Gui) onNewPopupPanel() {
	gui.Views.Menu.Visible = false
	gui.Views.Confirmation.Visible = false
}

// It is very important that within this function we never include the original prompt in any error messages, because it may contain e.g. a user password.
// The golangcilint unparam linter complains that handleClose is alwans nil but one day it won't be nil.
// nolint:unparam
func (gui *Gui) createConfirmationPanel(title, prompt string, handleConfirm, handleClose func(*gocui.Gui, *gocui.View) error) error {
	return gui.createPopupPanel(title, prompt, handleConfirm, handleClose)
}

func (gui *Gui) createPopupPanel(title, prompt string, handleConfirm, handleClose func(*gocui.Gui, *gocui.View) error) error {
	gui.onNewPopupPanel()
	gui.g.Update(func(g *gocui.Gui) error {
		if gui.currentViewName() == "confirmation" {
			if err := gui.closeConfirmationPrompt(); err != nil {
				gui.Log.Error(err.Error())
			}
		}
		err := gui.prepareConfirmationPanel(title, prompt)
		if err != nil {
			return err
		}
		gui.Views.Confirmation.Editable = false
		if err := gui.renderString(g, "confirmation", prompt); err != nil {
			return err
		}
		return gui.setKeyBindings(g, handleConfirm, handleClose)
	})
	return nil
}

func (gui *Gui) setKeyBindings(g *gocui.Gui, handleConfirm, handleClose func(*gocui.Gui, *gocui.View) error) error {
	// would use a loop here but because the function takes an interface{} and slices of interfaces require even more boilerplate
	if err := g.SetKeybinding("confirmation", gocui.KeyEnter, gocui.ModNone, gui.wrappedConfirmationFunction(handleConfirm)); err != nil {
		return err
	}
	if err := g.SetKeybinding("confirmation", 'y', gocui.ModNone, gui.wrappedConfirmationFunction(handleConfirm)); err != nil {
		return err
	}

	if err := g.SetKeybinding("confirmation", gocui.KeyEsc, gocui.ModNone, gui.wrappedConfirmationFunction(handleClose)); err != nil {
		return err
	}
	if err := g.SetKeybinding("confirmation", 'n', gocui.ModNone, gui.wrappedConfirmationFunction(handleClose)); err != nil {
		return err
	}

	return nil
}

func (gui *Gui) createErrorPanel(message string) error {
	colorFunction := color.New(color.FgRed).SprintFunc()
	coloredMessage := colorFunction(strings.TrimSpace(message))
	return gui.createConfirmationPanel(gui.Tr.ErrorTitle, coloredMessage, nil, nil)
}

func (gui *Gui) renderConfirmationOptions() error {
	optionsMap := map[string]string{
		"n/esc":   gui.Tr.No,
		"y/enter": gui.Tr.Yes,
	}
	return gui.renderOptionsMap(optionsMap)
}
</file>

<file path="pkg/gui/container_logs.go">
package gui

import (
	"context"
	"fmt"
	"io"
	"os"
	"os/signal"
	"time"

	"github.com/docker/docker/api/types/container"
	"github.com/docker/docker/pkg/stdcopy"
	"github.com/fatih/color"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

func (gui *Gui) renderContainerLogsToMain(container *commands.Container) tasks.TaskFunc {
	return gui.NewTickerTask(TickerTaskOpts{
		Func: func(ctx context.Context, notifyStopped chan struct{}) {
			gui.renderContainerLogsToMainAux(container, ctx, notifyStopped)
		},
		Duration: time.Millisecond * 200,
		// TODO: see why this isn't working (when switching from Top tab to Logs tab in the services panel, the tops tab's content isn't removed)
		Before:     func(ctx context.Context) { gui.clearMainView() },
		Wrap:       gui.Config.UserConfig.Gui.WrapMainPanel,
		Autoscroll: true,
	})
}

func (gui *Gui) renderContainerLogsToMainAux(container *commands.Container, ctx context.Context, notifyStopped chan struct{}) {
	gui.clearMainView()
	defer func() {
		notifyStopped <- struct{}{}
	}()

	mainView := gui.Views.Main

	if err := gui.writeContainerLogs(container, ctx, mainView); err != nil {
		gui.Log.Error(err)
	}

	// if we are here because the task has been stopped, we should return
	// if we are here then the container must have exited, meaning we should wait until it's back again before
	ticker := time.NewTicker(time.Millisecond * 100)
	defer ticker.Stop()
	for {
		select {
		case <-ctx.Done():
			return
		case <-ticker.C:
			result, err := container.Inspect()
			if err != nil {
				// if we get an error, then the container has probably been removed so we'll get out of here
				gui.Log.Error(err)
				return
			}
			if result.State.Running {
				return
			}
		}
	}
}

func (gui *Gui) renderLogsToStdout(container *commands.Container) {
	stop := make(chan os.Signal, 1)
	defer signal.Stop(stop)

	ctx, cancel := context.WithCancel(context.Background())
	go func() {
		signal.Notify(stop, os.Interrupt)
		<-stop
		cancel()
	}()

	if err := gui.g.Suspend(); err != nil {
		gui.Log.Error(err)
		return
	}

	defer func() {
		if err := gui.g.Resume(); err != nil {
			gui.Log.Error(err)
		}
	}()

	if err := gui.writeContainerLogs(container, ctx, os.Stdout); err != nil {
		gui.Log.Error(err)
		return
	}

	gui.promptToReturn()
}

func (gui *Gui) promptToReturn() {
	if !gui.Config.UserConfig.Gui.ReturnImmediately {
		fmt.Fprintf(os.Stdout, "\n\n%s", utils.ColoredString(gui.Tr.PressEnterToReturn, color.FgGreen))

		// wait for enter press
		if _, err := fmt.Scanln(); err != nil {
			gui.Log.Error(err)
		}
	}
}

func (gui *Gui) writeContainerLogs(ctr *commands.Container, ctx context.Context, writer io.Writer) error {
	readCloser, err := gui.DockerCommand.Client.ContainerLogs(ctx, ctr.ID, container.LogsOptions{
		ShowStdout: true,
		ShowStderr: true,
		Timestamps: gui.Config.UserConfig.Logs.Timestamps,
		Since:      gui.Config.UserConfig.Logs.Since,
		Tail:       gui.Config.UserConfig.Logs.Tail,
		Follow:     true,
	})
	if err != nil {
		gui.Log.Error(err)
		return err
	}
	defer readCloser.Close()

	if !ctr.DetailsLoaded() {
		// loop until the details load or context is cancelled, using timer
		ticker := time.NewTicker(time.Millisecond * 100)
		defer ticker.Stop()
	outer:
		for {
			select {
			case <-ctx.Done():
				return nil
			case <-ticker.C:
				if ctr.DetailsLoaded() {
					break outer
				}
			}
		}
	}

	if ctr.Details.Config.Tty {
		_, err = io.Copy(writer, readCloser)
		if err != nil {
			return err
		}
	} else {
		_, err = stdcopy.StdCopy(writer, writer, readCloser)
		if err != nil {
			return err
		}
	}

	return nil
}
</file>

<file path="pkg/gui/containers_panel.go">
package gui

import (
	"context"
	"fmt"
	"strings"
	"time"

	"github.com/docker/docker/api/types/container"
	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func (gui *Gui) getContainersPanel() *panels.SideListPanel[*commands.Container] {
	// Standalone containers are containers which are either one-off containers, or whose service is not part of this docker-compose context.
	isStandaloneContainer := func(container *commands.Container) bool {
		if container.OneOff || container.ServiceName == "" {
			return true
		}

		return !lo.SomeBy(gui.Panels.Services.List.GetAllItems(), func(service *commands.Service) bool {
			return service.Name == container.ServiceName
		})
	}

	return &panels.SideListPanel[*commands.Container]{
		ContextState: &panels.ContextState[*commands.Container]{
			GetMainTabs: func() []panels.MainTab[*commands.Container] {
				return []panels.MainTab[*commands.Container]{
					{
						Key:    "logs",
						Title:  gui.Tr.LogsTitle,
						Render: gui.renderContainerLogsToMain,
					},
					{
						Key:    "stats",
						Title:  gui.Tr.StatsTitle,
						Render: gui.renderContainerStats,
					},
					{
						Key:    "env",
						Title:  gui.Tr.EnvTitle,
						Render: gui.renderContainerEnv,
					},
					{
						Key:    "config",
						Title:  gui.Tr.ConfigTitle,
						Render: gui.renderContainerConfig,
					},
					{
						Key:    "top",
						Title:  gui.Tr.TopTitle,
						Render: gui.renderContainerTop,
					},
				}
			},
			GetItemContextCacheKey: func(container *commands.Container) string {
				// Including the container state in the cache key so that if the container
				// restarts we re-read the logs. In the past we've had some glitchiness
				// where a container restarts but the new logs don't get read.
				// Note that this might be jarring if we have a lot of logs and the container
				// restarts a lot, so let's keep an eye on it.
				return "containers-" + container.ID + "-" + container.Container.State
			},
		},
		ListPanel: panels.ListPanel[*commands.Container]{
			List: panels.NewFilteredList[*commands.Container](),
			View: gui.Views.Containers,
		},
		NoItemsMessage: gui.Tr.NoContainers,
		Gui:            gui.intoInterface(),
		// sortedContainers returns containers sorted by state if c.SortContainersByState is true (follows 1- running, 2- exited, 3- created)
		// and sorted by name if c.SortContainersByState is false
		Sort: func(a *commands.Container, b *commands.Container) bool {
			return sortContainers(a, b, gui.Config.UserConfig.Gui.LegacySortContainers)
		},
		Filter: func(container *commands.Container) bool {
			// Note that this is O(N*M) time complexity where N is the number of services
			// and M is the number of containers. We expect N to be small but M may be large,
			// so we will need to keep an eye on this.
			if !gui.Config.UserConfig.Gui.ShowAllContainers && !isStandaloneContainer(container) {
				return false
			}

			if !gui.State.ShowExitedContainers && container.Container.State == "exited" {
				return false
			}

			return true
		},
		GetTableCells: func(container *commands.Container) []string {
			return presentation.GetContainerDisplayStrings(&gui.Config.UserConfig.Gui, container)
		},
	}
}

var containerStates = map[string]int{
	"running": 1,
	"exited":  2,
	"created": 3,
}

func sortContainers(a *commands.Container, b *commands.Container, legacySort bool) bool {
	if legacySort {
		return a.Name < b.Name
	}

	stateLeft := containerStates[a.Container.State]
	stateRight := containerStates[b.Container.State]
	if stateLeft == stateRight {
		return a.Name < b.Name
	}

	return containerStates[a.Container.State] < containerStates[b.Container.State]
}

func (gui *Gui) renderContainerEnv(container *commands.Container) tasks.TaskFunc {
	return gui.NewSimpleRenderStringTask(func() string { return gui.containerEnv(container) })
}

func (gui *Gui) containerEnv(container *commands.Container) string {
	if !container.DetailsLoaded() {
		return gui.Tr.WaitingForContainerInfo
	}

	if len(container.Details.Config.Env) == 0 {
		return gui.Tr.NothingToDisplay
	}

	envVarsList := lo.Map(container.Details.Config.Env, func(envVar string, _ int) []string {
		splitEnv := strings.SplitN(envVar, "=", 2)
		key := splitEnv[0]
		value := ""
		if len(splitEnv) > 1 {
			value = splitEnv[1]
		}
		return []string{
			utils.ColoredString(key+":", color.FgGreen),
			utils.ColoredString(value, color.FgYellow),
		}
	})

	output, err := utils.RenderTable(envVarsList)
	if err != nil {
		gui.Log.Error(err)
		return gui.Tr.CannotDisplayEnvVariables
	}

	return output
}

func (gui *Gui) renderContainerConfig(container *commands.Container) tasks.TaskFunc {
	return gui.NewSimpleRenderStringTask(func() string { return gui.containerConfigStr(container) })
}

func (gui *Gui) containerConfigStr(container *commands.Container) string {
	if !container.DetailsLoaded() {
		return gui.Tr.WaitingForContainerInfo
	}

	padding := 10
	output := ""
	output += utils.WithPadding("ID: ", padding) + container.ID + "\n"
	output += utils.WithPadding("Name: ", padding) + container.Name + "\n"
	output += utils.WithPadding("Image: ", padding) + container.Details.Config.Image + "\n"
	output += utils.WithPadding("Command: ", padding) + strings.Join(append([]string{container.Details.Path}, container.Details.Args...), " ") + "\n"
	output += utils.WithPadding("Labels: ", padding) + utils.FormatMap(padding, container.Details.Config.Labels)
	output += "\n"

	output += utils.WithPadding("Mounts: ", padding)
	if len(container.Details.Mounts) > 0 {
		output += "\n"
		for _, mount := range container.Details.Mounts {
			if mount.Type == "volume" {
				output += fmt.Sprintf("%s%s %s\n", strings.Repeat(" ", padding), utils.ColoredString(string(mount.Type)+":", color.FgYellow), mount.Name)
			} else {
				output += fmt.Sprintf("%s%s %s:%s\n", strings.Repeat(" ", padding), utils.ColoredString(string(mount.Type)+":", color.FgYellow), mount.Source, mount.Destination)
			}
		}
	} else {
		output += "none\n"
	}

	output += utils.WithPadding("Ports: ", padding)
	if len(container.Details.NetworkSettings.Ports) > 0 {
		output += "\n"
		for k, v := range container.Details.NetworkSettings.Ports {
			for _, host := range v {
				output += fmt.Sprintf("%s%s %s\n", strings.Repeat(" ", padding), utils.ColoredString(host.HostPort+":", color.FgYellow), k)
			}
		}
	} else {
		output += "none\n"
	}

	data, err := utils.MarshalIntoYaml(&container.Details)
	if err != nil {
		return fmt.Sprintf("Error marshalling container details: %v", err)
	}

	output += fmt.Sprintf("\nFull details:\n\n%s", utils.ColoredYamlString(string(data)))

	return output
}

func (gui *Gui) renderContainerStats(container *commands.Container) tasks.TaskFunc {
	return gui.NewTickerTask(TickerTaskOpts{
		Func: func(ctx context.Context, notifyStopped chan struct{}) {
			contents, err := presentation.RenderStats(gui.Config.UserConfig, container, gui.Views.Main.Width())
			if err != nil {
				_ = gui.createErrorPanel(err.Error())
			}

			gui.reRenderStringMain(contents)
		},
		Duration:   time.Second,
		Before:     func(ctx context.Context) { gui.clearMainView() },
		Wrap:       false, // wrapping looks bad here so we're overriding the config value
		Autoscroll: false,
	})
}

func (gui *Gui) renderContainerTop(container *commands.Container) tasks.TaskFunc {
	return gui.NewTickerTask(TickerTaskOpts{
		Func: func(ctx context.Context, notifyStopped chan struct{}) {
			contents, err := container.RenderTop(ctx)
			if err != nil {
				gui.RenderStringMain(err.Error())
			}

			gui.reRenderStringMain(contents)
		},
		Duration:   time.Second,
		Before:     func(ctx context.Context) { gui.clearMainView() },
		Wrap:       gui.Config.UserConfig.Gui.WrapMainPanel,
		Autoscroll: false,
	})
}

func (gui *Gui) refreshContainersAndServices() error {
	if gui.Views.Containers == nil {
		// if the containersView hasn't been instantiated yet we just return
		return nil
	}

	// keep track of current service selected so that we can reposition our cursor if it moves position in the list
	originalSelectedLineIdx := gui.Panels.Services.SelectedIdx
	selectedService, isServiceSelected := gui.Panels.Services.List.TryGet(originalSelectedLineIdx)

	containers, services, err := gui.DockerCommand.RefreshContainersAndServices(
		gui.Panels.Services.List.GetAllItems(),
		gui.Panels.Containers.List.GetAllItems(),
	)
	if err != nil {
		return err
	}

	gui.Panels.Services.SetItems(services)
	gui.Panels.Containers.SetItems(containers)

	// see if our selected service has moved
	if isServiceSelected {
		for i, service := range gui.Panels.Services.List.GetItems() {
			if service.ID == selectedService.ID {
				if i == originalSelectedLineIdx {
					break
				}
				gui.Panels.Services.SetSelectedLineIdx(i)
				gui.Panels.Services.Refocus()
			}
		}
	}

	return gui.renderContainersAndServices()
}

func (gui *Gui) renderContainersAndServices() error {
	if gui.DockerCommand.InDockerComposeProject {
		if err := gui.Panels.Services.RerenderList(); err != nil {
			return err
		}
	}

	if err := gui.Panels.Containers.RerenderList(); err != nil {
		return err
	}

	return nil
}

func (gui *Gui) handleHideStoppedContainers(g *gocui.Gui, v *gocui.View) error {
	gui.State.ShowExitedContainers = !gui.State.ShowExitedContainers

	return gui.Panels.Containers.RerenderList()
}

func (gui *Gui) handleContainersRemoveMenu(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	handleMenuPress := func(configOptions container.RemoveOptions) error {
		return gui.WithWaitingStatus(gui.Tr.RemovingStatus, func() error {
			if err := ctr.Remove(configOptions); err != nil {
				if commands.HasErrorCode(err, commands.MustStopContainer) {
					return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.MustForceToRemoveContainer, func(g *gocui.Gui, v *gocui.View) error {
						return gui.WithWaitingStatus(gui.Tr.RemovingStatus, func() error {
							configOptions.Force = true
							return ctr.Remove(configOptions)
						})
					}, nil)
				}
				return gui.createErrorPanel(err.Error())
			}
			return nil
		})
	}

	menuItems := []*types.MenuItem{
		{
			LabelColumns: []string{gui.Tr.Remove, "docker rm " + ctr.ID[1:10]},
			OnPress:      func() error { return handleMenuPress(container.RemoveOptions{}) },
		},
		{
			LabelColumns: []string{gui.Tr.RemoveWithVolumes, "docker rm --volumes " + ctr.ID[1:10]},
			OnPress:      func() error { return handleMenuPress(container.RemoveOptions{RemoveVolumes: true}) },
		},
	}

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) PauseContainer(container *commands.Container) error {
	return gui.WithWaitingStatus(gui.Tr.PausingStatus, func() (err error) {
		if container.Details.State.Paused {
			err = container.Unpause()
		} else {
			err = container.Pause()
		}

		if err != nil {
			return gui.createErrorPanel(err.Error())
		}

		return gui.refreshContainersAndServices()
	})
}

func (gui *Gui) handleContainerPause(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.PauseContainer(ctr)
}

func (gui *Gui) handleContainerStop(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.StopContainer, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.StoppingStatus, func() error {
			if err := ctr.Stop(); err != nil {
				return gui.createErrorPanel(err.Error())
			}

			return nil
		})
	}, nil)
}

func (gui *Gui) handleContainerRestart(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.WithWaitingStatus(gui.Tr.RestartingStatus, func() error {
		if err := ctr.Restart(); err != nil {
			return gui.createErrorPanel(err.Error())
		}

		return nil
	})
}

func (gui *Gui) handleContainerAttach(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	c, err := ctr.Attach()
	if err != nil {
		return gui.createErrorPanel(err.Error())
	}

	return gui.runSubprocessWithMessage(c, gui.Tr.DetachFromContainerShortCut)
}

func (gui *Gui) handlePruneContainers() error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmPruneContainers, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.PruningStatus, func() error {
			err := gui.DockerCommand.PruneContainers()
			if err != nil {
				return gui.createErrorPanel(err.Error())
			}
			return nil
		})
	}, nil)
}

func (gui *Gui) handleContainerViewLogs(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	gui.renderLogsToStdout(ctr)

	return nil
}

func (gui *Gui) handleContainersExecShell(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.containerExecShell(ctr)
}

func (gui *Gui) containerExecShell(container *commands.Container) error {
	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{
		Container: container,
	})

	// TODO: use SDK
	resolvedCommand := utils.ApplyTemplate("docker exec -it {{ .Container.ID }} /bin/sh -c 'eval $(grep ^$(id -un): /etc/passwd | cut -d : -f 7-)'", commandObject)
	// attach and return the subprocess error
	cmd := gui.OSCommand.ExecutableFromString(resolvedCommand)
	return gui.runSubprocess(cmd)
}

func (gui *Gui) handleContainersCustomCommand(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{
		Container: ctr,
	})

	customCommands := gui.Config.UserConfig.CustomCommands.Containers

	return gui.createCustomCommandMenu(customCommands, commandObject)
}

func (gui *Gui) handleStopContainers() error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmStopContainers, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.StoppingStatus, func() error {
			for _, ctr := range gui.Panels.Containers.List.GetAllItems() {
				if err := ctr.Stop(); err != nil {
					gui.Log.Error(err)
				}
			}

			return nil
		})
	}, nil)
}

func (gui *Gui) handleRemoveContainers() error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmRemoveContainers, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.RemovingStatus, func() error {
			for _, ctr := range gui.Panels.Containers.List.GetAllItems() {
				if err := ctr.Remove(container.RemoveOptions{Force: true}); err != nil {
					gui.Log.Error(err)
				}
			}

			return nil
		})
	}, nil)
}

func (gui *Gui) handleContainersBulkCommand(g *gocui.Gui, v *gocui.View) error {
	baseBulkCommands := []config.CustomCommand{
		{
			Name:             gui.Tr.StopAllContainers,
			InternalFunction: gui.handleStopContainers,
		},
		{
			Name:             gui.Tr.RemoveAllContainers,
			InternalFunction: gui.handleRemoveContainers,
		},
		{
			Name:             gui.Tr.PruneContainers,
			InternalFunction: gui.handlePruneContainers,
		},
	}

	bulkCommands := append(baseBulkCommands, gui.Config.UserConfig.BulkCommands.Containers...)
	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{})

	return gui.createBulkCommandMenu(bulkCommands, commandObject)
}

// Open first port in browser
func (gui *Gui) handleContainersOpenInBrowserCommand(g *gocui.Gui, v *gocui.View) error {
	ctr, err := gui.Panels.Containers.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.openContainerInBrowser(ctr)
}

func (gui *Gui) openContainerInBrowser(ctr *commands.Container) error {
	// skip if no any ports
	if len(ctr.Container.Ports) == 0 {
		return nil
	}
	// skip if the first port is not published
	port := ctr.Container.Ports[0]
	if port.IP == "" {
		return nil
	}
	ip := port.IP
	if ip == "0.0.0.0" {
		ip = "localhost"
	}
	link := fmt.Sprintf("http://%s:%d/", ip, port.PublicPort)
	return gui.OSCommand.OpenLink(link)
}
</file>

<file path="pkg/gui/custom_commands.go">
package gui

import (
	"github.com/fatih/color"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func (gui *Gui) createCommandMenu(customCommands []config.CustomCommand, commandObject commands.CommandObject, title string, waitingStatus string) error {
	menuItems := lo.Map(customCommands, func(command config.CustomCommand, _ int) *types.MenuItem {
		resolvedCommand := utils.ApplyTemplate(command.Command, commandObject)

		onPress := func() error {
			if command.InternalFunction != nil {
				return command.InternalFunction()
			}

			if command.Shell {
				resolvedCommand = gui.OSCommand.NewCommandStringWithShell(resolvedCommand)
			}

			// if we have a command for attaching, we attach and return the subprocess error
			if command.Attach {
				return gui.runSubprocess(gui.OSCommand.ExecutableFromString(resolvedCommand))
			}

			return gui.WithWaitingStatus(waitingStatus, func() error {
				if err := gui.OSCommand.RunCommand(resolvedCommand); err != nil {
					return gui.createErrorPanel(err.Error())
				}
				return nil
			})
		}

		return &types.MenuItem{
			LabelColumns: []string{
				command.Name,
				utils.ColoredString(utils.WithShortSha(resolvedCommand), color.FgCyan),
			},
			OnPress: onPress,
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: title,
		Items: menuItems,
	})
}

func (gui *Gui) createCustomCommandMenu(customCommands []config.CustomCommand, commandObject commands.CommandObject) error {
	return gui.createCommandMenu(customCommands, commandObject, gui.Tr.CustomCommandTitle, gui.Tr.RunningCustomCommandStatus)
}

func (gui *Gui) createBulkCommandMenu(customCommands []config.CustomCommand, commandObject commands.CommandObject) error {
	return gui.createCommandMenu(customCommands, commandObject, gui.Tr.BulkCommandTitle, gui.Tr.RunningBulkCommandStatus)
}
</file>

<file path="pkg/gui/filtering.go">
package gui

import (
	"fmt"

	"github.com/jesseduffield/gocui"
)

func (gui *Gui) handleOpenFilter() error {
	panel, ok := gui.currentListPanel()
	if !ok {
		return nil
	}

	if panel.IsFilterDisabled() {
		return nil
	}

	gui.State.Filter.active = true
	gui.State.Filter.panel = panel

	return gui.switchFocus(gui.Views.Filter)
}

func (gui *Gui) onNewFilterNeedle(value string) error {
	gui.State.Filter.needle = value
	gui.ResetOrigin(gui.State.Filter.panel.GetView())
	return gui.State.Filter.panel.RerenderList()
}

func (gui *Gui) wrapEditor(f func(v *gocui.View, key gocui.Key, ch rune, mod gocui.Modifier) bool) func(v *gocui.View, key gocui.Key, ch rune, mod gocui.Modifier) bool {
	return func(v *gocui.View, key gocui.Key, ch rune, mod gocui.Modifier) bool {
		matched := f(v, key, ch, mod)
		if matched {
			if err := gui.onNewFilterNeedle(v.TextArea.GetContent()); err != nil {
				gui.Log.Error(err)
			}
		}
		return matched
	}
}

func (gui *Gui) escapeFilterPrompt() error {
	if err := gui.clearFilter(); err != nil {
		return err
	}

	return gui.returnFocus()
}

func (gui *Gui) clearFilter() error {
	gui.State.Filter.needle = ""
	gui.State.Filter.active = false
	panel := gui.State.Filter.panel
	gui.State.Filter.panel = nil
	gui.Views.Filter.ClearTextArea()

	if panel == nil {
		return nil
	}

	gui.ResetOrigin(panel.GetView())

	return panel.RerenderList()
}

// returns to the list view with the filter still applied
func (gui *Gui) commitFilter() error {
	if gui.State.Filter.needle == "" {
		if err := gui.clearFilter(); err != nil {
			return err
		}
	}

	return gui.returnFocus()
}

func (gui *Gui) filterPrompt() string {
	return fmt.Sprintf("%s: ", gui.Tr.FilterPrompt)
}
</file>

<file path="pkg/gui/focus.go">
package gui

import (
	"github.com/jesseduffield/gocui"
	"github.com/samber/lo"
)

func (gui *Gui) newLineFocused(v *gocui.View) error {
	if v == nil {
		return nil
	}

	currentListPanel, ok := gui.currentListPanel()
	if ok {
		return currentListPanel.HandleSelect()
	}

	switch v.Name() {
	case "confirmation":
		return nil
	case "main":
		v.Highlight = false
		return nil
	case "filter":
		return nil
	default:
		panic(gui.Tr.NoViewMachingNewLineFocusedSwitchStatement)
	}
}

// TODO: move some of this logic into our onFocusLost and onFocus hooks
func (gui *Gui) switchFocus(newView *gocui.View) error {
	gui.Mutexes.ViewStackMutex.Lock()
	defer gui.Mutexes.ViewStackMutex.Unlock()

	return gui.switchFocusAux(newView)
}

func (gui *Gui) switchFocusAux(newView *gocui.View) error {
	gui.pushView(newView.Name())
	gui.Log.Info("setting highlight to true for view " + newView.Name())
	gui.Log.Info("new focused view is " + newView.Name())
	if _, err := gui.g.SetCurrentView(newView.Name()); err != nil {
		return err
	}

	gui.g.Cursor = newView.Editable

	if err := gui.renderPanelOptions(); err != nil {
		return err
	}

	newViewStack := gui.State.ViewStack

	if gui.State.Filter.panel != nil && !lo.Contains(newViewStack, gui.State.Filter.panel.GetView().Name()) {
		if err := gui.clearFilter(); err != nil {
			return err
		}
	}

	// TODO: add 'onFocusLost' hook
	if !lo.Contains(newViewStack, "menu") {
		gui.Views.Menu.Visible = false
	}

	return gui.newLineFocused(newView)
}

func (gui *Gui) returnFocus() error {
	gui.Mutexes.ViewStackMutex.Lock()
	defer gui.Mutexes.ViewStackMutex.Unlock()

	if len(gui.State.ViewStack) <= 1 {
		return nil
	}

	previousViewName := gui.State.ViewStack[len(gui.State.ViewStack)-2]
	previousView, err := gui.g.View(previousViewName)
	if err != nil {
		return err
	}

	return gui.switchFocusAux(previousView)
}

func (gui *Gui) removeViewFromStack(view *gocui.View) {
	gui.Mutexes.ViewStackMutex.Lock()
	defer gui.Mutexes.ViewStackMutex.Unlock()

	gui.State.ViewStack = lo.Filter(gui.State.ViewStack, func(viewName string, _ int) bool {
		return viewName != view.Name()
	})
}

// Not to be called directly. Use `switchFocus` instead
func (gui *Gui) pushView(name string) {
	// No matter what view we're pushing, we first remove all popup panels from the stack
	// (unless it's the search view because we may be searching the menu panel)
	if name != "filter" {
		gui.State.ViewStack = lo.Filter(gui.State.ViewStack, func(viewName string, _ int) bool {
			return !gui.isPopupPanel(viewName)
		})
	}

	// If we're pushing a side panel, we remove all other panels
	if lo.Contains(gui.sideViewNames(), name) {
		gui.State.ViewStack = []string{}
	}

	// If we're pushing a panel that's already in the stack, we remove it
	gui.State.ViewStack = lo.Filter(gui.State.ViewStack, func(viewName string, _ int) bool {
		return viewName != name
	})

	gui.State.ViewStack = append(gui.State.ViewStack, name)
}

// excludes popups
func (gui *Gui) currentStaticViewName() string {
	gui.Mutexes.ViewStackMutex.Lock()
	defer gui.Mutexes.ViewStackMutex.Unlock()

	for i := len(gui.State.ViewStack) - 1; i >= 0; i-- {
		if !lo.Contains(gui.popupViewNames(), gui.State.ViewStack[i]) {
			return gui.State.ViewStack[i]
		}
	}

	return gui.initiallyFocusedViewName()
}

func (gui *Gui) currentSideViewName() string {
	gui.Mutexes.ViewStackMutex.Lock()
	defer gui.Mutexes.ViewStackMutex.Unlock()

	// we expect that there is a side window somewhere in the view stack, so we will search from top to bottom
	for idx := range gui.State.ViewStack {
		reversedIdx := len(gui.State.ViewStack) - 1 - idx
		viewName := gui.State.ViewStack[reversedIdx]
		if lo.Contains(gui.sideViewNames(), viewName) {
			return viewName
		}
	}

	return gui.initiallyFocusedViewName()
}
</file>

<file path="pkg/gui/gocui.go">
package gui

import (
	"github.com/gookit/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

var gocuiColorMap = map[string]gocui.Attribute{
	"default":   gocui.ColorDefault,
	"black":     gocui.ColorBlack,
	"red":       gocui.ColorRed,
	"green":     gocui.ColorGreen,
	"yellow":    gocui.ColorYellow,
	"blue":      gocui.ColorBlue,
	"magenta":   gocui.ColorMagenta,
	"cyan":      gocui.ColorCyan,
	"white":     gocui.ColorWhite,
	"bold":      gocui.AttrBold,
	"reverse":   gocui.AttrReverse,
	"underline": gocui.AttrUnderline,
}

// GetAttribute gets the gocui color attribute from the string
func GetGocuiAttribute(key string) gocui.Attribute {
	if utils.IsValidHexValue(key) {
		values := color.HEX(key).Values()
		return gocui.NewRGBColor(int32(values[0]), int32(values[1]), int32(values[2]))
	}

	value, present := gocuiColorMap[key]
	if present {
		return value
	}
	return gocui.ColorDefault
}

// GetGocuiStyle bitwise OR's a list of attributes obtained via the given keys
func GetGocuiStyle(keys []string) gocui.Attribute {
	var attribute gocui.Attribute
	for _, key := range keys {
		attribute |= GetGocuiAttribute(key)
	}
	return attribute
}
</file>

<file path="pkg/gui/gui.go">
package gui

import (
	"context"
	"os"
	"strings"
	"time"

	"github.com/docker/docker/api/types/events"

	"github.com/go-errors/errors"

	throttle "github.com/boz/go-throttle"
	"github.com/jesseduffield/gocui"
	lcUtils "github.com/jesseduffield/lazycore/pkg/utils"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/i18n"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/sasha-s/go-deadlock"
	"github.com/sirupsen/logrus"
)

// Gui wraps the gocui Gui object which handles rendering and events
type Gui struct {
	g             *gocui.Gui
	Log           *logrus.Entry
	DockerCommand *commands.DockerCommand
	OSCommand     *commands.OSCommand
	State         guiState
	Config        *config.AppConfig
	Tr            *i18n.TranslationSet
	statusManager *statusManager
	taskManager   *tasks.TaskManager
	ErrorChan     chan error
	Views         Views

	// if we've suspended the gui (e.g. because we've switched to a subprocess)
	// we typically want to pause some things that are running like background
	// file refreshes
	PauseBackgroundThreads bool

	Mutexes

	Panels Panels
}

type Panels struct {
	Projects   *panels.SideListPanel[*commands.Project]
	Services   *panels.SideListPanel[*commands.Service]
	Containers *panels.SideListPanel[*commands.Container]
	Images     *panels.SideListPanel[*commands.Image]
	Volumes    *panels.SideListPanel[*commands.Volume]
	Networks   *panels.SideListPanel[*commands.Network]
	Menu       *panels.SideListPanel[*types.MenuItem]
}

type Mutexes struct {
	SubprocessMutex deadlock.Mutex
	ViewStackMutex  deadlock.Mutex
}

type mainPanelState struct {
	// ObjectKey tells us what context we are in. For example, if we are looking at the logs of a particular service in the services panel this key might be 'services-<service id>-logs'. The key is made so that if something changes which might require us to re-run the logs command or run a different command, the key will be different, and we'll then know to do whatever is required. Object key probably isn't the best name for this but Context is already used to refer to tabs. Maybe I should just call them tabs.
	ObjectKey string
}

type panelStates struct {
	Main *mainPanelState
}

type guiState struct {
	// the names of views in the current focus stack (last item is the current view)
	ViewStack        []string
	Platform         commands.Platform
	Panels           *panelStates
	SubProcessOutput string
	Stats            map[string]commands.ContainerStats

	// if true, we show containers with an 'exited' status in the containers panel
	ShowExitedContainers bool

	ScreenMode WindowMaximisation

	// Maintains the state of manual filtering i.e. typing in a substring
	// to filter on in the current panel.
	Filter filterState
}

type filterState struct {
	// If true then we're either currently inside the filter view
	// or we've committed the filter and we're back in the list view
	active bool
	// The panel that we're filtering.
	panel panels.ISideListPanel
	// The string that we're filtering on
	needle string
}

// screen sizing determines how much space your selected window takes up (window
// as in panel, not your terminal's window). Sometimes you want a bit more space
// to see the contents of a panel, and this keeps track of how much maximisation
// you've set
type WindowMaximisation int

const (
	SCREEN_NORMAL WindowMaximisation = iota
	SCREEN_HALF
	SCREEN_FULL
)

func getScreenMode(config *config.AppConfig) WindowMaximisation {
	switch config.UserConfig.Gui.ScreenMode {
	case "normal":
		return SCREEN_NORMAL
	case "half":
		return SCREEN_HALF
	case "fullscreen":
		return SCREEN_FULL
	default:
		return SCREEN_NORMAL
	}
}

// NewGui builds a new gui handler
func NewGui(log *logrus.Entry, dockerCommand *commands.DockerCommand, oSCommand *commands.OSCommand, tr *i18n.TranslationSet, config *config.AppConfig, errorChan chan error) (*Gui, error) {
	initialState := guiState{
		Platform: *oSCommand.Platform,
		Panels: &panelStates{
			Main: &mainPanelState{
				ObjectKey: "",
			},
		},
		ViewStack: []string{},

		ShowExitedContainers: true,
		ScreenMode:           getScreenMode(config),
	}

	gui := &Gui{
		Log:           log,
		DockerCommand: dockerCommand,
		OSCommand:     oSCommand,
		State:         initialState,
		Config:        config,
		Tr:            tr,
		statusManager: &statusManager{},
		taskManager:   tasks.NewTaskManager(log, tr),
		ErrorChan:     errorChan,
	}

	deadlock.Opts.Disable = !gui.Config.Debug
	deadlock.Opts.DeadlockTimeout = 10 * time.Second

	return gui, nil
}

func (gui *Gui) renderGlobalOptions() error {
	return gui.renderOptionsMap(map[string]string{
		"PgUp/PgDn": gui.Tr.Scroll,
		"â† â†’ â†‘ â†“":   gui.Tr.Navigate,
		"q":         gui.Tr.Quit,
		"b":         gui.Tr.ViewBulkCommands,
		"x":         gui.Tr.Menu,
	})
}

func (gui *Gui) goEvery(interval time.Duration, function func() error) {
	_ = function() // time.Tick doesn't run immediately so we'll do that here // TODO: maybe change
	go func() {
		ticker := time.NewTicker(interval)
		defer ticker.Stop()
		for range ticker.C {
			if !gui.PauseBackgroundThreads {
				_ = function()
			}
		}
	}()
}

// Run setup the gui with keybindings and start the mainloop
func (gui *Gui) Run() error {
	// closing our task manager which in turn closes the current task if there is any, so we aren't leaving processes lying around after closing lazydocker
	defer gui.taskManager.Close()

	g, err := gocui.NewGui(gocui.NewGuiOpts{
		OutputMode:       gocui.OutputTrue,
		RuneReplacements: map[rune]string{},
	})
	if err != nil {
		return err
	}
	defer g.Close()

	// forgive the double-negative, this is because of my yaml `omitempty` woes
	if !gui.Config.UserConfig.Gui.IgnoreMouseEvents {
		g.Mouse = true
	}

	gui.g = g // TODO: always use gui.g rather than passing g around everywhere

	// if the deadlock package wants to report a deadlock, we first need to
	// close the gui so that we can actually read what it prints.
	deadlock.Opts.LogBuf = lcUtils.NewOnceWriter(os.Stderr, func() {
		gui.g.Close()
	})

	if err := gui.SetColorScheme(); err != nil {
		return err
	}

	throttledRefresh := throttle.ThrottleFunc(time.Millisecond*50, true, gui.refresh)
	defer throttledRefresh.Stop()

	go func() {
		for err := range gui.ErrorChan {
			if err == nil {
				continue
			}
			if strings.Contains(err.Error(), "No such container") {
				// this happens all the time when e.g. restarting containers so we won't worry about it
				gui.Log.Warn(err)
				continue
			}
			_ = gui.createErrorPanel(err.Error())
		}
	}()

	g.SetManager(gocui.ManagerFunc(gui.layout), gocui.ManagerFunc(gui.getFocusLayout()))

	if err := gui.createAllViews(); err != nil {
		return err
	}
	if err := gui.setInitialViewContent(); err != nil {
		return err
	}

	// TODO: see if we can avoid the circular dependency
	gui.setPanels()

	if err = gui.keybindings(g); err != nil {
		return err
	}

	if gui.g.CurrentView() == nil {
		viewName := gui.initiallyFocusedViewName()
		view, err := gui.g.View(viewName)
		if err != nil {
			return err
		}

		if err := gui.switchFocus(view); err != nil {
			return err
		}
	}

	ctx, finish := context.WithCancel(context.Background())
	defer finish()

	go gui.listenForEvents(ctx, throttledRefresh.Trigger)
	go gui.monitorContainerStats(ctx)

	go func() {
		throttledRefresh.Trigger()

		gui.goEvery(time.Millisecond*30, gui.reRenderMain)
		gui.goEvery(time.Millisecond*1000, gui.updateContainerDetails)
		gui.goEvery(time.Millisecond*1000, gui.checkForContextChange)
		// we need to regularly re-render these because their stats will be changed in the background
		gui.goEvery(time.Millisecond*1000, gui.renderContainersAndServices)
	}()

	err = g.MainLoop()
	if err == gocui.ErrQuit {
		return nil
	}
	return err
}

func (gui *Gui) setPanels() {
	gui.Panels = Panels{
		Projects:   gui.getProjectPanel(),
		Services:   gui.getServicesPanel(),
		Containers: gui.getContainersPanel(),
		Images:     gui.getImagesPanel(),
		Volumes:    gui.getVolumesPanel(),
		Networks:   gui.getNetworksPanel(),
		Menu:       gui.getMenuPanel(),
	}
}

func (gui *Gui) updateContainerDetails() error {
	return gui.DockerCommand.RefreshContainerDetails(gui.Panels.Containers.List.GetAllItems())
}

func (gui *Gui) refresh() {
	go func() {
		if err := gui.refreshProject(); err != nil {
			gui.Log.Error(err)
		}
	}()
	go func() {
		if err := gui.refreshContainersAndServices(); err != nil {
			gui.Log.Error(err)
		}
	}()
	go func() {
		if err := gui.reloadVolumes(); err != nil {
			gui.Log.Error(err)
		}
	}()
	go func() {
		if err := gui.reloadNetworks(); err != nil {
			gui.Log.Error(err)
		}
	}()
	go func() {
		if err := gui.reloadImages(); err != nil {
			gui.Log.Error(err)
		}
	}()
}

func (gui *Gui) listenForEvents(ctx context.Context, refresh func()) {
	errorCount := 0

	onError := func(err error) {
		if err != nil {
			gui.ErrorChan <- errors.Errorf("Docker event stream returned error: %s\nRetry count: %d", err.Error(), errorCount)
		}
		errorCount++
		time.Sleep(time.Second * 2)
	}

outer:
	for {
		messageChan, errChan := gui.DockerCommand.Client.Events(context.Background(), events.ListOptions{})

		if errorCount > 0 {
			select {
			case <-ctx.Done():
				return
			case err := <-errChan:
				onError(err)
				continue outer
			default:
				// If we're here then we lost connection to docker and we just got it back.
				// The reason we do this refresh explicitly is because successfully
				// reconnecting with docker does not mean it's going to send us a new
				// event any time soon.

				// Assuming the confirmation prompt currently holds the given error
				_ = gui.closeConfirmationPrompt()
				refresh()
				errorCount = 0
			}
		}

		for {
			select {
			case <-ctx.Done():
				return
			case message := <-messageChan:
				// We could be more granular about what events should trigger which refreshes.
				// At the moment it's pretty efficient though, and it might not be worth
				// the maintenance burden of mapping specific events to specific refreshes
				refresh()

				gui.Log.Infof("received event of type: %s", message.Type)
			case err := <-errChan:
				onError(err)
				continue outer
			}
		}
	}
}

// checkForContextChange runs the currently focused panel's 'select' function, simulating the current item having just been selected. This will then trigger a check to see if anything's changed (e.g. a service has a new container) and if so, the appropriate code will run. For example, if you're reading logs from a service and all of a sudden its container changes, this will trigger the 'select' function, which will work out that the context is not different because of the new container, and then it will re-attempt to get the logs, this time for the correct container. This 'context' is stored in the main panel's ObjectKey. I'm using the term 'context' here more broadly than just the different tabs you can view in a panel.
func (gui *Gui) checkForContextChange() error {
	return gui.newLineFocused(gui.g.CurrentView())
}

func (gui *Gui) reRenderMain() error {
	mainView := gui.Views.Main
	if mainView == nil {
		return nil
	}
	if mainView.IsTainted() {
		gui.g.Update(func(g *gocui.Gui) error {
			return nil
		})
	}
	return nil
}

func (gui *Gui) quit(g *gocui.Gui, v *gocui.View) error {
	if gui.Config.UserConfig.ConfirmOnQuit {
		return gui.createConfirmationPanel("", gui.Tr.ConfirmQuit, func(g *gocui.Gui, v *gocui.View) error {
			return gocui.ErrQuit
		}, nil)
	}
	return gocui.ErrQuit
}

// this handler is executed when we press escape when there is only one view
// on the stack.
func (gui *Gui) escape() error {
	if gui.State.Filter.active {
		return gui.clearFilter()
	}

	return nil
}

func (gui *Gui) handleDonate(g *gocui.Gui, v *gocui.View) error {
	if !gui.g.Mouse {
		return nil
	}

	cx, _ := v.Cursor()
	if cx > len(gui.Tr.Donate) {
		return nil
	}
	return gui.OSCommand.OpenLink("https://github.com/sponsors/jesseduffield")
}

func (gui *Gui) editFile(filename string) error {
	cmd, err := gui.OSCommand.EditFile(filename)
	if err != nil {
		return gui.createErrorPanel(err.Error())
	}

	return gui.runSubprocess(cmd)
}

func (gui *Gui) openFile(filename string) error {
	if err := gui.OSCommand.OpenFile(filename); err != nil {
		return gui.createErrorPanel(err.Error())
	}
	return nil
}

func (gui *Gui) handleCustomCommand(g *gocui.Gui, v *gocui.View) error {
	return gui.createPromptPanel(gui.Tr.CustomCommandTitle, func(g *gocui.Gui, v *gocui.View) error {
		command := gui.trimmedContent(v)
		return gui.runSubprocess(gui.OSCommand.RunCustomCommand(command))
	})
}

func (gui *Gui) ShouldRefresh(key string) bool {
	if gui.State.Panels.Main.ObjectKey == key {
		return false
	}

	gui.State.Panels.Main.ObjectKey = key
	return true
}

func (gui *Gui) initiallyFocusedViewName() string {
	if gui.DockerCommand.InDockerComposeProject {
		return "services"
	}
	return "containers"
}

func (gui *Gui) IgnoreStrings() []string {
	return gui.Config.UserConfig.Ignore
}

func (gui *Gui) Update(f func() error) {
	gui.g.Update(func(*gocui.Gui) error { return f() })
}

func (gui *Gui) monitorContainerStats(ctx context.Context) {
	// periodically loop through running containers and see if we need to create a monitor goroutine for any
	// every second we check if we need to spawn a new goroutine
	ticker := time.NewTicker(time.Second)
	defer ticker.Stop()
	for {
		select {
		case <-ctx.Done():
			return
		case <-ticker.C:
			for _, container := range gui.Panels.Containers.List.GetAllItems() {
				if !container.MonitoringStats {
					go gui.DockerCommand.CreateClientStatMonitor(container)
				}
			}
		}
	}
}

// this is used by our cheatsheet code to generate keybindings. We need some views
// and panels to exist for us to know what keybindings there are, so we invoke
// gocui in headless mode and create them.
func (gui *Gui) SetupFakeGui() {
	g, err := gocui.NewGui(gocui.NewGuiOpts{
		OutputMode:       gocui.OutputTrue,
		RuneReplacements: map[rune]string{},
		Headless:         true,
	})
	if err != nil {
		panic(err)
	}
	gui.g = g
	defer g.Close()
	if err := gui.createAllViews(); err != nil {
		panic(err)
	}

	gui.setPanels()
}
</file>

<file path="pkg/gui/images_panel.go">
package gui

import (
	"fmt"
	"strings"
	"time"

	"github.com/docker/docker/api/types/image"
	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func (gui *Gui) getImagesPanel() *panels.SideListPanel[*commands.Image] {
	noneLabel := "<none>"

	return &panels.SideListPanel[*commands.Image]{
		ContextState: &panels.ContextState[*commands.Image]{
			GetMainTabs: func() []panels.MainTab[*commands.Image] {
				return []panels.MainTab[*commands.Image]{
					{
						Key:    "config",
						Title:  gui.Tr.ConfigTitle,
						Render: gui.renderImageConfigTask,
					},
				}
			},
			GetItemContextCacheKey: func(image *commands.Image) string {
				return "images-" + image.ID
			},
		},
		ListPanel: panels.ListPanel[*commands.Image]{
			List: panels.NewFilteredList[*commands.Image](),
			View: gui.Views.Images,
		},
		NoItemsMessage: gui.Tr.NoImages,
		Gui:            gui.intoInterface(),
		Sort: func(a *commands.Image, b *commands.Image) bool {
			if a.Name == noneLabel && b.Name != noneLabel {
				return false
			}

			if a.Name != noneLabel && b.Name == noneLabel {
				return true
			}

			if a.Name != b.Name {
				return a.Name < b.Name
			}

			if a.Tag != b.Tag {
				return a.Tag < b.Tag
			}

			return a.ID < b.ID
		},
		GetTableCells: presentation.GetImageDisplayStrings,
	}
}

func (gui *Gui) renderImageConfigTask(image *commands.Image) tasks.TaskFunc {
	return gui.NewRenderStringTask(RenderStringTaskOpts{
		GetStrContent: func() string { return gui.imageConfigStr(image) },
		Autoscroll:    false,
		Wrap:          false, // don't care what your config is this page is ugly without wrapping
	})
}

func (gui *Gui) imageConfigStr(image *commands.Image) string {
	padding := 10
	output := ""
	output += utils.WithPadding("Name: ", padding) + image.Name + "\n"
	output += utils.WithPadding("ID: ", padding) + image.Image.ID + "\n"
	output += utils.WithPadding("Tags: ", padding) + utils.ColoredString(strings.Join(image.Image.RepoTags, ", "), color.FgGreen) + "\n"
	output += utils.WithPadding("Size: ", padding) + utils.FormatDecimalBytes(int(image.Image.Size)) + "\n"
	output += utils.WithPadding("Created: ", padding) + fmt.Sprintf("%v", time.Unix(image.Image.Created, 0).Format(time.RFC1123)) + "\n"

	history, err := image.RenderHistory()
	if err != nil {
		gui.Log.Error(err)
	}

	output += "\n\n" + history

	return output
}

func (gui *Gui) reloadImages() error {
	if err := gui.refreshStateImages(); err != nil {
		return err
	}

	return gui.Panels.Images.RerenderList()
}

func (gui *Gui) refreshStateImages() error {
	images, err := gui.DockerCommand.RefreshImages()
	if err != nil {
		return err
	}

	gui.Panels.Images.SetItems(images)

	return nil
}

func (gui *Gui) FilterString(view *gocui.View) string {
	if gui.State.Filter.panel != nil && gui.State.Filter.panel.GetView() != view {
		return ""
	}

	return gui.State.Filter.needle
}

func (gui *Gui) handleImagesRemoveMenu(g *gocui.Gui, v *gocui.View) error {
	type removeImageOption struct {
		description   string
		command       string
		configOptions image.RemoveOptions
	}

	img, err := gui.Panels.Images.GetSelectedItem()
	if err != nil {
		return nil
	}

	shortSha := img.ID[7:17]

	// TODO: have a way of toggling in a menu instead of showing each permutation as a separate menu item
	options := []*removeImageOption{
		{
			description:   gui.Tr.Remove,
			command:       "docker image rm " + shortSha,
			configOptions: image.RemoveOptions{PruneChildren: true, Force: false},
		},
		{
			description:   gui.Tr.RemoveWithoutPrune,
			command:       "docker image rm --no-prune " + shortSha,
			configOptions: image.RemoveOptions{PruneChildren: false, Force: false},
		},
		{
			description:   gui.Tr.RemoveWithForce,
			command:       "docker image rm --force " + shortSha,
			configOptions: image.RemoveOptions{PruneChildren: true, Force: true},
		},
		{
			description:   gui.Tr.RemoveWithoutPruneWithForce,
			command:       "docker image rm --no-prune --force " + shortSha,
			configOptions: image.RemoveOptions{PruneChildren: false, Force: true},
		},
	}

	menuItems := lo.Map(options, func(option *removeImageOption, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: []string{
				option.description,
				color.New(color.FgRed).Sprint(option.command),
			},
			OnPress: func() error {
				if err := img.Remove(option.configOptions); err != nil {
					return gui.createErrorPanel(err.Error())
				}

				return nil
			},
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) handlePruneImages() error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmPruneImages, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.PruningStatus, func() error {
			err := gui.DockerCommand.PruneImages()
			if err != nil {
				return gui.createErrorPanel(err.Error())
			}
			return gui.reloadImages()
		})
	}, nil)
}

func (gui *Gui) handleImagesCustomCommand(g *gocui.Gui, v *gocui.View) error {
	img, err := gui.Panels.Images.GetSelectedItem()
	if err != nil {
		return nil
	}

	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{
		Image: img,
	})

	customCommands := gui.Config.UserConfig.CustomCommands.Images

	return gui.createCustomCommandMenu(customCommands, commandObject)
}

func (gui *Gui) handleImagesBulkCommand(g *gocui.Gui, v *gocui.View) error {
	baseBulkCommands := []config.CustomCommand{
		{
			Name:             gui.Tr.PruneImages,
			InternalFunction: gui.handlePruneImages,
		},
	}

	bulkCommands := append(baseBulkCommands, gui.Config.UserConfig.BulkCommands.Images...)
	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{})

	return gui.createBulkCommandMenu(bulkCommands, commandObject)
}
</file>

<file path="pkg/gui/keybindings.go">
package gui

import (
	"fmt"

	"github.com/jesseduffield/gocui"
)

// Binding - a keybinding mapping a key and modifier to a handler. The keypress
// is only handled if the given view has focus, or handled globally if the view
// is ""
type Binding struct {
	ViewName    string
	Handler     func(*gocui.Gui, *gocui.View) error
	Key         interface{} // FIXME: find out how to get `gocui.Key | rune`
	Modifier    gocui.Modifier
	Description string
}

// GetKey is a function.
func (b *Binding) GetKey() string {
	key := 0

	switch b.Key.(type) {
	case rune:
		key = int(b.Key.(rune))
	case gocui.Key:
		key = int(b.Key.(gocui.Key))
	}

	// special keys
	switch key {
	case 27:
		return "esc"
	case 13:
		return "enter"
	case 32:
		return "space"
	case 65514:
		return "â–º"
	case 65515:
		return "â—„"
	case 65517:
		return "â–²"
	case 65516:
		return "â–¼"
	case 65508:
		return "PgUp"
	case 65507:
		return "PgDn"
	}

	return fmt.Sprintf("%c", key)
}

// GetInitialKeybindings is a function.
func (gui *Gui) GetInitialKeybindings() []*Binding {
	bindings := []*Binding{
		{
			ViewName: "",
			Key:      gocui.KeyEsc,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.escape),
		},
		{
			ViewName: "",
			Key:      'q',
			Modifier: gocui.ModNone,
			Handler:  gui.quit,
		},
		{
			ViewName: "",
			Key:      gocui.KeyCtrlC,
			Modifier: gocui.ModNone,
			Handler:  gui.quit,
		},
		{
			ViewName: "",
			Key:      gocui.KeyPgup,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.scrollUpMain),
		},
		{
			ViewName: "",
			Key:      gocui.KeyPgdn,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.scrollDownMain),
		},
		{
			ViewName: "",
			Key:      gocui.KeyCtrlU,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.scrollUpMain),
		},
		{
			ViewName: "",
			Key:      gocui.KeyCtrlD,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.scrollDownMain),
		},
		{
			ViewName: "",
			Key:      gocui.KeyEnd,
			Modifier: gocui.ModNone,
			Handler:  gui.autoScrollMain,
		},
		{
			ViewName: "",
			Key:      gocui.KeyHome,
			Modifier: gocui.ModNone,
			Handler:  gui.jumpToTopMain,
		},
		{
			ViewName: "",
			Key:      'x',
			Modifier: gocui.ModNone,
			Handler:  gui.handleCreateOptionsMenu,
		},
		{
			ViewName: "",
			Key:      '?',
			Modifier: gocui.ModNone,
			Handler:  gui.handleCreateOptionsMenu,
		},
		{
			ViewName: "",
			Key:      'X',
			Modifier: gocui.ModNone,
			Handler:  gui.handleCustomCommand,
		},
		{
			ViewName:    "project",
			Key:         'e',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleEditConfig,
			Description: gui.Tr.EditConfig,
		},
		{
			ViewName:    "project",
			Key:         'o',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleOpenConfig,
			Description: gui.Tr.OpenConfig,
		},
		{
			ViewName:    "project",
			Key:         'm',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleViewAllLogs,
			Description: gui.Tr.ViewLogs,
		},
		{
			ViewName: "menu",
			Key:      gocui.KeyEsc,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.handleMenuClose),
		},
		{
			ViewName: "menu",
			Key:      'q',
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.handleMenuClose),
		},
		{
			ViewName: "menu",
			Key:      ' ',
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.handleMenuPress),
		},
		{
			ViewName: "menu",
			Key:      gocui.KeyEnter,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.handleMenuPress),
		},
		{
			ViewName: "menu",
			Key:      'y',
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.handleMenuPress),
		},
		{
			ViewName: "information",
			Key:      gocui.MouseLeft,
			Modifier: gocui.ModNone,
			Handler:  gui.handleDonate,
		},
		{
			ViewName:    "containers",
			Key:         'd',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainersRemoveMenu,
			Description: gui.Tr.Remove,
		},
		{
			ViewName:    "containers",
			Key:         'e',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleHideStoppedContainers,
			Description: gui.Tr.HideStopped,
		},
		{
			ViewName:    "containers",
			Key:         'p',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainerPause,
			Description: gui.Tr.Pause,
		},
		{
			ViewName:    "containers",
			Key:         's',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainerStop,
			Description: gui.Tr.Stop,
		},
		{
			ViewName:    "containers",
			Key:         'r',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainerRestart,
			Description: gui.Tr.Restart,
		},
		{
			ViewName:    "containers",
			Key:         'a',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainerAttach,
			Description: gui.Tr.Attach,
		},
		{
			ViewName:    "containers",
			Key:         'm',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainerViewLogs,
			Description: gui.Tr.ViewLogs,
		},
		{
			ViewName:    "containers",
			Key:         'E',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainersExecShell,
			Description: gui.Tr.ExecShell,
		},
		{
			ViewName:    "containers",
			Key:         'c',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainersCustomCommand,
			Description: gui.Tr.RunCustomCommand,
		},
		{
			ViewName:    "containers",
			Key:         'b',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainersBulkCommand,
			Description: gui.Tr.ViewBulkCommands,
		},
		{
			ViewName:    "containers",
			Key:         'w',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleContainersOpenInBrowserCommand,
			Description: gui.Tr.OpenInBrowser,
		},
		{
			ViewName:    "services",
			Key:         'u',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceUp,
			Description: gui.Tr.UpService,
		},
		{
			ViewName:    "services",
			Key:         'd',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceRemoveMenu,
			Description: gui.Tr.RemoveService,
		},
		{
			ViewName:    "services",
			Key:         's',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceStop,
			Description: gui.Tr.Stop,
		},
		{
			ViewName:    "services",
			Key:         'p',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServicePause,
			Description: gui.Tr.Pause,
		},
		{
			ViewName:    "services",
			Key:         'r',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceRestart,
			Description: gui.Tr.Restart,
		},
		{
			ViewName:    "services",
			Key:         'S',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceStart,
			Description: gui.Tr.Start,
		},
		{
			ViewName:    "services",
			Key:         'a',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceAttach,
			Description: gui.Tr.Attach,
		},
		{
			ViewName:    "services",
			Key:         'm',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceRenderLogsToMain,
			Description: gui.Tr.ViewLogs,
		},
		{
			ViewName:    "services",
			Key:         'U',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleProjectUp,
			Description: gui.Tr.UpProject,
		},
		{
			ViewName:    "services",
			Key:         'D',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleProjectDown,
			Description: gui.Tr.DownProject,
		},
		{
			ViewName:    "services",
			Key:         'R',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServiceRestartMenu,
			Description: gui.Tr.ViewRestartOptions,
		},
		{
			ViewName:    "services",
			Key:         'c',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServicesCustomCommand,
			Description: gui.Tr.RunCustomCommand,
		},
		{
			ViewName:    "services",
			Key:         'b',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServicesBulkCommand,
			Description: gui.Tr.ViewBulkCommands,
		},
		{
			ViewName:    "services",
			Key:         'E',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServicesExecShell,
			Description: gui.Tr.ExecShell,
		},
		{
			ViewName:    "services",
			Key:         'w',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleServicesOpenInBrowserCommand,
			Description: gui.Tr.OpenInBrowser,
		},
		{
			ViewName:    "images",
			Key:         'c',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleImagesCustomCommand,
			Description: gui.Tr.RunCustomCommand,
		},
		{
			ViewName:    "images",
			Key:         'd',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleImagesRemoveMenu,
			Description: gui.Tr.RemoveImage,
		},
		{
			ViewName:    "images",
			Key:         'b',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleImagesBulkCommand,
			Description: gui.Tr.ViewBulkCommands,
		},
		{
			ViewName:    "volumes",
			Key:         'c',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleVolumesCustomCommand,
			Description: gui.Tr.RunCustomCommand,
		},
		{
			ViewName:    "volumes",
			Key:         'd',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleVolumesRemoveMenu,
			Description: gui.Tr.RemoveVolume,
		},
		{
			ViewName:    "volumes",
			Key:         'b',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleVolumesBulkCommand,
			Description: gui.Tr.ViewBulkCommands,
		},
		{
			ViewName:    "networks",
			Key:         'c',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleNetworksCustomCommand,
			Description: gui.Tr.RunCustomCommand,
		},
		{
			ViewName:    "networks",
			Key:         'd',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleNetworksRemoveMenu,
			Description: gui.Tr.RemoveNetwork,
		},
		{
			ViewName:    "networks",
			Key:         'b',
			Modifier:    gocui.ModNone,
			Handler:     gui.handleNetworksBulkCommand,
			Description: gui.Tr.ViewBulkCommands,
		},
		{
			ViewName:    "main",
			Key:         gocui.KeyEsc,
			Modifier:    gocui.ModNone,
			Handler:     gui.handleExitMain,
			Description: gui.Tr.Return,
		},
		{
			ViewName: "main",
			Key:      gocui.KeyArrowLeft,
			Modifier: gocui.ModNone,
			Handler:  gui.scrollLeftMain,
		},
		{
			ViewName: "main",
			Key:      gocui.KeyArrowRight,
			Modifier: gocui.ModNone,
			Handler:  gui.scrollRightMain,
		},
		{
			ViewName: "main",
			Key:      'h',
			Modifier: gocui.ModNone,
			Handler:  gui.scrollLeftMain,
		},
		{
			ViewName: "main",
			Key:      'l',
			Modifier: gocui.ModNone,
			Handler:  gui.scrollRightMain,
		},
		{
			ViewName: "filter",
			Key:      gocui.KeyEnter,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.commitFilter),
		},
		{
			ViewName: "filter",
			Key:      gocui.KeyEsc,
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.escapeFilterPrompt),
		},
		{
			ViewName: "",
			Key:      'J',
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.scrollDownMain),
		},
		{
			ViewName: "",
			Key:      'K',
			Modifier: gocui.ModNone,
			Handler:  wrappedHandler(gui.scrollUpMain),
		},
		{
			ViewName: "",
			Key:      'H',
			Modifier: gocui.ModNone,
			Handler:  gui.scrollLeftMain,
		},
		{
			ViewName: "",
			Key:      'L',
			Modifier: gocui.ModNone,
			Handler:  gui.scrollRightMain,
		},
		{
			ViewName:    "",
			Key:         '+',
			Handler:     wrappedHandler(gui.nextScreenMode),
			Description: gui.Tr.LcNextScreenMode,
		},
		{
			ViewName:    "",
			Key:         '_',
			Handler:     wrappedHandler(gui.prevScreenMode),
			Description: gui.Tr.LcPrevScreenMode,
		},
	}

	for _, panel := range gui.allSidePanels() {
		bindings = append(bindings, []*Binding{
			{ViewName: panel.GetView().Name(), Key: gocui.KeyArrowLeft, Modifier: gocui.ModNone, Handler: gui.previousView},
			{ViewName: panel.GetView().Name(), Key: gocui.KeyArrowRight, Modifier: gocui.ModNone, Handler: gui.nextView},
			{ViewName: panel.GetView().Name(), Key: 'h', Modifier: gocui.ModNone, Handler: gui.previousView},
			{ViewName: panel.GetView().Name(), Key: 'l', Modifier: gocui.ModNone, Handler: gui.nextView},
			{ViewName: panel.GetView().Name(), Key: gocui.KeyTab, Modifier: gocui.ModNone, Handler: gui.nextView},
			{ViewName: panel.GetView().Name(), Key: gocui.KeyBacktab, Modifier: gocui.ModNone, Handler: gui.previousView},
		}...)
	}

	setUpDownClickBindings := func(viewName string, onUp func() error, onDown func() error, onClick func() error) {
		bindings = append(bindings, []*Binding{
			{ViewName: viewName, Key: 'k', Modifier: gocui.ModNone, Handler: wrappedHandler(onUp)},
			{ViewName: viewName, Key: gocui.KeyArrowUp, Modifier: gocui.ModNone, Handler: wrappedHandler(onUp)},
			{ViewName: viewName, Key: gocui.MouseWheelUp, Modifier: gocui.ModNone, Handler: wrappedHandler(onUp)},
			{ViewName: viewName, Key: 'j', Modifier: gocui.ModNone, Handler: wrappedHandler(onDown)},
			{ViewName: viewName, Key: gocui.KeyArrowDown, Modifier: gocui.ModNone, Handler: wrappedHandler(onDown)},
			{ViewName: viewName, Key: gocui.MouseWheelDown, Modifier: gocui.ModNone, Handler: wrappedHandler(onDown)},
			{ViewName: viewName, Key: gocui.MouseLeft, Modifier: gocui.ModNone, Handler: wrappedHandler(onClick)},
		}...)
	}

	bindings = append(bindings, []*Binding{
		{Handler: gui.handleGoTo(gui.Panels.Projects.View), Key: '1', Description: gui.Tr.FocusProjects},
		{Handler: gui.handleGoTo(gui.Panels.Services.View), Key: '2', Description: gui.Tr.FocusServices},
		{Handler: gui.handleGoTo(gui.Panels.Containers.View), Key: '3', Description: gui.Tr.FocusContainers},
		{Handler: gui.handleGoTo(gui.Panels.Images.View), Key: '4', Description: gui.Tr.FocusImages},
		{Handler: gui.handleGoTo(gui.Panels.Volumes.View), Key: '5', Description: gui.Tr.FocusVolumes},
		{Handler: gui.handleGoTo(gui.Panels.Networks.View), Key: '6', Description: gui.Tr.FocusNetworks},
	}...)

	for _, panel := range gui.allListPanels() {
		setUpDownClickBindings(panel.GetView().Name(), panel.HandlePrevLine, panel.HandleNextLine, panel.HandleClick)
	}

	setUpDownClickBindings("main", gui.scrollUpMain, gui.scrollDownMain, gui.handleMainClick)

	for _, panel := range gui.allSidePanels() {
		bindings = append(bindings,
			&Binding{
				ViewName:    panel.GetView().Name(),
				Key:         gocui.KeyEnter,
				Modifier:    gocui.ModNone,
				Handler:     gui.handleEnterMain,
				Description: gui.Tr.FocusMain,
			},
			&Binding{
				ViewName:    panel.GetView().Name(),
				Key:         '[',
				Modifier:    gocui.ModNone,
				Handler:     wrappedHandler(panel.HandlePrevMainTab),
				Description: gui.Tr.PreviousContext,
			},
			&Binding{
				ViewName:    panel.GetView().Name(),
				Key:         ']',
				Modifier:    gocui.ModNone,
				Handler:     wrappedHandler(panel.HandleNextMainTab),
				Description: gui.Tr.NextContext,
			},
		)
	}

	for _, panel := range gui.allListPanels() {
		if !panel.IsFilterDisabled() {
			bindings = append(bindings, &Binding{
				ViewName:    panel.GetView().Name(),
				Key:         '/',
				Modifier:    gocui.ModNone,
				Handler:     wrappedHandler(gui.handleOpenFilter),
				Description: gui.Tr.LcFilter,
			})
		}
	}

	return bindings
}

func (gui *Gui) keybindings(g *gocui.Gui) error {
	bindings := gui.GetInitialKeybindings()

	for _, binding := range bindings {
		if err := g.SetKeybinding(binding.ViewName, binding.Key, binding.Modifier, binding.Handler); err != nil {
			return err
		}
	}

	if err := g.SetTabClickBinding("main", gui.onMainTabClick); err != nil {
		return err
	}

	return nil
}

func wrappedHandler(f func() error) func(*gocui.Gui, *gocui.View) error {
	return func(g *gocui.Gui, v *gocui.View) error {
		return f()
	}
}
</file>

<file path="pkg/gui/layout.go">
package gui

import (
	"github.com/jesseduffield/gocui"
)

const UNKNOWN_VIEW_ERROR_MSG = "unknown view"

// getFocusLayout returns a manager function for when view gain and lose focus
func (gui *Gui) getFocusLayout() func(g *gocui.Gui) error {
	var previousView *gocui.View
	return func(g *gocui.Gui) error {
		newView := gui.g.CurrentView()
		if err := gui.onFocusChange(); err != nil {
			return err
		}
		// for now we don't consider losing focus to a popup panel as actually losing focus
		if newView != previousView && !gui.isPopupPanel(newView.Name()) {
			gui.onFocusLost(previousView, newView)
			gui.onFocus(newView)
			previousView = newView
		}
		return nil
	}
}

func (gui *Gui) onFocusChange() error {
	currentView := gui.g.CurrentView()
	for _, view := range gui.g.Views() {
		view.Highlight = view == currentView && view.Name() != "main"
	}
	return nil
}

func (gui *Gui) onFocusLost(v *gocui.View, newView *gocui.View) {
	if v == nil {
		return
	}

	if !gui.isPopupPanel(newView.Name()) {
		v.ParentView = nil
	}

	// refocusing because in responsive mode (when the window is very short) we want to ensure that after the view size changes we can still see the last selected item
	gui.focusPointInView(v)

	gui.Log.Info(v.Name() + " focus lost")
}

func (gui *Gui) onFocus(v *gocui.View) {
	if v == nil {
		return
	}

	gui.focusPointInView(v)

	gui.Log.Info(v.Name() + " focus gained")
}

// layout is called for every screen re-render e.g. when the screen is resized
func (gui *Gui) layout(g *gocui.Gui) error {
	g.Highlight = true
	width, height := g.Size()

	appStatus := gui.statusManager.getStatusString()

	viewDimensions := gui.getWindowDimensions(gui.getInformationContent(), appStatus)
	// we assume that the view has already been created.
	setViewFromDimensions := func(viewName string, windowName string) (*gocui.View, error) {
		dimensionsObj, ok := viewDimensions[windowName]

		view, err := g.View(viewName)
		if err != nil {
			return nil, err
		}

		if !ok {
			// view not specified in dimensions object: so create the view and hide it
			// making the view take up the whole space in the background in case it needs
			// to render content as soon as it appears, because lazyloaded content (via a pty task)
			// cares about the size of the view.
			_, err := g.SetView(viewName, 0, 0, width, height, 0)
			view.Visible = false
			return view, err
		}

		frameOffset := 1
		if view.Frame {
			frameOffset = 0
		}
		_, err = g.SetView(
			viewName,
			dimensionsObj.X0-frameOffset,
			dimensionsObj.Y0-frameOffset,
			dimensionsObj.X1+frameOffset,
			dimensionsObj.Y1+frameOffset,
			0,
		)
		view.Visible = true

		return view, err
	}

	for _, viewName := range gui.autoPositionedViewNames() {
		_, err := setViewFromDimensions(viewName, viewName)
		if err != nil && err.Error() != UNKNOWN_VIEW_ERROR_MSG {
			return err
		}
	}

	// here is a good place log some stuff
	// if you download humanlog and do tail -f development.log | humanlog
	// this will let you see these branches as prettified json
	// gui.Log.Info(utils.AsJson(gui.State.Branches[0:4]))
	return gui.resizeCurrentPopupPanel(g)
}

func (gui *Gui) focusPointInView(view *gocui.View) {
	if view == nil {
		return
	}

	currentPanel, ok := gui.currentListPanel()
	if ok {
		currentPanel.Refocus()
	}
}

func (gui *Gui) prepareView(viewName string) (*gocui.View, error) {
	// arbitrarily giving the view enough size so that we don't get an error, but
	// it's expected that the view will be given the correct size before being shown
	return gui.g.SetView(viewName, 0, 0, 10, 10, 0)
}
</file>

<file path="pkg/gui/main_panel.go">
package gui

import (
	"math"

	"github.com/jesseduffield/gocui"
)

func (gui *Gui) scrollUpMain() error {
	mainView := gui.Views.Main
	mainView.Autoscroll = false
	ox, oy := mainView.Origin()
	newOy := int(math.Max(0, float64(oy-gui.Config.UserConfig.Gui.ScrollHeight)))
	return mainView.SetOrigin(ox, newOy)
}

func (gui *Gui) scrollDownMain() error {
	mainView := gui.Views.Main
	mainView.Autoscroll = false
	ox, oy := mainView.Origin()

	reservedLines := 0
	if !gui.Config.UserConfig.Gui.ScrollPastBottom {
		_, sizeY := mainView.Size()
		reservedLines = sizeY
	}

	totalLines := mainView.ViewLinesHeight()
	if oy+reservedLines >= totalLines {
		return nil
	}

	return mainView.SetOrigin(ox, oy+gui.Config.UserConfig.Gui.ScrollHeight)
}

func (gui *Gui) scrollLeftMain(g *gocui.Gui, v *gocui.View) error {
	mainView := gui.Views.Main
	ox, oy := mainView.Origin()
	newOx := int(math.Max(0, float64(ox-gui.Config.UserConfig.Gui.ScrollHeight)))

	return mainView.SetOrigin(newOx, oy)
}

func (gui *Gui) scrollRightMain(g *gocui.Gui, v *gocui.View) error {
	mainView := gui.Views.Main
	ox, oy := mainView.Origin()

	content := mainView.ViewBufferLines()
	var largestNumberOfCharacters int
	for _, txt := range content {
		if len(txt) > largestNumberOfCharacters {
			largestNumberOfCharacters = len(txt)
		}
	}

	sizeX, _ := mainView.Size()
	if ox+sizeX >= largestNumberOfCharacters {
		return nil
	}

	return mainView.SetOrigin(ox+gui.Config.UserConfig.Gui.ScrollHeight, oy)
}

func (gui *Gui) autoScrollMain(g *gocui.Gui, v *gocui.View) error {
	gui.Views.Main.Autoscroll = true
	return nil
}

func (gui *Gui) jumpToTopMain(g *gocui.Gui, v *gocui.View) error {
	gui.Views.Main.Autoscroll = false
	_ = gui.Views.Main.SetOrigin(0, 0)
	_ = gui.Views.Main.SetCursor(0, 0)
	return nil
}

func (gui *Gui) onMainTabClick(tabIndex int) error {
	gui.Log.Warn(tabIndex)

	currentSidePanel, ok := gui.currentSidePanel()

	if !ok {
		return nil
	}

	currentSidePanel.SetMainTabIndex(tabIndex)
	return currentSidePanel.HandleSelect()
}

func (gui *Gui) handleEnterMain(g *gocui.Gui, v *gocui.View) error {
	mainView := gui.Views.Main
	mainView.ParentView = v

	return gui.switchFocus(mainView)
}

func (gui *Gui) handleExitMain(g *gocui.Gui, v *gocui.View) error {
	v.ParentView = nil
	return gui.returnFocus()
}

func (gui *Gui) handleMainClick() error {
	if gui.popupPanelFocused() {
		return nil
	}

	currentView := gui.g.CurrentView()

	if currentView.Name() != "main" {
		gui.Views.Main.ParentView = currentView
	}

	return gui.switchFocus(gui.Views.Main)
}
</file>

<file path="pkg/gui/menu_panel.go">
package gui

import (
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

type CreateMenuOptions struct {
	Title      string
	Items      []*types.MenuItem
	HideCancel bool
}

func (gui *Gui) getMenuPanel() *panels.SideListPanel[*types.MenuItem] {
	return &panels.SideListPanel[*types.MenuItem]{
		ListPanel: panels.ListPanel[*types.MenuItem]{
			List: panels.NewFilteredList[*types.MenuItem](),
			View: gui.Views.Menu,
		},
		NoItemsMessage: "",
		Gui:            gui.intoInterface(),
		OnClick:        gui.onMenuPress,
		Sort:           nil,
		GetTableCells:  presentation.GetMenuItemDisplayStrings,
		OnRerender: func() error {
			return gui.resizePopupPanel(gui.Views.Menu)
		},
		// so that we can avoid some UI trickiness, the menu will not have filtering
		// abillity yet. To support it, we would need to have filter state against
		// each panel (e.g. for when you filter the images panel, then bring up
		// the options menu, then try to filter that too.
		DisableFilter: true,
	}
}

func (gui *Gui) onMenuPress(menuItem *types.MenuItem) error {
	if err := gui.handleMenuClose(); err != nil {
		return err
	}

	if menuItem.OnPress != nil {
		return menuItem.OnPress()
	}

	return nil
}

func (gui *Gui) handleMenuPress() error {
	selectedMenuItem, err := gui.Panels.Menu.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.onMenuPress(selectedMenuItem)
}

func (gui *Gui) Menu(opts CreateMenuOptions) error {
	if !opts.HideCancel {
		// this is mutative but I'm okay with that for now
		opts.Items = append(opts.Items, &types.MenuItem{
			LabelColumns: []string{gui.Tr.Cancel},
			OnPress: func() error {
				return nil
			},
		})
	}

	maxColumnSize := 1

	for _, item := range opts.Items {
		if item.LabelColumns == nil {
			item.LabelColumns = []string{item.Label}
		}

		if item.OpensMenu {
			item.LabelColumns[0] = utils.OpensMenuStyle(item.LabelColumns[0])
		}

		maxColumnSize = utils.Max(maxColumnSize, len(item.LabelColumns))
	}

	for _, item := range opts.Items {
		if len(item.LabelColumns) < maxColumnSize {
			// we require that each item has the same number of columns so we're padding out with blank strings
			// if this item has too few
			item.LabelColumns = append(item.LabelColumns, make([]string, maxColumnSize-len(item.LabelColumns))...)
		}
	}

	gui.Panels.Menu.SetItems(opts.Items)
	gui.Panels.Menu.SetSelectedLineIdx(0)

	if err := gui.Panels.Menu.RerenderList(); err != nil {
		return err
	}

	gui.Views.Menu.Title = opts.Title
	gui.Views.Menu.Visible = true

	return gui.switchFocus(gui.Views.Menu)
}

// specific functions

func (gui *Gui) renderMenuOptions() error {
	optionsMap := map[string]string{
		"esc":   gui.Tr.Close,
		"â†‘ â†“":   gui.Tr.Navigate,
		"enter": gui.Tr.Execute,
	}
	return gui.renderOptionsMap(optionsMap)
}

func (gui *Gui) handleMenuClose() error {
	gui.Views.Menu.Visible = false

	// this code is here for when we do add filter ability to the menu panel,
	// though it's currently disabled
	if gui.State.Filter.panel == gui.Panels.Menu {
		if err := gui.clearFilter(); err != nil {
			return err
		}

		// we need to remove the view from the view stack because we're about to
		// return focus and don't want to land in the search view when it was searching
		// the menu in the first place
		gui.removeViewFromStack(gui.Views.Filter)
	}

	return gui.returnFocus()
}
</file>

<file path="pkg/gui/networks_panel.go">
package gui

import (
	"strconv"

	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func (gui *Gui) getNetworksPanel() *panels.SideListPanel[*commands.Network] {
	return &panels.SideListPanel[*commands.Network]{
		ContextState: &panels.ContextState[*commands.Network]{
			GetMainTabs: func() []panels.MainTab[*commands.Network] {
				return []panels.MainTab[*commands.Network]{
					{
						Key:    "config",
						Title:  gui.Tr.ConfigTitle,
						Render: gui.renderNetworkConfig,
					},
				}
			},
			GetItemContextCacheKey: func(network *commands.Network) string {
				return "networks-" + network.Name
			},
		},
		ListPanel: panels.ListPanel[*commands.Network]{
			List: panels.NewFilteredList[*commands.Network](),
			View: gui.Views.Networks,
		},
		NoItemsMessage: gui.Tr.NoNetworks,
		Gui:            gui.intoInterface(),
		// we're sorting these networks based on whether they have labels defined,
		// because those are the ones you typically care about.
		// Within that, we also sort them alphabetically
		Sort: func(a *commands.Network, b *commands.Network) bool {
			return a.Name < b.Name
		},
		GetTableCells: presentation.GetNetworkDisplayStrings,
	}
}

func (gui *Gui) renderNetworkConfig(network *commands.Network) tasks.TaskFunc {
	return gui.NewSimpleRenderStringTask(func() string { return gui.networkConfigStr(network) })
}

func (gui *Gui) networkConfigStr(network *commands.Network) string {
	padding := 15
	output := ""
	output += utils.WithPadding("ID: ", padding) + network.Network.ID + "\n"
	output += utils.WithPadding("Name: ", padding) + network.Name + "\n"
	output += utils.WithPadding("Driver: ", padding) + network.Network.Driver + "\n"
	output += utils.WithPadding("Scope: ", padding) + network.Network.Scope + "\n"
	output += utils.WithPadding("EnabledIPV6: ", padding) + strconv.FormatBool(network.Network.EnableIPv6) + "\n"
	output += utils.WithPadding("Internal: ", padding) + strconv.FormatBool(network.Network.Internal) + "\n"
	output += utils.WithPadding("Attachable: ", padding) + strconv.FormatBool(network.Network.Attachable) + "\n"
	output += utils.WithPadding("Ingress: ", padding) + strconv.FormatBool(network.Network.Ingress) + "\n"

	output += utils.WithPadding("Containers: ", padding)
	if len(network.Network.Containers) > 0 {
		output += "\n"
		for _, v := range network.Network.Containers {
			output += utils.FormatMapItem(padding, v.Name, v.EndpointID)
		}
	} else {
		output += "none\n"
	}

	output += "\n"
	output += utils.WithPadding("Labels: ", padding) + utils.FormatMap(padding, network.Network.Labels) + "\n"
	output += utils.WithPadding("Options: ", padding) + utils.FormatMap(padding, network.Network.Options)

	return output
}

func (gui *Gui) reloadNetworks() error {
	if err := gui.refreshStateNetworks(); err != nil {
		return err
	}

	return gui.Panels.Networks.RerenderList()
}

func (gui *Gui) refreshStateNetworks() error {
	networks, err := gui.DockerCommand.RefreshNetworks()
	if err != nil {
		return err
	}

	gui.Panels.Networks.SetItems(networks)

	return nil
}

func (gui *Gui) handleNetworksRemoveMenu(g *gocui.Gui, v *gocui.View) error {
	network, err := gui.Panels.Networks.GetSelectedItem()
	if err != nil {
		return nil
	}

	type removeNetworkOption struct {
		description string
		command     string
	}

	options := []*removeNetworkOption{
		{
			description: gui.Tr.Remove,
			command:     utils.WithShortSha("docker network rm " + network.Name),
		},
	}

	menuItems := lo.Map(options, func(option *removeNetworkOption, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: []string{option.description, color.New(color.FgRed).Sprint(option.command)},
			OnPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.RemovingStatus, func() error {
					if err := network.Remove(); err != nil {
						return gui.createErrorPanel(err.Error())
					}
					return nil
				})
			},
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) handlePruneNetworks() error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmPruneNetworks, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.PruningStatus, func() error {
			err := gui.DockerCommand.PruneNetworks()
			if err != nil {
				return gui.createErrorPanel(err.Error())
			}
			return nil
		})
	}, nil)
}

func (gui *Gui) handleNetworksCustomCommand(g *gocui.Gui, v *gocui.View) error {
	network, err := gui.Panels.Networks.GetSelectedItem()
	if err != nil {
		return nil
	}

	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{
		Network: network,
	})

	customCommands := gui.Config.UserConfig.CustomCommands.Networks

	return gui.createCustomCommandMenu(customCommands, commandObject)
}

func (gui *Gui) handleNetworksBulkCommand(g *gocui.Gui, v *gocui.View) error {
	baseBulkCommands := []config.CustomCommand{
		{
			Name:             gui.Tr.PruneNetworks,
			InternalFunction: gui.handlePruneNetworks,
		},
	}

	bulkCommands := append(baseBulkCommands, gui.Config.UserConfig.BulkCommands.Networks...)
	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{})

	return gui.createBulkCommandMenu(bulkCommands, commandObject)
}
</file>

<file path="pkg/gui/options_menu_panel.go">
package gui

import (
	"github.com/samber/lo"

	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
)

func (gui *Gui) getBindings(v *gocui.View) []*Binding {
	var bindingsGlobal, bindingsPanel []*Binding

	bindings := gui.GetInitialKeybindings()

	for _, binding := range bindings {
		if binding.GetKey() != "" && binding.Description != "" {
			switch binding.ViewName {
			case "":
				bindingsGlobal = append(bindingsGlobal, binding)
			case v.Name():
				bindingsPanel = append(bindingsPanel, binding)
			}
		}
	}

	// check if we have any keybindings from our parent view to add
	if v.ParentView != nil {
	L:
		for _, binding := range bindings {
			if binding.GetKey() != "" && binding.Description != "" {
				if binding.ViewName == v.ParentView.Name() {
					// if we haven't got a conflict we will display the binding
					for _, ownBinding := range bindingsPanel {
						if ownBinding.GetKey() == binding.GetKey() {
							continue L
						}
					}
					bindingsPanel = append(bindingsPanel, binding)
				}
			}
		}
	}

	// append dummy element to have a separator between
	// panel and global keybindings
	bindingsPanel = append(bindingsPanel, &Binding{})
	return append(bindingsPanel, bindingsGlobal...)
}

func (gui *Gui) handleCreateOptionsMenu(g *gocui.Gui, v *gocui.View) error {
	if gui.isPopupPanel(v.Name()) {
		return nil
	}

	menuItems := lo.Map(gui.getBindings(v), func(binding *Binding, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: []string{binding.GetKey(), binding.Description},
			OnPress: func() error {
				if binding.Key == nil {
					return nil
				}

				return binding.Handler(g, v)
			},
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title:      gui.Tr.MenuTitle,
		Items:      menuItems,
		HideCancel: true,
	})
}
</file>

<file path="pkg/gui/panels.go">
package gui

import "github.com/jesseduffield/lazydocker/pkg/gui/panels"

func (gui *Gui) intoInterface() panels.IGui {
	return gui
}
</file>

<file path="pkg/gui/project_panel.go">
package gui

import (
	"bytes"
	"context"
	"path"
	"strings"

	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/jesseduffield/yaml"
)

// Although at the moment we'll only have one project, in future we could have
// a list of projects in the project panel.

func (gui *Gui) getProjectPanel() *panels.SideListPanel[*commands.Project] {
	return &panels.SideListPanel[*commands.Project]{
		ContextState: &panels.ContextState[*commands.Project]{
			GetMainTabs: func() []panels.MainTab[*commands.Project] {
				if gui.DockerCommand.InDockerComposeProject {
					return []panels.MainTab[*commands.Project]{
						{
							Key:    "logs",
							Title:  gui.Tr.LogsTitle,
							Render: gui.renderAllLogs,
						},
						{
							Key:    "config",
							Title:  gui.Tr.DockerComposeConfigTitle,
							Render: gui.renderDockerComposeConfig,
						},
						{
							Key:    "credits",
							Title:  gui.Tr.CreditsTitle,
							Render: gui.renderCredits,
						},
					}
				}

				return []panels.MainTab[*commands.Project]{
					{
						Key:    "credits",
						Title:  gui.Tr.CreditsTitle,
						Render: gui.renderCredits,
					},
				}
			},
			GetItemContextCacheKey: func(project *commands.Project) string {
				return "projects-" + project.Name
			},
		},

		ListPanel: panels.ListPanel[*commands.Project]{
			List: panels.NewFilteredList[*commands.Project](),
			View: gui.Views.Project,
		},
		NoItemsMessage: "",
		Gui:            gui.intoInterface(),

		Sort: func(a *commands.Project, b *commands.Project) bool {
			return false
		},
		GetTableCells: presentation.GetProjectDisplayStrings,
		// It doesn't make sense to filter a list of only one item.
		DisableFilter: true,
	}
}

func (gui *Gui) refreshProject() error {
	gui.Panels.Projects.SetItems([]*commands.Project{{Name: gui.getProjectName()}})
	return gui.Panels.Projects.RerenderList()
}

func (gui *Gui) getProjectName() string {
	projectName := path.Base(gui.Config.ProjectDir)
	if gui.DockerCommand.InDockerComposeProject {
		for _, service := range gui.Panels.Services.List.GetAllItems() {
			container := service.Container
			if container != nil && container.DetailsLoaded() {
				return container.Details.Config.Labels["com.docker.compose.project"]
			}
		}
	}

	return projectName
}

func (gui *Gui) renderCredits(_project *commands.Project) tasks.TaskFunc {
	return gui.NewSimpleRenderStringTask(func() string { return gui.creditsStr() })
}

func (gui *Gui) creditsStr() string {
	var configBuf bytes.Buffer
	_ = yaml.NewEncoder(&configBuf, yaml.IncludeOmitted).Encode(gui.Config.UserConfig)

	return strings.Join(
		[]string{
			lazydockerTitle(),
			"Copyright (c) 2019 Jesse Duffield",
			"Keybindings: https://github.com/jesseduffield/lazydocker/blob/master/docs/keybindings",
			"Config Options: https://github.com/jesseduffield/lazydocker/blob/master/docs/Config.md",
			"Raise an Issue: https://github.com/jesseduffield/lazydocker/issues",
			utils.ColoredString("Buy Jesse a coffee: https://github.com/sponsors/jesseduffield", color.FgMagenta), // caffeine ain't free
			"Here's your lazydocker config when merged in with the defaults (you can open your config by pressing 'o'):",
			utils.ColoredYamlString(configBuf.String()),
		}, "\n\n")
}

func (gui *Gui) renderAllLogs(_project *commands.Project) tasks.TaskFunc {
	return gui.NewTask(TaskOpts{
		Autoscroll: true,
		Wrap:       gui.Config.UserConfig.Gui.WrapMainPanel,
		Func: func(ctx context.Context) {
			gui.clearMainView()

			cmd := gui.OSCommand.RunCustomCommand(
				utils.ApplyTemplate(
					gui.Config.UserConfig.CommandTemplates.AllLogs,
					gui.DockerCommand.NewCommandObject(commands.CommandObject{}),
				),
			)

			cmd.Stdout = gui.Views.Main
			cmd.Stderr = gui.Views.Main

			gui.OSCommand.PrepareForChildren(cmd)
			_ = cmd.Start()

			go func() {
				<-ctx.Done()
				if err := gui.OSCommand.Kill(cmd); err != nil {
					gui.Log.Error(err)
				}
			}()

			_ = cmd.Wait()
		},
	})
}

func (gui *Gui) renderDockerComposeConfig(_project *commands.Project) tasks.TaskFunc {
	return gui.NewSimpleRenderStringTask(func() string {
		return utils.ColoredYamlString(gui.DockerCommand.DockerComposeConfig())
	})
}

func (gui *Gui) handleOpenConfig(g *gocui.Gui, v *gocui.View) error {
	return gui.openFile(gui.Config.ConfigFilename())
}

func (gui *Gui) handleEditConfig(g *gocui.Gui, v *gocui.View) error {
	return gui.editFile(gui.Config.ConfigFilename())
}

func lazydockerTitle() string {
	return `
   _                     _            _
  | |                   | |          | |
  | | __ _ _____   _  __| | ___   ___| | _____ _ __
  | |/ _` + "`" + ` |_  / | | |/ _` + "`" + ` |/ _ \ / __| |/ / _ \ '__|
  | | (_| |/ /| |_| | (_| | (_) | (__|   <  __/ |
  |_|\__,_/___|\__, |\__,_|\___/ \___|_|\_\___|_|
                __/ |
               |___/
`
}

// handleViewAllLogs switches to a subprocess viewing all the logs from docker-compose
func (gui *Gui) handleViewAllLogs(g *gocui.Gui, v *gocui.View) error {
	c, err := gui.DockerCommand.ViewAllLogs()
	if err != nil {
		return gui.createErrorPanel(err.Error())
	}

	return gui.runSubprocess(c)
}
</file>

<file path="pkg/gui/services_panel.go">
package gui

import (
	"context"
	"fmt"
	"time"

	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func (gui *Gui) getServicesPanel() *panels.SideListPanel[*commands.Service] {
	return &panels.SideListPanel[*commands.Service]{
		ContextState: &panels.ContextState[*commands.Service]{
			GetMainTabs: func() []panels.MainTab[*commands.Service] {
				return []panels.MainTab[*commands.Service]{
					{
						Key:    "logs",
						Title:  gui.Tr.LogsTitle,
						Render: gui.renderServiceLogs,
					},
					{
						Key:    "stats",
						Title:  gui.Tr.StatsTitle,
						Render: gui.renderServiceStats,
					},
					{
						Key:    "container-env",
						Title:  gui.Tr.ContainerEnvTitle,
						Render: gui.renderServiceContainerEnv,
					},
					{
						Key:    "container-config",
						Title:  gui.Tr.ContainerConfigTitle,
						Render: gui.renderServiceContainerConfig,
					},
					{
						Key:    "top",
						Title:  gui.Tr.TopTitle,
						Render: gui.renderServiceTop,
					},
				}
			},
			GetItemContextCacheKey: func(service *commands.Service) string {
				if service.Container == nil {
					return "services-" + service.ID
				}
				return "services-" + service.ID + "-" + service.Container.ID + "-" + service.Container.Container.State
			},
		},
		ListPanel: panels.ListPanel[*commands.Service]{
			List: panels.NewFilteredList[*commands.Service](),
			View: gui.Views.Services,
		},
		NoItemsMessage: gui.Tr.NoServices,
		Gui:            gui.intoInterface(),
		// sort services first by whether they have a linked container, and second by alphabetical order
		Sort: func(a *commands.Service, b *commands.Service) bool {
			if a.Container != nil && b.Container == nil {
				return true
			}

			if a.Container == nil && b.Container != nil {
				return false
			}

			return a.Name < b.Name
		},
		GetTableCells: func(service *commands.Service) []string {
			return presentation.GetServiceDisplayStrings(&gui.Config.UserConfig.Gui, service)
		},
		Hide: func() bool {
			return !gui.DockerCommand.InDockerComposeProject
		},
	}
}

func (gui *Gui) renderServiceContainerConfig(service *commands.Service) tasks.TaskFunc {
	if service.Container == nil {
		return gui.NewSimpleRenderStringTask(func() string { return gui.Tr.NoContainer })
	}

	return gui.renderContainerConfig(service.Container)
}

func (gui *Gui) renderServiceContainerEnv(service *commands.Service) tasks.TaskFunc {
	if service.Container == nil {
		return gui.NewSimpleRenderStringTask(func() string { return gui.Tr.NoContainer })
	}

	return gui.renderContainerEnv(service.Container)
}

func (gui *Gui) renderServiceStats(service *commands.Service) tasks.TaskFunc {
	if service.Container == nil {
		return gui.NewSimpleRenderStringTask(func() string { return gui.Tr.NoContainer })
	}

	return gui.renderContainerStats(service.Container)
}

func (gui *Gui) renderServiceTop(service *commands.Service) tasks.TaskFunc {
	return gui.NewTickerTask(TickerTaskOpts{
		Func: func(ctx context.Context, notifyStopped chan struct{}) {
			contents, err := service.RenderTop(ctx)
			if err != nil {
				gui.RenderStringMain(err.Error())
			}

			gui.reRenderStringMain(contents)
		},
		Duration:   time.Second,
		Before:     func(ctx context.Context) { gui.clearMainView() },
		Wrap:       gui.Config.UserConfig.Gui.WrapMainPanel,
		Autoscroll: false,
	})
}

func (gui *Gui) renderServiceLogs(service *commands.Service) tasks.TaskFunc {
	if service.Container == nil {
		return gui.NewSimpleRenderStringTask(func() string { return gui.Tr.NoContainerForService })
	}

	return gui.renderContainerLogsToMain(service.Container)
}

type commandOption struct {
	description string
	command     string
	onPress     func() error
}

func (r *commandOption) getDisplayStrings() []string {
	return []string{r.description, color.New(color.FgCyan).Sprint(r.command)}
}

func (gui *Gui) handleServiceRemoveMenu(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	composeCommand := gui.Config.UserConfig.CommandTemplates.DockerCompose

	options := []*commandOption{
		{
			description: gui.Tr.Remove,
			command:     fmt.Sprintf("%s rm --stop --force %s", composeCommand, service.Name),
		},
		{
			description: gui.Tr.RemoveWithVolumes,
			command:     fmt.Sprintf("%s rm --stop --force -v %s", composeCommand, service.Name),
		},
	}

	menuItems := lo.Map(options, func(option *commandOption, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: option.getDisplayStrings(),
			OnPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.RemovingStatus, func() error {
					if err := gui.OSCommand.RunCommand(option.command); err != nil {
						return gui.createErrorPanel(err.Error())
					}

					return nil
				})
			},
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) handleServicePause(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}
	if service.Container == nil {
		return nil
	}

	return gui.PauseContainer(service.Container)
}

func (gui *Gui) handleServiceStop(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.StopService, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.StoppingStatus, func() error {
			if err := service.Stop(); err != nil {
				return gui.createErrorPanel(err.Error())
			}

			return nil
		})
	}, nil)
}

func (gui *Gui) handleServiceUp(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.WithWaitingStatus(gui.Tr.UppingServiceStatus, func() error {
		if err := service.Up(); err != nil {
			return gui.createErrorPanel(err.Error())
		}

		return nil
	})
}

func (gui *Gui) handleServiceRestart(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.WithWaitingStatus(gui.Tr.RestartingStatus, func() error {
		if err := service.Restart(); err != nil {
			return gui.createErrorPanel(err.Error())
		}

		return nil
	})
}

func (gui *Gui) handleServiceStart(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	return gui.WithWaitingStatus(gui.Tr.StartingStatus, func() error {
		if err := service.Start(); err != nil {
			return gui.createErrorPanel(err.Error())
		}

		return nil
	})
}

func (gui *Gui) handleServiceAttach(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	if service.Container == nil {
		return gui.createErrorPanel(gui.Tr.NoContainers)
	}

	c, err := service.Attach()
	if err != nil {
		return gui.createErrorPanel(err.Error())
	}

	return gui.runSubprocess(c)
}

func (gui *Gui) handleServiceRenderLogsToMain(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	c, err := service.ViewLogs()
	if err != nil {
		return gui.createErrorPanel(err.Error())
	}

	return gui.runSubprocess(c)
}

func (gui *Gui) handleProjectUp(g *gocui.Gui, v *gocui.View) error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmUpProject, func(g *gocui.Gui, v *gocui.View) error {
		cmdStr := utils.ApplyTemplate(
			gui.Config.UserConfig.CommandTemplates.Up,
			gui.DockerCommand.NewCommandObject(commands.CommandObject{}),
		)

		return gui.WithWaitingStatus(gui.Tr.UppingProjectStatus, func() error {
			if err := gui.OSCommand.RunCommand(cmdStr); err != nil {
				return gui.createErrorPanel(err.Error())
			}
			return nil
		})
	}, nil)
}

func (gui *Gui) handleProjectDown(g *gocui.Gui, v *gocui.View) error {
	downCommand := utils.ApplyTemplate(
		gui.Config.UserConfig.CommandTemplates.Down,
		gui.DockerCommand.NewCommandObject(commands.CommandObject{}),
	)

	downWithVolumesCommand := utils.ApplyTemplate(
		gui.Config.UserConfig.CommandTemplates.DownWithVolumes,
		gui.DockerCommand.NewCommandObject(commands.CommandObject{}),
	)

	options := []*commandOption{
		{
			description: gui.Tr.Down,
			command:     downCommand,
			onPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.DowningStatus, func() error {
					if err := gui.OSCommand.RunCommand(downCommand); err != nil {
						return gui.createErrorPanel(err.Error())
					}
					return nil
				})
			},
		},
		{
			description: gui.Tr.DownWithVolumes,
			command:     downWithVolumesCommand,
			onPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.DowningStatus, func() error {
					if err := gui.OSCommand.RunCommand(downWithVolumesCommand); err != nil {
						return gui.createErrorPanel(err.Error())
					}
					return nil
				})
			},
		},
	}

	menuItems := lo.Map(options, func(option *commandOption, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: option.getDisplayStrings(),
			OnPress:      option.onPress,
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) handleServiceRestartMenu(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	rebuildCommand := utils.ApplyTemplate(
		gui.Config.UserConfig.CommandTemplates.RebuildService,
		gui.DockerCommand.NewCommandObject(commands.CommandObject{Service: service}),
	)

	recreateCommand := utils.ApplyTemplate(
		gui.Config.UserConfig.CommandTemplates.RecreateService,
		gui.DockerCommand.NewCommandObject(commands.CommandObject{Service: service}),
	)

	options := []*commandOption{
		{
			description: gui.Tr.Restart,
			command: utils.ApplyTemplate(
				gui.Config.UserConfig.CommandTemplates.RestartService,
				gui.DockerCommand.NewCommandObject(commands.CommandObject{Service: service}),
			),
			onPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.RestartingStatus, func() error {
					if err := service.Restart(); err != nil {
						return gui.createErrorPanel(err.Error())
					}
					return nil
				})
			},
		},
		{
			description: gui.Tr.Recreate,
			command: utils.ApplyTemplate(
				gui.Config.UserConfig.CommandTemplates.RecreateService,
				gui.DockerCommand.NewCommandObject(commands.CommandObject{Service: service}),
			),
			onPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.RestartingStatus, func() error {
					if err := gui.OSCommand.RunCommand(recreateCommand); err != nil {
						return gui.createErrorPanel(err.Error())
					}
					return nil
				})
			},
		},
		{
			description: gui.Tr.Rebuild,
			command: utils.ApplyTemplate(
				gui.Config.UserConfig.CommandTemplates.RebuildService,
				gui.DockerCommand.NewCommandObject(commands.CommandObject{Service: service}),
			),
			onPress: func() error {
				return gui.runSubprocess(gui.OSCommand.RunCustomCommand(rebuildCommand))
			},
		},
	}

	menuItems := lo.Map(options, func(option *commandOption, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: option.getDisplayStrings(),
			OnPress:      option.onPress,
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) handleServicesCustomCommand(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{
		Service:   service,
		Container: service.Container,
	})

	var customCommands []config.CustomCommand

	customServiceCommands := gui.Config.UserConfig.CustomCommands.Services
	// we only include service commands if they have no serviceNames defined or if our service happens to be one of the serviceNames defined
L:
	for _, cmd := range customServiceCommands {
		if len(cmd.ServiceNames) == 0 {
			customCommands = append(customCommands, cmd)
			continue L
		}
		for _, serviceName := range cmd.ServiceNames {
			if serviceName == service.Name {
				// appending these to the top given they're more likely to be selected
				customCommands = append([]config.CustomCommand{cmd}, customCommands...)
				continue L
			}
		}
	}

	if service.Container != nil {
		customCommands = append(customCommands, gui.Config.UserConfig.CustomCommands.Containers...)
	}

	return gui.createCustomCommandMenu(customCommands, commandObject)
}

func (gui *Gui) handleServicesBulkCommand(g *gocui.Gui, v *gocui.View) error {
	bulkCommands := gui.Config.UserConfig.BulkCommands.Services
	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{})

	return gui.createBulkCommandMenu(bulkCommands, commandObject)
}

func (gui *Gui) handleServicesExecShell(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	container := service.Container
	if container == nil {
		return gui.createErrorPanel(gui.Tr.NoContainers)
	}

	return gui.containerExecShell(container)
}

func (gui *Gui) handleServicesOpenInBrowserCommand(g *gocui.Gui, v *gocui.View) error {
	service, err := gui.Panels.Services.GetSelectedItem()
	if err != nil {
		return nil
	}

	container := service.Container
	if container == nil {
		return gui.createErrorPanel(gui.Tr.NoContainers)
	}

	return gui.openContainerInBrowser(container)
}
</file>

<file path="pkg/gui/sort_container_test.go">
package gui

import (
	"sort"
	"testing"

	"github.com/docker/docker/api/types/container"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/stretchr/testify/assert"
)

func sampleContainers() []*commands.Container {
	return []*commands.Container{
		{
			ID:   "1",
			Name: "1",
			Container: container.Summary{
				State: "exited",
			},
		},
		{
			ID:   "2",
			Name: "2",
			Container: container.Summary{
				State: "running",
			},
		},
		{
			ID:   "3",
			Name: "3",
			Container: container.Summary{
				State: "running",
			},
		},
		{
			ID:   "4",
			Name: "4",
			Container: container.Summary{
				State: "created",
			},
		},
	}
}

func expectedPerStatusContainers() []*commands.Container {
	return []*commands.Container{
		{
			ID:   "2",
			Name: "2",
			Container: container.Summary{
				State: "running",
			},
		},
		{
			ID:   "3",
			Name: "3",
			Container: container.Summary{
				State: "running",
			},
		},
		{
			ID:   "1",
			Name: "1",
			Container: container.Summary{
				State: "exited",
			},
		},
		{
			ID:   "4",
			Name: "4",
			Container: container.Summary{
				State: "created",
			},
		},
	}
}

func expectedLegacySortedContainers() []*commands.Container {
	return []*commands.Container{
		{
			ID:   "1",
			Name: "1",
			Container: container.Summary{
				State: "exited",
			},
		},
		{
			ID:   "2",
			Name: "2",
			Container: container.Summary{
				State: "running",
			},
		},
		{
			ID:   "3",
			Name: "3",
			Container: container.Summary{
				State: "running",
			},
		},
		{
			ID:   "4",
			Name: "4",
			Container: container.Summary{
				State: "created",
			},
		},
	}
}

func assertEqualContainers(t *testing.T, left *commands.Container, right *commands.Container) {
	t.Helper()
	assert.Equal(t, left.Container.State, right.Container.State)
	assert.Equal(t, left.Container.ID, right.Container.ID)
	assert.Equal(t, left.Name, right.Name)
}

func TestSortContainers(t *testing.T) {
	actual := sampleContainers()

	expected := expectedPerStatusContainers()

	sort.Slice(actual, func(i, j int) bool {
		return sortContainers(actual[i], actual[j], false)
	})

	assert.Equal(t, len(actual), len(expected))

	for i := 0; i < len(actual); i++ {
		assertEqualContainers(t, expected[i], actual[i])
	}
}

func TestLegacySortedContainers(t *testing.T) {
	actual := sampleContainers()

	expected := expectedLegacySortedContainers()

	sort.Slice(actual, func(i, j int) bool {
		return sortContainers(actual[i], actual[j], true)
	})

	assert.Equal(t, len(actual), len(expected))

	for i := 0; i < len(actual); i++ {
		assertEqualContainers(t, expected[i], actual[i])
	}
}
</file>

<file path="pkg/gui/subprocess.go">
package gui

import (
	"fmt"
	"io"
	"os"
	"os/exec"
	"os/signal"
	"strings"

	"github.com/fatih/color"
	"github.com/jesseduffield/lazydocker/pkg/utils"
)

func (gui *Gui) runSubprocess(cmd *exec.Cmd) error {
	return gui.runSubprocessWithMessage(cmd, "")
}

func (gui *Gui) runSubprocessWithMessage(cmd *exec.Cmd, msg string) error {
	gui.Mutexes.SubprocessMutex.Lock()
	defer gui.Mutexes.SubprocessMutex.Unlock()

	if err := gui.g.Suspend(); err != nil {
		return gui.createErrorPanel(err.Error())
	}

	gui.PauseBackgroundThreads = true

	gui.runCommand(cmd, msg)

	if err := gui.g.Resume(); err != nil {
		return gui.createErrorPanel(err.Error())
	}

	gui.PauseBackgroundThreads = false

	return nil
}

func (gui *Gui) runCommand(cmd *exec.Cmd, msg string) {
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stdout
	cmd.Stdin = os.Stdin

	stop := make(chan os.Signal, 1)
	defer signal.Stop(stop)

	go func() {
		signal.Notify(stop, os.Interrupt)
		<-stop

		if err := gui.OSCommand.Kill(cmd); err != nil {
			gui.Log.Error(err)
		}
	}()

	fmt.Fprintf(os.Stdout, "\n%s\n\n", utils.ColoredString("+ "+strings.Join(cmd.Args, " "), color.FgBlue))
	if msg != "" {
		fmt.Fprintf(os.Stdout, "\n%s\n\n", utils.ColoredString(msg, color.FgGreen))
	}
	if err := cmd.Run(); err != nil {
		// not handling the error explicitly because usually we're going to see it
		// in the output anyway
		gui.Log.Error(err)
	}

	cmd.Stdin = nil
	cmd.Stdout = io.Discard
	cmd.Stderr = io.Discard

	gui.promptToReturn()
}
</file>

<file path="pkg/gui/tasks_adapter.go">
package gui

import (
	"context"
	"time"

	"github.com/jesseduffield/lazydocker/pkg/tasks"
)

func (gui *Gui) QueueTask(f func(ctx context.Context)) error {
	return gui.taskManager.NewTask(f)
}

type RenderStringTaskOpts struct {
	Autoscroll    bool
	Wrap          bool
	GetStrContent func() string
}

type TaskOpts struct {
	Autoscroll bool
	Wrap       bool
	Func       func(ctx context.Context)
}

type TickerTaskOpts struct {
	Duration   time.Duration
	Before     func(ctx context.Context)
	Func       func(ctx context.Context, notifyStopped chan struct{})
	Autoscroll bool
	Wrap       bool
}

func (gui *Gui) NewRenderStringTask(opts RenderStringTaskOpts) tasks.TaskFunc {
	taskOpts := TaskOpts{
		Autoscroll: opts.Autoscroll,
		Wrap:       opts.Wrap,
		Func: func(ctx context.Context) {
			gui.RenderStringMain(opts.GetStrContent())
		},
	}

	return gui.NewTask(taskOpts)
}

// assumes it's cheap to obtain the content (otherwise we would pass a function that returns the content)
func (gui *Gui) NewSimpleRenderStringTask(getContent func() string) tasks.TaskFunc {
	return gui.NewRenderStringTask(RenderStringTaskOpts{
		GetStrContent: getContent,
		Autoscroll:    false,
		Wrap:          gui.Config.UserConfig.Gui.WrapMainPanel,
	})
}

func (gui *Gui) NewTask(opts TaskOpts) tasks.TaskFunc {
	return func(ctx context.Context) {
		mainView := gui.Views.Main
		mainView.Autoscroll = opts.Autoscroll
		mainView.Wrap = opts.Wrap

		opts.Func(ctx)
	}
}

// NewTickerTask is a convenience function for making a new task that repeats some action once per e.g. second
// the before function gets called after the lock is obtained, but before the ticker starts.
// if you handle a message on the stop channel in f() you need to send a message on the notifyStopped channel because returning is not sufficient. Here, unlike in a regular task, simply returning means we're now going to wait till the next tick to run again.
func (gui *Gui) NewTickerTask(opts TickerTaskOpts) tasks.TaskFunc {
	notifyStopped := make(chan struct{}, 10)

	task := func(ctx context.Context) {
		if opts.Before != nil {
			opts.Before(ctx)
		}
		tickChan := time.NewTicker(opts.Duration)
		defer tickChan.Stop()
		// calling f first so that we're not waiting for the first tick
		opts.Func(ctx, notifyStopped)
		for {
			select {
			case <-notifyStopped:
				gui.Log.Info("exiting ticker task due to notifyStopped channel")
				return
			case <-ctx.Done():
				gui.Log.Info("exiting ticker task due to stopped channel")
				return
			case <-tickChan.C:
				gui.Log.Info("running ticker task again")
				opts.Func(ctx, notifyStopped)
			}
		}
	}

	taskOpts := TaskOpts{
		Autoscroll: opts.Autoscroll,
		Wrap:       opts.Wrap,
		Func:       task,
	}

	return gui.NewTask(taskOpts)
}
</file>

<file path="pkg/gui/theme.go">
package gui

import (
	"github.com/jesseduffield/gocui"
)

// GetOptionsPanelTextColor gets the color of the options panel text
func (gui *Gui) GetOptionsPanelTextColor() gocui.Attribute {
	return GetGocuiStyle(gui.Config.UserConfig.Gui.Theme.OptionsTextColor)
}

// SetColorScheme sets the color scheme for the app based on the user config
func (gui *Gui) SetColorScheme() error {
	gui.g.FgColor = GetGocuiStyle(gui.Config.UserConfig.Gui.Theme.InactiveBorderColor)
	gui.g.SelFgColor = GetGocuiStyle(gui.Config.UserConfig.Gui.Theme.ActiveBorderColor)
	gui.g.FrameColor = gui.g.FgColor
	gui.g.SelFrameColor = gui.g.SelFgColor
	return nil
}
</file>

<file path="pkg/gui/view_helpers.go">
package gui

import (
	"fmt"
	"sort"
	"strings"

	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
	"github.com/spkg/bom"
)

func (gui *Gui) handleGoTo(view *gocui.View) func(g *gocui.Gui, v *gocui.View) error {
	return func(g *gocui.Gui, v *gocui.View) error {
		gui.resetMainView()
		return gui.switchFocus(view)
	}
}

func (gui *Gui) nextView(g *gocui.Gui, v *gocui.View) error {
	sideViewNames := gui.sideViewNames()
	var focusedViewName string
	if v == nil || v.Name() == sideViewNames[len(sideViewNames)-1] {
		focusedViewName = sideViewNames[0]
	} else {
		viewName := v.Name()
		for i := range sideViewNames {
			if viewName == sideViewNames[i] {
				focusedViewName = sideViewNames[i+1]
				break
			}
			if i == len(sideViewNames)-1 {
				gui.Log.Info("not in list of views")
				return nil
			}
		}
	}
	focusedView, err := g.View(focusedViewName)
	if err != nil {
		panic(err)
	}
	gui.resetMainView()
	return gui.switchFocus(focusedView)
}

func (gui *Gui) previousView(g *gocui.Gui, v *gocui.View) error {
	sideViewNames := gui.sideViewNames()
	var focusedViewName string
	if v == nil || v.Name() == sideViewNames[0] {
		focusedViewName = sideViewNames[len(sideViewNames)-1]
	} else {
		viewName := v.Name()
		for i := range sideViewNames {
			if viewName == sideViewNames[i] {
				focusedViewName = sideViewNames[i-1]
				break
			}
			if i == len(sideViewNames)-1 {
				gui.Log.Info("not in list of views")
				return nil
			}
		}
	}
	focusedView, err := g.View(focusedViewName)
	if err != nil {
		panic(err)
	}
	gui.resetMainView()
	return gui.switchFocus(focusedView)
}

func (gui *Gui) resetMainView() {
	gui.State.Panels.Main.ObjectKey = ""
	gui.Views.Main.Wrap = gui.Config.UserConfig.Gui.WrapMainPanel
}

// if the cursor down past the last item, move it to the last line
// nolint:unparam
func (gui *Gui) focusPoint(selectedX int, selectedY int, lineCount int, v *gocui.View) {
	if selectedY < 0 || selectedY > lineCount {
		return
	}
	ox, oy := v.Origin()
	originalOy := oy
	cx, cy := v.Cursor()
	originalCy := cy
	_, height := v.Size()

	ly := utils.Max(height-1, 0)

	windowStart := oy
	windowEnd := oy + ly

	if selectedY < windowStart {
		oy = utils.Max(oy-(windowStart-selectedY), 0)
	} else if selectedY > windowEnd {
		oy += (selectedY - windowEnd)
	}

	if windowEnd > lineCount-1 {
		shiftAmount := (windowEnd - (lineCount - 1))
		oy = utils.Max(oy-shiftAmount, 0)
	}

	if originalOy != oy {
		_ = v.SetOrigin(ox, oy)
	}

	cy = selectedY - oy
	if originalCy != cy {
		_ = v.SetCursor(cx, selectedY-oy)
	}
}

func (gui *Gui) FocusY(selectedY int, lineCount int, v *gocui.View) {
	gui.focusPoint(0, selectedY, lineCount, v)
}

func (gui *Gui) ResetOrigin(v *gocui.View) {
	_ = v.SetOrigin(0, 0)
	_ = v.SetCursor(0, 0)
}

func (gui *Gui) cleanString(s string) string {
	output := string(bom.Clean([]byte(s)))
	return utils.NormalizeLinefeeds(output)
}

func (gui *Gui) setViewContent(v *gocui.View, s string) error {
	v.Clear()
	fmt.Fprint(v, gui.cleanString(s))
	return nil
}

// renderString resets the origin of a view and sets its content
func (gui *Gui) renderString(g *gocui.Gui, viewName, s string) error {
	g.Update(func(*gocui.Gui) error {
		v, err := g.View(viewName)
		if err != nil {
			return nil // return gracefully if view has been deleted
		}
		if err := v.SetOrigin(0, 0); err != nil {
			return err
		}
		if err := v.SetCursor(0, 0); err != nil {
			return err
		}
		return gui.setViewContent(v, s)
	})
	return nil
}

func (gui *Gui) RenderStringMain(s string) {
	_ = gui.renderString(gui.g, "main", s)
}

// reRenderString sets the main view's content, without changing its origin
func (gui *Gui) reRenderStringMain(s string) {
	gui.reRenderString("main", s)
}

// reRenderString sets the view's content, without changing its origin
func (gui *Gui) reRenderString(viewName, s string) {
	gui.g.Update(func(*gocui.Gui) error {
		v, err := gui.g.View(viewName)
		if err != nil {
			return nil // return gracefully if view has been deleted
		}
		return gui.setViewContent(v, s)
	})
}

func (gui *Gui) optionsMapToString(optionsMap map[string]string) string {
	optionsArray := make([]string, 0)
	for key, description := range optionsMap {
		optionsArray = append(optionsArray, key+": "+description)
	}
	sort.Strings(optionsArray)
	return strings.Join(optionsArray, ", ")
}

func (gui *Gui) renderOptionsMap(optionsMap map[string]string) error {
	return gui.renderString(gui.g, "options", gui.optionsMapToString(optionsMap))
}

func (gui *Gui) GetMainView() *gocui.View {
	return gui.Views.Main
}

func (gui *Gui) trimmedContent(v *gocui.View) string {
	return strings.TrimSpace(v.Buffer())
}

func (gui *Gui) currentViewName() string {
	currentView := gui.g.CurrentView()
	// this can happen when the app is first starting up
	if currentView == nil {
		return gui.initiallyFocusedViewName()
	}
	return currentView.Name()
}

func (gui *Gui) resizeCurrentPopupPanel(g *gocui.Gui) error {
	v := g.CurrentView()
	if gui.isPopupPanel(v.Name()) {
		return gui.resizePopupPanel(v)
	}
	return nil
}

func (gui *Gui) resizePopupPanel(v *gocui.View) error {
	// If the confirmation panel is already displayed, just resize the width,
	// otherwise continue
	content := v.Buffer()
	x0, y0, x1, y1 := gui.getConfirmationPanelDimensions(v.Wrap, content)
	vx0, vy0, vx1, vy1 := v.Dimensions()
	if vx0 == x0 && vy0 == y0 && vx1 == x1 && vy1 == y1 {
		return nil
	}
	_, err := gui.g.SetView(v.Name(), x0, y0, x1, y1, 0)
	return err
}

func (gui *Gui) renderPanelOptions() error {
	currentView := gui.g.CurrentView()
	switch currentView.Name() {
	case "menu":
		return gui.renderMenuOptions()
	case "confirmation":
		return gui.renderConfirmationOptions()
	}
	return gui.renderGlobalOptions()
}

func (gui *Gui) isPopupPanel(viewName string) bool {
	return lo.Contains(gui.popupViewNames(), viewName)
}

func (gui *Gui) popupPanelFocused() bool {
	return gui.isPopupPanel(gui.currentViewName())
}

func (gui *Gui) clearMainView() {
	mainView := gui.Views.Main
	mainView.Clear()
	_ = mainView.SetOrigin(0, 0)
	_ = mainView.SetCursor(0, 0)
}

func (gui *Gui) HandleClick(v *gocui.View, itemCount int, selectedLine *int, handleSelect func() error) error {
	wrappedHandleSelect := func(g *gocui.Gui, v *gocui.View) error {
		return handleSelect()
	}
	return gui.handleClickAux(v, itemCount, selectedLine, wrappedHandleSelect)
}

func (gui *Gui) handleClickAux(v *gocui.View, itemCount int, selectedLine *int, handleSelect func(*gocui.Gui, *gocui.View) error) error {
	if gui.popupPanelFocused() && v != nil && !gui.isPopupPanel(v.Name()) {
		return nil
	}

	_, cy := v.Cursor()
	_, oy := v.Origin()

	newSelectedLine := cy + oy

	if newSelectedLine < 0 {
		newSelectedLine = 0
	}

	if newSelectedLine > itemCount-1 {
		newSelectedLine = itemCount - 1
	}

	*selectedLine = newSelectedLine

	if gui.currentViewName() != v.Name() {
		if err := gui.switchFocus(v); err != nil {
			return err
		}
	}

	return handleSelect(gui.g, v)
}

func (gui *Gui) nextScreenMode() error {
	if gui.currentViewName() == "main" {
		gui.State.ScreenMode = prevIntInCycle([]WindowMaximisation{SCREEN_NORMAL, SCREEN_HALF, SCREEN_FULL}, gui.State.ScreenMode)

		return nil
	}

	gui.State.ScreenMode = nextIntInCycle([]WindowMaximisation{SCREEN_NORMAL, SCREEN_HALF, SCREEN_FULL}, gui.State.ScreenMode)

	return nil
}

func (gui *Gui) prevScreenMode() error {
	if gui.currentViewName() == "main" {
		gui.State.ScreenMode = nextIntInCycle([]WindowMaximisation{SCREEN_NORMAL, SCREEN_HALF, SCREEN_FULL}, gui.State.ScreenMode)

		return nil
	}

	gui.State.ScreenMode = prevIntInCycle([]WindowMaximisation{SCREEN_NORMAL, SCREEN_HALF, SCREEN_FULL}, gui.State.ScreenMode)

	return nil
}

func nextIntInCycle(sl []WindowMaximisation, current WindowMaximisation) WindowMaximisation {
	for i, val := range sl {
		if val == current {
			if i == len(sl)-1 {
				return sl[0]
			}
			return sl[i+1]
		}
	}
	return sl[0]
}

func prevIntInCycle(sl []WindowMaximisation, current WindowMaximisation) WindowMaximisation {
	for i, val := range sl {
		if val == current {
			if i > 0 {
				return sl[i-1]
			}
			return sl[len(sl)-1]
		}
	}
	return sl[len(sl)-1]
}

func (gui *Gui) CurrentView() *gocui.View {
	return gui.g.CurrentView()
}

func (gui *Gui) currentSidePanel() (panels.ISideListPanel, bool) {
	viewName := gui.currentViewName()

	for _, sidePanel := range gui.allSidePanels() {
		if sidePanel.GetView().Name() == viewName {
			return sidePanel, true
		}
	}

	return nil, false
}

// returns the current list panel. If no list panel is focused, returns false.
func (gui *Gui) currentListPanel() (panels.ISideListPanel, bool) {
	viewName := gui.currentViewName()

	for _, sidePanel := range gui.allListPanels() {
		if sidePanel.GetView().Name() == viewName {
			return sidePanel, true
		}
	}

	return nil, false
}

func (gui *Gui) allSidePanels() []panels.ISideListPanel {
	return []panels.ISideListPanel{
		gui.Panels.Projects,
		gui.Panels.Services,
		gui.Panels.Containers,
		gui.Panels.Images,
		gui.Panels.Volumes,
		gui.Panels.Networks,
	}
}

func (gui *Gui) allListPanels() []panels.ISideListPanel {
	return append(gui.allSidePanels(), gui.Panels.Menu)
}

func (gui *Gui) IsCurrentView(view *gocui.View) bool {
	return view == gui.CurrentView()
}
</file>

<file path="pkg/gui/views.go">
package gui

import (
	"os"

	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/samber/lo"
)

// See https://github.com/xtermjs/xterm.js/issues/4238
// VSCode is soon to fix this in an upcoming update.
// Once that's done, we can scrap the HIDE_UNDERSCORES variable
var (
	underscoreEnvChecked bool
	hideUnderscores      bool
)

func hideUnderScores() bool {
	if !underscoreEnvChecked {
		hideUnderscores = os.Getenv("TERM_PROGRAM") == "vscode"
		underscoreEnvChecked = true
	}

	return hideUnderscores
}

type Views struct {
	// side panels
	Project    *gocui.View
	Services   *gocui.View
	Containers *gocui.View
	Images     *gocui.View
	Volumes    *gocui.View
	Networks   *gocui.View

	// main panel
	Main *gocui.View

	// bottom line
	Options     *gocui.View
	Information *gocui.View
	AppStatus   *gocui.View
	// text that prompts you to enter text in the Filter view
	FilterPrefix *gocui.View
	// appears next to the SearchPrefix view, it's where you type in the search string
	Filter *gocui.View

	// popups
	Confirmation *gocui.View
	Menu         *gocui.View

	// will cover everything when it appears
	Limit *gocui.View
}

type viewNameMapping struct {
	viewPtr **gocui.View
	name    string
	// if true, we handle the position/size of the view in arrangement.go. Otherwise
	// we handle it manually.
	autoPosition bool
}

func (gui *Gui) orderedViewNameMappings() []viewNameMapping {
	return []viewNameMapping{
		// first layer. Ordering within this layer does not matter because there are
		// no overlapping views
		{viewPtr: &gui.Views.Project, name: "project", autoPosition: true},
		{viewPtr: &gui.Views.Services, name: "services", autoPosition: true},
		{viewPtr: &gui.Views.Containers, name: "containers", autoPosition: true},
		{viewPtr: &gui.Views.Images, name: "images", autoPosition: true},
		{viewPtr: &gui.Views.Volumes, name: "volumes", autoPosition: true},
		{viewPtr: &gui.Views.Networks, name: "networks", autoPosition: true},

		{viewPtr: &gui.Views.Main, name: "main", autoPosition: true},

		// bottom line
		{viewPtr: &gui.Views.Options, name: "options", autoPosition: true},
		{viewPtr: &gui.Views.AppStatus, name: "appStatus", autoPosition: true},
		{viewPtr: &gui.Views.Information, name: "information", autoPosition: true},
		{viewPtr: &gui.Views.Filter, name: "filter", autoPosition: true},
		{viewPtr: &gui.Views.FilterPrefix, name: "filterPrefix", autoPosition: true},

		// popups.
		{viewPtr: &gui.Views.Menu, name: "menu", autoPosition: false},
		{viewPtr: &gui.Views.Confirmation, name: "confirmation", autoPosition: false},

		// this guy will cover everything else when it appears
		{viewPtr: &gui.Views.Limit, name: "limit", autoPosition: true},
	}
}

func (gui *Gui) createAllViews() error {
	frameRunes := []rune{'â”€', 'â”‚', 'â•­', 'â•®', 'â•°', 'â•¯'}
	switch gui.Config.UserConfig.Gui.Border {
	case "single":
		frameRunes = []rune{'â”€', 'â”‚', 'â”Œ', 'â”', 'â””', 'â”˜'}
	case "double":
		frameRunes = []rune{'â•', 'â•‘', 'â•”', 'â•—', 'â•š', 'â•'}
	case "hidden":
		frameRunes = []rune{' ', ' ', ' ', ' ', ' ', ' '}
	}

	var err error
	for _, mapping := range gui.orderedViewNameMappings() {
		*mapping.viewPtr, err = gui.prepareView(mapping.name)
		if err != nil && err.Error() != UNKNOWN_VIEW_ERROR_MSG {
			return err
		}
		(*mapping.viewPtr).FrameRunes = frameRunes
		(*mapping.viewPtr).FgColor = gocui.ColorDefault
	}

	selectedLineBgColor := GetGocuiStyle(gui.Config.UserConfig.Gui.Theme.SelectedLineBgColor)

	gui.Views.Main.Wrap = gui.Config.UserConfig.Gui.WrapMainPanel
	// when you run a docker container with the -it flags (interactive mode) it adds carriage returns for some reason. This is not docker's fault, it's an os-level default.
	gui.Views.Main.IgnoreCarriageReturns = true

	gui.Views.Project.Title = gui.Tr.ProjectTitle
	gui.Views.Project.TitlePrefix = "[1]"

	gui.Views.Services.Highlight = true
	gui.Views.Services.Title = gui.Tr.ServicesTitle
	gui.Views.Services.TitlePrefix = "[2]"
	gui.Views.Services.SelBgColor = selectedLineBgColor

	gui.Views.Containers.Highlight = true
	gui.Views.Containers.SelBgColor = selectedLineBgColor
	if gui.Config.UserConfig.Gui.ShowAllContainers || !gui.DockerCommand.InDockerComposeProject {
		gui.Views.Containers.Title = gui.Tr.ContainersTitle
	} else {
		gui.Views.Containers.Title = gui.Tr.StandaloneContainersTitle
	}
	gui.Views.Containers.TitlePrefix = "[3]"

	gui.Views.Images.Highlight = true
	gui.Views.Images.Title = gui.Tr.ImagesTitle
	gui.Views.Images.SelBgColor = selectedLineBgColor
	gui.Views.Images.TitlePrefix = "[4]"

	gui.Views.Volumes.Highlight = true
	gui.Views.Volumes.Title = gui.Tr.VolumesTitle
	gui.Views.Volumes.TitlePrefix = "[5]"
	gui.Views.Volumes.SelBgColor = selectedLineBgColor

	gui.Views.Networks.Highlight = true
	gui.Views.Networks.Title = gui.Tr.NetworksTitle
	gui.Views.Networks.TitlePrefix = "[6]"
	gui.Views.Networks.SelBgColor = selectedLineBgColor

	gui.Views.Options.Frame = false
	gui.Views.Options.FgColor = gui.GetOptionsPanelTextColor()

	gui.Views.AppStatus.FgColor = gocui.ColorCyan
	gui.Views.AppStatus.Frame = false

	gui.Views.Information.Frame = false
	gui.Views.Information.FgColor = gocui.ColorGreen

	gui.Views.Confirmation.Visible = false
	gui.Views.Confirmation.Wrap = true
	gui.Views.Menu.Visible = false
	gui.Views.Menu.SelBgColor = selectedLineBgColor

	gui.Views.Limit.Visible = false
	gui.Views.Limit.Title = gui.Tr.NotEnoughSpace
	gui.Views.Limit.Wrap = true

	gui.Views.FilterPrefix.BgColor = gocui.ColorDefault
	gui.Views.FilterPrefix.FgColor = gocui.ColorGreen
	gui.Views.FilterPrefix.Frame = false

	gui.Views.Filter.BgColor = gocui.ColorDefault
	gui.Views.Filter.FgColor = gocui.ColorGreen
	gui.Views.Filter.Editable = true
	gui.Views.Filter.Frame = false
	gui.Views.Filter.Editor = gocui.EditorFunc(gui.wrapEditor(gocui.SimpleEditor))

	return nil
}

func (gui *Gui) setInitialViewContent() error {
	if err := gui.renderString(gui.g, "information", gui.getInformationContent()); err != nil {
		return err
	}

	_ = gui.setViewContent(gui.Views.FilterPrefix, gui.filterPrompt())

	return nil
}

func (gui *Gui) getInformationContent() string {
	informationStr := gui.Config.Version
	if !gui.g.Mouse {
		return informationStr
	}

	attrs := []color.Attribute{color.FgMagenta}
	if !hideUnderScores() {
		attrs = append(attrs, color.Underline)
	}

	donate := color.New(attrs...).Sprint(gui.Tr.Donate)
	return donate + " " + informationStr
}

func (gui *Gui) popupViewNames() []string {
	return []string{"confirmation", "menu"}
}

// these views have their position and size determined by arrangement.go
func (gui *Gui) autoPositionedViewNames() []string {
	views := lo.Filter(gui.orderedViewNameMappings(), func(viewNameMapping viewNameMapping, _ int) bool {
		return viewNameMapping.autoPosition
	})

	return lo.Map(views, func(viewNameMapping viewNameMapping, _ int) string {
		return viewNameMapping.name
	})
}
</file>

<file path="pkg/gui/volumes_panel.go">
package gui

import (
	"fmt"

	"github.com/fatih/color"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazydocker/pkg/commands"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/gui/panels"
	"github.com/jesseduffield/lazydocker/pkg/gui/presentation"
	"github.com/jesseduffield/lazydocker/pkg/gui/types"
	"github.com/jesseduffield/lazydocker/pkg/tasks"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/samber/lo"
)

func (gui *Gui) getVolumesPanel() *panels.SideListPanel[*commands.Volume] {
	return &panels.SideListPanel[*commands.Volume]{
		ContextState: &panels.ContextState[*commands.Volume]{
			GetMainTabs: func() []panels.MainTab[*commands.Volume] {
				return []panels.MainTab[*commands.Volume]{
					{
						Key:    "config",
						Title:  gui.Tr.ConfigTitle,
						Render: gui.renderVolumeConfig,
					},
				}
			},
			GetItemContextCacheKey: func(volume *commands.Volume) string {
				return "volumes-" + volume.Name
			},
		},
		ListPanel: panels.ListPanel[*commands.Volume]{
			List: panels.NewFilteredList[*commands.Volume](),
			View: gui.Views.Volumes,
		},
		NoItemsMessage: gui.Tr.NoVolumes,
		Gui:            gui.intoInterface(),
		// we're sorting these volumes based on whether they have labels defined,
		// because those are the ones you typically care about.
		// Within that, we also sort them alphabetically
		Sort: func(a *commands.Volume, b *commands.Volume) bool {
			if len(a.Volume.Labels) == 0 && len(b.Volume.Labels) > 0 {
				return false
			}
			if len(a.Volume.Labels) > 0 && len(b.Volume.Labels) == 0 {
				return true
			}
			return a.Name < b.Name
		},
		GetTableCells: presentation.GetVolumeDisplayStrings,
	}
}

func (gui *Gui) renderVolumeConfig(volume *commands.Volume) tasks.TaskFunc {
	return gui.NewSimpleRenderStringTask(func() string { return gui.volumeConfigStr(volume) })
}

func (gui *Gui) volumeConfigStr(volume *commands.Volume) string {
	padding := 15
	output := ""
	output += utils.WithPadding("Name: ", padding) + volume.Name + "\n"
	output += utils.WithPadding("Driver: ", padding) + volume.Volume.Driver + "\n"
	output += utils.WithPadding("Scope: ", padding) + volume.Volume.Scope + "\n"
	output += utils.WithPadding("Mountpoint: ", padding) + volume.Volume.Mountpoint + "\n"
	output += utils.WithPadding("Labels: ", padding) + utils.FormatMap(padding, volume.Volume.Labels) + "\n"
	output += utils.WithPadding("Options: ", padding) + utils.FormatMap(padding, volume.Volume.Options) + "\n"

	output += utils.WithPadding("Status: ", padding)
	if volume.Volume.Status != nil {
		output += "\n"
		for k, v := range volume.Volume.Status {
			output += utils.FormatMapItem(padding, k, v)
		}
	} else {
		output += "n/a"
	}

	if volume.Volume.UsageData != nil {
		output += utils.WithPadding("RefCount: ", padding) + fmt.Sprintf("%d", volume.Volume.UsageData.RefCount) + "\n"
		output += utils.WithPadding("Size: ", padding) + utils.FormatBinaryBytes(int(volume.Volume.UsageData.Size)) + "\n"
	}

	return output
}

func (gui *Gui) reloadVolumes() error {
	if err := gui.refreshStateVolumes(); err != nil {
		return err
	}

	return gui.Panels.Volumes.RerenderList()
}

func (gui *Gui) refreshStateVolumes() error {
	volumes, err := gui.DockerCommand.RefreshVolumes()
	if err != nil {
		return err
	}

	gui.Panels.Volumes.SetItems(volumes)

	return nil
}

func (gui *Gui) handleVolumesRemoveMenu(g *gocui.Gui, v *gocui.View) error {
	volume, err := gui.Panels.Volumes.GetSelectedItem()
	if err != nil {
		return nil
	}

	type removeVolumeOption struct {
		description string
		command     string
		force       bool
	}

	options := []*removeVolumeOption{
		{
			description: gui.Tr.Remove,
			command:     utils.WithShortSha("docker volume rm " + volume.Name),
			force:       false,
		},
		{
			description: gui.Tr.ForceRemove,
			command:     utils.WithShortSha("docker volume rm --force " + volume.Name),
			force:       true,
		},
	}

	menuItems := lo.Map(options, func(option *removeVolumeOption, _ int) *types.MenuItem {
		return &types.MenuItem{
			LabelColumns: []string{option.description, color.New(color.FgRed).Sprint(option.command)},
			OnPress: func() error {
				return gui.WithWaitingStatus(gui.Tr.RemovingStatus, func() error {
					if err := volume.Remove(option.force); err != nil {
						return gui.createErrorPanel(err.Error())
					}
					return nil
				})
			},
		}
	})

	return gui.Menu(CreateMenuOptions{
		Title: "",
		Items: menuItems,
	})
}

func (gui *Gui) handlePruneVolumes() error {
	return gui.createConfirmationPanel(gui.Tr.Confirm, gui.Tr.ConfirmPruneVolumes, func(g *gocui.Gui, v *gocui.View) error {
		return gui.WithWaitingStatus(gui.Tr.PruningStatus, func() error {
			err := gui.DockerCommand.PruneVolumes()
			if err != nil {
				return gui.createErrorPanel(err.Error())
			}
			return nil
		})
	}, nil)
}

func (gui *Gui) handleVolumesCustomCommand(g *gocui.Gui, v *gocui.View) error {
	volume, err := gui.Panels.Volumes.GetSelectedItem()
	if err != nil {
		return nil
	}

	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{
		Volume: volume,
	})

	customCommands := gui.Config.UserConfig.CustomCommands.Volumes

	return gui.createCustomCommandMenu(customCommands, commandObject)
}

func (gui *Gui) handleVolumesBulkCommand(g *gocui.Gui, v *gocui.View) error {
	baseBulkCommands := []config.CustomCommand{
		{
			Name:             gui.Tr.PruneVolumes,
			InternalFunction: gui.handlePruneVolumes,
		},
	}

	bulkCommands := append(baseBulkCommands, gui.Config.UserConfig.BulkCommands.Volumes...)
	commandObject := gui.DockerCommand.NewCommandObject(commands.CommandObject{})

	return gui.createBulkCommandMenu(bulkCommands, commandObject)
}
</file>

<file path="pkg/gui/window.go">
package gui

// func (gui *Gui) currentWindow() string {
// 	// at the moment, we only have one view per window in lazydocker, so we
// 	// are using the view name as the window name
// 	return gui.currentViewName()
// }

// excludes popups
func (gui *Gui) currentStaticWindowName() string {
	return gui.currentStaticViewName()
}

func (gui *Gui) currentSideWindowName() string {
	return gui.currentSideViewName()
}
</file>

<file path="pkg/i18n/chinese.go">
package i18n

func chineseSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "ä¿®å‰ªä¸­",
		RemovingStatus:             "ç§»é™¤ä¸­",
		RestartingStatus:           "é‡å¯ä¸­",
		StartingStatus:             "å¯åŠ¨ä¸­",
		StoppingStatus:             "åœæ­¢ä¸­",
		UppingServiceStatus:        "å‡çº§æœåŠ¡ä¸­",
		UppingProjectStatus:        "å‡çº§é¡¹ç›®ä¸­",
		DowningStatus:              "ä¸‹æ¶ä¸­",
		PausingStatus:              "æš‚åœä¸­",
		RunningCustomCommandStatus: "æ­£åœ¨è¿è¡Œè‡ªå®šä¹‰å‘½ä»¤",
		RunningBulkCommandStatus:   "æ­£åœ¨è¿è¡Œæ‰¹é‡å‘½ä»¤",

		NoViewMachingNewLineFocusedSwitchStatement: "æ²¡æœ‰åŒ¹é… newLineFocused switch è¯­å¥çš„è§†å›¾",

		ErrorOccurred:                     "å‘ç”Ÿé”™è¯¯ï¼è¯·åœ¨ https://github.com/jesseduffield/lazydocker/issues ä¸Šåˆ›å»ºä¸€ä¸ªé—®é¢˜",
		ConnectionFailed:                  "æ— æ³•è¿æ¥åˆ° Docker å®¢æˆ·ç«¯ã€‚æ‚¨å¯èƒ½éœ€è¦é‡æ–°å¯åŠ¨ Docker å®¢æˆ·ç«¯",
		UnattachableContainerError:        "å®¹å™¨ä¸æ”¯æŒ attachingã€‚æ‚¨å¿…é¡»ä½¿ç”¨â€œ-itâ€æ ‡å¿—è¿è¡ŒæœåŠ¡ï¼Œæˆ–è€…åœ¨docker-compose.ymlæ–‡ä»¶ä¸­ä½¿ç”¨`stdin_open: trueï¼Œtty: true`",
		WaitingForContainerInfo:           "åœ¨ Docker ç»™æˆ‘ä»¬æ›´å¤šå…³äºå®¹å™¨çš„ä¿¡æ¯ä¹‹å‰ï¼Œæ— æ³•ç»§ç»­ã€‚è¯·å‡ åˆ†é’Ÿåé‡è¯•ã€‚",
		CannotAttachStoppedContainerError: "æ‚¨ä¸èƒ½ attach åˆ°å·²åœæ­¢çš„å®¹å™¨ï¼Œæ‚¨éœ€è¦å…ˆå¯åŠ¨å®ƒï¼ˆæ‚¨å¯ä»¥ç”¨ 'r' é”®æ¥æ‰§è¡Œæ­¤æ“ä½œï¼‰ï¼ˆæ˜¯çš„ï¼Œæˆ‘æ‡’å¾—ä¸ºæ‚¨è‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œï¼‰ï¼ˆå¾ˆé…·çš„æ˜¯ï¼Œæˆ‘å¯ä»¥é€šè¿‡é”™è¯¯æ¶ˆæ¯ä¸æ‚¨è¿›è¡Œä¸€å¯¹ä¸€çš„é€šè®¯ï¼‰",
		CannotAccessDockerSocketError:     "æ— æ³•è®¿é—® Docker å¥—æ¥å­—ï¼šunix:///var/run/docker.sock\nè¯·ä»¥ root ç”¨æˆ·èº«ä»½è¿è¡Œ lazydocker æˆ–é˜…è¯»https://docs.docker.com/install/linux/linux-postinstall/",
		CannotKillChildError:              "ç­‰å¾…ä¸‰ç§’é’Ÿä»¥åœæ­¢å­è¿›ç¨‹ã€‚å¯èƒ½æœ‰ä¸€ä¸ªå­¤å„¿è¿›ç¨‹åœ¨æ‚¨çš„ç³»ç»Ÿä¸Šç»§ç»­è¿è¡Œã€‚",

		Donate:  "æèµ ",
		Confirm: "ç¡®è®¤",

		Return:            "è¿”å›",
		FocusMain:         "èšç„¦ä¸»é¢æ¿",
		LcFilter:          "è¿‡æ»¤åˆ—è¡¨",
		Navigate:          "å¯¼èˆª",
		Execute:           "æ‰§è¡Œ",
		Close:             "å…³é—­",
		Quit:              "é€€å‡º",
		Menu:              "èœå•",
		MenuTitle:         "èœå•",
		Scroll:            "æ»šåŠ¨",
		OpenConfig:        "æ‰“å¼€lazydockeré…ç½®",
		EditConfig:        "ç¼–è¾‘lazydockeré…ç½®",
		Cancel:            "å–æ¶ˆ",
		Remove:            "ç§»é™¤",
		HideStopped:       "éšè—/æ˜¾ç¤ºå·²åœæ­¢çš„å®¹å™¨",
		ForceRemove:       "å¼ºåˆ¶ç§»é™¤",
		RemoveWithVolumes: "ç§»é™¤å¹¶åˆ é™¤å·",
		RemoveService:     "ç§»é™¤å®¹å™¨",
		UpService:         "å¯åŠ¨æœåŠ¡",
		Stop:              "åœæ­¢",
		Pause:             "æš‚åœ",
		Restart:           "é‡æ–°å¯åŠ¨",
		Down:              "å…³é—­é¡¹ç›®",
		DownWithVolumes:   "å…³é—­åŒ…æ‹¬å·çš„é¡¹ç›®",
		Start:             "å¯åŠ¨é¡¹ç›®",
		Rebuild:           "é‡å»º",
		Recreate:          "é‡æ–°åˆ›å»º",
		PreviousContext:   "ä¸Šä¸€ä¸ªé€‰é¡¹å¡",
		NextContext:       "ä¸‹ä¸€ä¸ªé€‰é¡¹å¡",
		// Attach: "è¿æ¥/é™„åŠ ",
		ViewLogs:                    "æŸ¥çœ‹æ—¥å¿—",
		UpProject:                   "åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨",
		DownProject:                 "åœæ­¢å¹¶ç§»é™¤å®¹å™¨",
		RemoveImage:                 "ç§»é™¤é•œåƒ",
		RemoveVolume:                "ç§»é™¤å·",
		RemoveNetwork:               "ç§»é™¤ç½‘ç»œ",
		RemoveWithoutPrune:          "ç§»é™¤ä½†ä¸åˆ é™¤æœªæ ‡è®°çš„çˆ¶çº§",
		RemoveWithoutPruneWithForce: "ç§»é™¤(å¼ºåˆ¶)ä½†ä¸åˆ é™¤æœªæ ‡è®°çš„çˆ¶çº§",
		RemoveWithForce:             "ç§»é™¤(å¼ºåˆ¶)",
		PruneContainers:             "åˆ é™¤é€€å‡ºçš„å®¹å™¨",
		PruneVolumes:                "åˆ é™¤æœªä½¿ç”¨çš„å·",
		PruneNetworks:               "åˆ é™¤æœªä½¿ç”¨çš„ç½‘ç»œ",
		PruneImages:                 "åˆ é™¤æœªä½¿ç”¨çš„é•œåƒ",
		StopAllContainers:           "åœæ­¢æ‰€æœ‰å®¹å™¨",
		RemoveAllContainers:         "åˆ é™¤æ‰€æœ‰å®¹å™¨(å¼ºåˆ¶)",
		ViewRestartOptions:          "æŸ¥çœ‹é‡å¯é€‰é¡¹",
		ExecShell:                   "æ‰§è¡Œshell",
		RunCustomCommand:            "è¿è¡Œé¢„å®šä¹‰çš„è‡ªå®šä¹‰å‘½ä»¤",
		ViewBulkCommands:            "æŸ¥çœ‹æ‰¹é‡å‘½ä»¤",
		FilterList:                  "è¿‡æ»¤åˆ—è¡¨",
		OpenInBrowser:               "åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€(ç¬¬ä¸€ä¸ªç«¯å£ä¸ºhttp)",
		SortContainersByState:       "æŒ‰çŠ¶æ€æ’åºå®¹å™¨",

		GlobalTitle:               "å…¨å±€",
		MainTitle:                 "ä¸»è¦",
		ProjectTitle:              "é¡¹ç›®",
		ServicesTitle:             "æœåŠ¡",
		ContainersTitle:           "å®¹å™¨",
		StandaloneContainersTitle: "ç‹¬ç«‹å®¹å™¨",
		ImagesTitle:               "é•œåƒ",
		VolumesTitle:              "å·",
		NetworksTitle:             "ç½‘ç»œ",
		CustomCommandTitle:        "è‡ªå®šä¹‰å‘½ä»¤ï¼š",
		BulkCommandTitle:          "æ‰¹é‡å‘½ä»¤ï¼š",
		ErrorTitle:                "é”™è¯¯",
		LogsTitle:                 "æ—¥å¿—",
		ConfigTitle:               "é…ç½®",
		EnvTitle:                  "ç¯å¢ƒå˜é‡",
		DockerComposeConfigTitle:  "Docker-Composeé…ç½®",
		TopTitle:                  "ç³»ç»Ÿèµ„æºç®¡ç†",
		StatsTitle:                "ç»Ÿè®¡ä¿¡æ¯",
		CreditsTitle:              "å…³äºæˆ‘ä»¬",
		ContainerConfigTitle:      "å®¹å™¨é…ç½®",
		ContainerEnvTitle:         "å®¹å™¨ç¯å¢ƒå˜é‡",
		NothingToDisplay:          "æ— å†…å®¹æ˜¾ç¤º",
		NoContainerForService:     "æ²¡æœ‰æ—¥å¿—å¯ä»¥å±•ç¤ºï¼›è¯¥æœåŠ¡æœªå…³è”ä»»ä½•å®¹å™¨",
		CannotDisplayEnvVariables: "å±•ç¤ºç¯å¢ƒå˜é‡æ—¶å‡ºç°é—®é¢˜",

		NoContainers: "æ²¡æœ‰å®¹å™¨",
		NoContainer:  "æ²¡æœ‰å®¹å™¨",
		NoImages:     "æ²¡æœ‰é•œåƒ",
		NoVolumes:    "æ²¡æœ‰å·",
		NoNetworks:   "æ²¡æœ‰ç½‘ç»œ",
		NoServices:   "æ²¡æœ‰æœåŠ¡",

		ConfirmQuit:                "æ‚¨ç¡®å®šè¦é€€å‡ºå—ï¼Ÿ",
		ConfirmUpProject:           "æ‚¨ç¡®å®šè¦â€œupâ€çš„docker composeé¡¹ç›®å—ï¼Ÿ",
		MustForceToRemoveContainer: "æ‚¨æ— æ³•åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œé™¤éæ‚¨å¼ºåˆ¶æ‰§è¡Œã€‚æ‚¨æƒ³å¼ºåˆ¶æ‰§è¡Œå—ï¼Ÿ",
		NotEnoughSpace:             "ç©ºé—´ä¸è¶³ï¼Œæ— æ³•æ¸²æŸ“é¢æ¿",
		ConfirmPruneImages:         "æ‚¨ç¡®å®šè¦åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒå—ï¼Ÿ",
		ConfirmPruneContainers:     "æ‚¨ç¡®å®šè¦åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨å—ï¼Ÿ",
		ConfirmStopContainers:      "æ‚¨ç¡®å®šè¦åœæ­¢æ‰€æœ‰å®¹å™¨å—ï¼Ÿ",
		ConfirmRemoveContainers:    "æ‚¨ç¡®å®šè¦åˆ é™¤æ‰€æœ‰å®¹å™¨å—ï¼Ÿ",
		ConfirmPruneVolumes:        "æ‚¨ç¡®å®šè¦åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„å·å—ï¼Ÿ",
		ConfirmPruneNetworks:       "æ‚¨ç¡®å®šè¦åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„ç½‘ç»œå—ï¼Ÿ",
		StopService:                "æ‚¨ç¡®å®šè¦åœæ­¢æ­¤æœåŠ¡çš„å®¹å™¨å—ï¼Ÿ",
		StopContainer:              "æ‚¨ç¡®å®šè¦åœæ­¢æ­¤å®¹å™¨å—ï¼Ÿ",
		PressEnterToReturn:         "æŒ‰ enter è¿”å› lazydockerï¼ˆæ‚¨å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® `gui.returnImmediately: true` æ¥ç¦ç”¨æ­¤æç¤ºï¼‰",

		No:  "å¦",
		Yes: "æ˜¯",

		LcNextScreenMode: "ä¸‹ä¸€ä¸ªå±å¹•æ¨¡å¼ï¼ˆæ­£å¸¸/åŠå±/å…¨å±ï¼‰",
		LcPrevScreenMode: "ä¸Šä¸€ä¸ªå±å¹•æ¨¡å¼",
		FilterPrompt:     "ç­›é€‰",
	}
}
</file>

<file path="pkg/i18n/dutch.go">
package i18n

func dutchSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "vernietigen",
		RemovingStatus:             "verwijderen",
		RestartingStatus:           "herstarten",
		StoppingStatus:             "stoppen",
		RunningCustomCommandStatus: "Aangepast commando draaien",

		NoViewMachingNewLineFocusedSwitchStatement: "No view matching newLineFocused switch statement",

		ErrorOccurred:                     "Er is iets fout gegaan! Zou je hier een issue aan willen maken: https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:                  "connectie naar de docker client mislukt. Het zou kunnen dat je de docker client moet herstarten",
		UnattachableContainerError:        "Container heeft geen ondersteuning voor vastmaken. Je zou de service met het '-it' argument kunnen draaien of stop dit in je `stdin_open: true, tty: true` docker-compose.yml",
		CannotAttachStoppedContainerError: "Je kan niet een vastgemaakte container stoppen, je moet het eerst starten (dit kan je doen met de 'r' toets) (ja ik ben te leu om dat voor je te doen automatisch)",
		CannotAccessDockerSocketError:     "Kan de docker socket niet bereiken: unix:///var/run/docker.sock\nDraai lazydocker als root of lees https://docs.docker.com/install/linux/linux-postinstall/",

		Donate:  "Doneer",
		Confirm: "Bevestigen",

		Return:             "terug",
		FocusMain:          "focus hoofdpaneel",
		Navigate:           "navigeer",
		Execute:            "voer uit",
		Close:              "sluit",
		Menu:               "menu",
		MenuTitle:          "Menu",
		Scroll:             "scroll",
		OpenConfig:         "open de lazydocker configuratie",
		EditConfig:         "verander de lazydocker configuratie",
		Cancel:             "annuleren",
		Remove:             "verwijder",
		HideStopped:        "verberg gestopte containers",
		ForceRemove:        "geforceerd verwijderen",
		RemoveWithVolumes:  "verwijder met volumes",
		RemoveService:      "verwijder containers",
		Stop:               "stop",
		Restart:            "herstart",
		Rebuild:            "herbouw",
		Recreate:           "hercreÃ«er",
		PreviousContext:    "vorige tab",
		NextContext:        "volgende tab",
		Attach:             "verbinden",
		ViewLogs:           "bekijk logs",
		RemoveImage:        "verwijder image",
		RemoveVolume:       "verwijder volume",
		RemoveNetwork:      "verwijder network",
		RemoveWithoutPrune: "verwijder zonder de ongelabeld ouders te verwijderen",
		PruneContainers:    "vernietig bestaande containers",
		PruneVolumes:       "vernietig ongebruikte volumes",
		PruneNetworks:      "vernietig ongebruikte networks",
		PruneImages:        "vernietig ongebruikte images",
		ViewRestartOptions: "bekijk herstart opties",
		RunCustomCommand:   "draai een vooraf bedacht aangepaste opdracht",

		GlobalTitle:               "Globaal",
		MainTitle:                 "Hoofd",
		ProjectTitle:              "Project",
		ServicesTitle:             "Diensten",
		ContainersTitle:           "Containers",
		StandaloneContainersTitle: "Alleenstaande Containers",
		ImagesTitle:               "Images",
		VolumesTitle:              "Volumes",
		NetworksTitle:             "Networks",
		CustomCommandTitle:        "Aangepast commando:",
		ErrorTitle:                "Fout",
		LogsTitle:                 "Logs",
		ConfigTitle:               "Config",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Docker-Compose Configuratie",
		TopTitle:                  "Top",
		StatsTitle:                "Stats",
		CreditsTitle:              "Over",
		ContainerConfigTitle:      "Container Configuratie",
		ContainerEnvTitle:         "Container Env",
		NothingToDisplay:          "Nothing to display",
		CannotDisplayEnvVariables: "Something went wrong while displaying environment variables",

		NoContainers: "Geen containers",
		NoContainer:  "Geen container",
		NoImages:     "Geen images",
		NoVolumes:    "Geen volumes",
		NoNetworks:   "Geen networks",

		ConfirmQuit:                 "Weet je zeker dat je weg wil gaan?",
		MustForceToRemoveContainer:  "Je kan geen draaiende container verwijderen tenzij je het forceert, Wil je het forceren?",
		NotEnoughSpace:              "Niet genoeg ruimte om de panelen te renderen",
		ConfirmPruneImages:          "Weet je zeker dat je alle niet gebruikte images wil vernietigen?",
		ConfirmPruneContainers:      "Weet je zeker dat je alle niet gestopte containers wil vernietigen?",
		ConfirmPruneVolumes:         "Weet je zeker dat je alle niet gebruikte volumes wil vernietigen?",
		ConfirmPruneNetworks:        "Weet je zeker dat je alle niet gebruikte networks wil vernietigen?",
		StopService:                 "Weet je zeker dat je deze service zijn containers wil stoppen?",
		StopContainer:               "Weet je zeker dat je deze container wil stoppen?",
		PressEnterToReturn:          "Druk op enter om terug te gaan naar lazydocker (Deze popup kan uit gezet worden door in de config dit neer te zetten `gui.returnImmediately: true`)",
		DetachFromContainerShortCut: "Als u wilt loskoppelen van de container, drukt u standaard op ctrl-p en vervolgens op ctrl-q",
	}
}
</file>

<file path="pkg/i18n/english.go">
package i18n

// TranslationSet is a set of localised strings for a given language
type TranslationSet struct {
	NotEnoughSpace                             string
	ProjectTitle                               string
	MainTitle                                  string
	GlobalTitle                                string
	Navigate                                   string
	Menu                                       string
	MenuTitle                                  string
	Execute                                    string
	Scroll                                     string
	Close                                      string
	Quit                                       string
	ErrorTitle                                 string
	NoViewMachingNewLineFocusedSwitchStatement string
	OpenConfig                                 string
	EditConfig                                 string
	ConfirmQuit                                string
	ConfirmUpProject                           string
	ErrorOccurred                              string
	ConnectionFailed                           string
	UnattachableContainerError                 string
	WaitingForContainerInfo                    string
	CannotAttachStoppedContainerError          string
	CannotAccessDockerSocketError              string
	CannotKillChildError                       string

	Donate                      string
	Cancel                      string
	CustomCommandTitle          string
	BulkCommandTitle            string
	Remove                      string
	HideStopped                 string
	ForceRemove                 string
	RemoveWithVolumes           string
	MustForceToRemoveContainer  string
	Confirm                     string
	Return                      string
	FocusMain                   string
	LcFilter                    string
	StopContainer               string
	RestartingStatus            string
	StartingStatus              string
	StoppingStatus              string
	UppingProjectStatus         string
	UppingServiceStatus         string
	PausingStatus               string
	RemovingStatus              string
	DowningStatus               string
	RunningCustomCommandStatus  string
	RunningBulkCommandStatus    string
	RemoveService               string
	UpService                   string
	Stop                        string
	Pause                       string
	Restart                     string
	Down                        string
	DownWithVolumes             string
	Start                       string
	Rebuild                     string
	Recreate                    string
	PreviousContext             string
	NextContext                 string
	Attach                      string
	ViewLogs                    string
	UpProject                   string
	DownProject                 string
	ServicesTitle               string
	ContainersTitle             string
	StandaloneContainersTitle   string
	TopTitle                    string
	ImagesTitle                 string
	VolumesTitle                string
	NetworksTitle               string
	NoContainers                string
	NoContainer                 string
	NoImages                    string
	NoVolumes                   string
	NoNetworks                  string
	NoServices                  string
	RemoveImage                 string
	RemoveVolume                string
	RemoveNetwork               string
	RemoveWithoutPrune          string
	RemoveWithoutPruneWithForce string
	RemoveWithForce             string
	PruneImages                 string
	PruneContainers             string
	PruneVolumes                string
	PruneNetworks               string
	ConfirmPruneContainers      string
	ConfirmStopContainers       string
	ConfirmRemoveContainers     string
	ConfirmPruneImages          string
	ConfirmPruneVolumes         string
	ConfirmPruneNetworks        string
	PruningStatus               string
	StopService                 string
	PressEnterToReturn          string
	DetachFromContainerShortCut string
	StopAllContainers           string
	RemoveAllContainers         string
	ViewRestartOptions          string
	ExecShell                   string
	RunCustomCommand            string
	ViewBulkCommands            string
	FilterList                  string
	OpenInBrowser               string
	SortContainersByState       string

	LogsTitle                 string
	ConfigTitle               string
	EnvTitle                  string
	DockerComposeConfigTitle  string
	StatsTitle                string
	CreditsTitle              string
	ContainerConfigTitle      string
	ContainerEnvTitle         string
	NothingToDisplay          string
	NoContainerForService     string
	CannotDisplayEnvVariables string

	No  string
	Yes string

	LcNextScreenMode string
	LcPrevScreenMode string
	FilterPrompt     string

	FocusProjects   string
	FocusServices   string
	FocusContainers string
	FocusImages     string
	FocusVolumes    string
	FocusNetworks   string
}

func englishSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "pruning",
		RemovingStatus:             "removing",
		RestartingStatus:           "restarting",
		StartingStatus:             "starting",
		StoppingStatus:             "stopping",
		UppingServiceStatus:        "upping service",
		UppingProjectStatus:        "upping project",
		DowningStatus:              "downing",
		PausingStatus:              "pausing",
		RunningCustomCommandStatus: "running custom command",
		RunningBulkCommandStatus:   "running bulk command",

		NoViewMachingNewLineFocusedSwitchStatement: "No view matching newLineFocused switch statement",

		ErrorOccurred:                     "An error occurred! Please create an issue at https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:                  "connection to docker client failed. You may need to restart the docker client",
		UnattachableContainerError:        "Container does not support attaching. You must either run the service with the '-it' flag or use `stdin_open: true, tty: true` in the docker-compose.yml file",
		WaitingForContainerInfo:           "Cannot proceed until docker gives us more information about the container. Please retry in a few moments.",
		CannotAttachStoppedContainerError: "You cannot attach to a stopped container, you need to start it first (which you can actually do with the 'r' key) (yes I'm too lazy to do this automatically for you) (pretty cool that I get to communicate one-on-one with you in the form of an error message though)",
		CannotAccessDockerSocketError:     "Can't access docker socket at: unix:///var/run/docker.sock\nRun lazydocker as root or read https://docs.docker.com/install/linux/linux-postinstall/",
		CannotKillChildError:              "Waited three seconds for child process to stop. There may be an orphan process that continues to run on your system.",

		Donate:  "Donate",
		Confirm: "Confirm",

		Return:                      "return",
		FocusMain:                   "focus main panel",
		LcFilter:                    "filter list",
		Navigate:                    "navigate",
		Execute:                     "execute",
		Close:                       "close",
		Quit:                        "quit",
		Menu:                        "menu",
		MenuTitle:                   "Menu",
		Scroll:                      "scroll",
		OpenConfig:                  "open lazydocker config",
		EditConfig:                  "edit lazydocker config",
		Cancel:                      "cancel",
		Remove:                      "remove",
		HideStopped:                 "hide/show stopped containers",
		ForceRemove:                 "force remove",
		RemoveWithVolumes:           "remove with volumes",
		RemoveService:               "remove containers",
		UpService:                   "up service",
		Stop:                        "stop",
		Pause:                       "pause",
		Restart:                     "restart",
		Down:                        "down project",
		DownWithVolumes:             "down project with volumes",
		Start:                       "start",
		Rebuild:                     "rebuild",
		Recreate:                    "recreate",
		PreviousContext:             "previous tab",
		NextContext:                 "next tab",
		Attach:                      "attach",
		ViewLogs:                    "view logs",
		UpProject:                   "up project",
		DownProject:                 "down project",
		RemoveImage:                 "remove image",
		RemoveVolume:                "remove volume",
		RemoveNetwork:               "remove network",
		RemoveWithoutPrune:          "remove without deleting untagged parents",
		RemoveWithoutPruneWithForce: "remove (forced) without deleting untagged parents",
		RemoveWithForce:             "remove (forced)",
		PruneContainers:             "prune exited containers",
		PruneVolumes:                "prune unused volumes",
		PruneNetworks:               "prune unused networks",
		PruneImages:                 "prune unused images",
		StopAllContainers:           "stop all containers",
		RemoveAllContainers:         "remove all containers (forced)",
		ViewRestartOptions:          "view restart options",
		ExecShell:                   "exec shell",
		RunCustomCommand:            "run predefined custom command",
		ViewBulkCommands:            "view bulk commands",
		FilterList:                  "filter list",
		OpenInBrowser:               "open in browser (first port is http)",
		SortContainersByState:       "sort containers by state",

		GlobalTitle:               "Global",
		MainTitle:                 "Main",
		ProjectTitle:              "Project",
		ServicesTitle:             "Services",
		ContainersTitle:           "Containers",
		StandaloneContainersTitle: "Standalone Containers",
		ImagesTitle:               "Images",
		VolumesTitle:              "Volumes",
		NetworksTitle:             "Networks",
		CustomCommandTitle:        "Custom Command:",
		BulkCommandTitle:          "Bulk Command:",
		ErrorTitle:                "Error",
		LogsTitle:                 "Logs",
		ConfigTitle:               "Config",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Docker-Compose Config",
		TopTitle:                  "Top",
		StatsTitle:                "Stats",
		CreditsTitle:              "About",
		ContainerConfigTitle:      "Container Config",
		ContainerEnvTitle:         "Container Env",
		NothingToDisplay:          "Nothing to display",
		NoContainerForService:     "No logs to show; service is not associated with a container",
		CannotDisplayEnvVariables: "Something went wrong while displaying environment variables",

		NoContainers: "No containers",
		NoContainer:  "No container",
		NoImages:     "No images",
		NoVolumes:    "No volumes",
		NoNetworks:   "No networks",
		NoServices:   "No services",

		ConfirmQuit:                 "Are you sure you want to quit?",
		ConfirmUpProject:            "Are you sure you want to 'up' your docker compose project?",
		MustForceToRemoveContainer:  "You cannot remove a running container unless you force it. Do you want to force it?",
		NotEnoughSpace:              "Not enough space to render panels",
		ConfirmPruneImages:          "Are you sure you want to prune all unused images?",
		ConfirmPruneContainers:      "Are you sure you want to prune all stopped containers?",
		ConfirmStopContainers:       "Are you sure you want to stop all containers?",
		ConfirmRemoveContainers:     "Are you sure you want to remove all containers?",
		ConfirmPruneVolumes:         "Are you sure you want to prune all unused volumes?",
		ConfirmPruneNetworks:        "Are you sure you want to prune all unused networks?",
		StopService:                 "Are you sure you want to stop this service's containers?",
		StopContainer:               "Are you sure you want to stop this container?",
		PressEnterToReturn:          "Press enter to return to lazydocker (this prompt can be disabled in your config by setting `gui.returnImmediately: true`)",
		DetachFromContainerShortCut: "By default, to detach from the container press ctrl-p then ctrl-q",

		No:  "no",
		Yes: "yes",

		LcNextScreenMode: "next screen mode (normal/half/fullscreen)",
		LcPrevScreenMode: "prev screen mode",
		FilterPrompt:     "filter",

		FocusProjects:   "focus projects panel",
		FocusServices:   "focus services panel",
		FocusContainers: "focus containers panel",
		FocusImages:     "focus images panel",
		FocusVolumes:    "focus volumes panel",
		FocusNetworks:   "focus networks panel",
	}
}
</file>

<file path="pkg/i18n/french.go">
package i18n

func frenchSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "destruction",
		RemovingStatus:             "suppression",
		RestartingStatus:           "redÃ©marrage",
		StartingStatus:             "dÃ©marrage",
		StoppingStatus:             "arrÃªt",
		PausingStatus:              "mise en pause",
		RunningCustomCommandStatus: "exÃ©cution de la commande personalisÃ©e",
		RunningBulkCommandStatus:   "exÃ©cution de la commande groupÃ©e",

		NoViewMachingNewLineFocusedSwitchStatement: "Aucune vue correspondant au switch newLineFocused",

		ErrorOccurred:              "Une erreur s'est produite ! Veuillez crÃ©er un rapport d'erreur sur https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:           "Erreur lors de la connexion au client Docker. Essayez de redÃ©marrer votre client Docker",
		UnattachableContainerError: "Le conteneur ne peut pas Ãªtre attachÃ©. Vous devez exÃ©cuter le service avec le drapeau 'it' ou bien utiliser `stdin_open: true, tty: true` dans votre fichier docker-compose.yml",
		WaitingForContainerInfo:    "Le processus ne peut pas continuer avant que Docker ne fournisse plus d'informations. Veuillez rÃ©essayer dans quelques instants.",

		CannotAttachStoppedContainerError: "Vous ne pouvez pas vous attacher Ã  un conteneur arrÃªtÃ©, vous devez le dÃ©marrer en amont (ce que vous pouvez faire avec la touche 'r') (oui, je suis trop paresseux pour le faire automatiquement pour vous) (plutÃ´t cool que je puisse communiquer en tÃªte-Ã -tÃªte avec vous au travers d'un message d'erreur, cependant)",
		CannotAccessDockerSocketError:     "Impossible d'accÃ©der au socket Docker Ã  : unix:///var/run/docker.sock\nLancez lazydocker en tant que root ou alors lisez https://docs.docker.com/install/linux/linux-postinstall/",
		CannotKillChildError:              "Trois secondes se sont Ã©coulÃ©es depuis la demande d'arrÃªt des processus enfants. Il se peut qu'un processus orphelin continue Ã  tourner sur votre systÃ¨me.",

		Donate:  "Donner",
		Confirm: "Confirmer",

		Return:                      "retour",
		FocusMain:                   "focus panneau principal",
		Navigate:                    "naviguer",
		Execute:                     "exÃ©cuter",
		Close:                       "fermer",
		Menu:                        "menu",
		MenuTitle:                   "Menu",
		Scroll:                      "faire dÃ©filer",
		OpenConfig:                  "ouvrir la configuration lazydocker",
		EditConfig:                  "modifier la configuration lazydocker",
		Cancel:                      "annuler",
		Remove:                      "supprimer",
		HideStopped:                 "cacher/montrer les conteneurs arrÃªtÃ©s",
		ForceRemove:                 "forcer la suppression",
		RemoveWithVolumes:           "supprimer avec les volumes",
		RemoveService:               "supprimer les conteneurs",
		Stop:                        "arrÃªter",
		Pause:                       "pause",
		Restart:                     "redÃ©marrer",
		Start:                       "dÃ©marrer",
		Rebuild:                     "reconstruire",
		Recreate:                    "recrÃ©er",
		PreviousContext:             "onglet prÃ©cÃ©dent",
		NextContext:                 "onglet suivant",
		Attach:                      "attacher",
		ViewLogs:                    "voir les enregistrements",
		RemoveImage:                 "supprimer l'image",
		RemoveVolume:                "supprimer le volume",
		RemoveNetwork:               "supprimer le rÃ©seau",
		RemoveWithoutPrune:          "supprimer sans effacer les parents non Ã©tiquetÃ©s",
		RemoveWithoutPruneWithForce: "supprimer (forcer) sans effacer les parents non Ã©tiquetÃ©s",
		RemoveWithForce:             "supprimer (forcer)",
		PruneContainers:             "dÃ©truire les conteneurs arrÃªtÃ©s",
		PruneVolumes:                "dÃ©truire les volumes non utilisÃ©s",
		PruneNetworks:               "dÃ©truire les rÃ©seaux non utilisÃ©s",
		PruneImages:                 "dÃ©truire les images non utilisÃ©es",
		StopAllContainers:           "arrÃªter tous les conteneurs",
		RemoveAllContainers:         "supprimer tous les conteneurs (forcer)",
		ViewRestartOptions:          "voir les options de redÃ©marrage",
		ExecShell:                   "exÃ©cuter le shell",
		RunCustomCommand:            "exÃ©cuter une commande prÃ©dÃ©finie",
		ViewBulkCommands:            "voir les commandes groupÃ©es",
		OpenInBrowser:               "ouvrir dans le navigateur (le premier port est http)",
		SortContainersByState:       "ordonner les conteneurs par Ã©tat",

		GlobalTitle:               "Global",
		MainTitle:                 "Principal",
		ProjectTitle:              "Projet",
		ServicesTitle:             "Services",
		ContainersTitle:           "Conteneurs",
		StandaloneContainersTitle: "Conteneurs autonomes",
		ImagesTitle:               "Images",
		VolumesTitle:              "Volumes",
		NetworksTitle:             "RÃ©seaux",
		CustomCommandTitle:        "Commande personnalisÃ©e :",
		BulkCommandTitle:          "Commande groupÃ©e :",
		ErrorTitle:                "Erreur",
		LogsTitle:                 "Journaux",
		ConfigTitle:               "Config",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Config Docker-Compose",
		TopTitle:                  "Top",
		StatsTitle:                "Statistiques",
		CreditsTitle:              "Ã€ propos",
		ContainerConfigTitle:      "Config Conteneur",
		ContainerEnvTitle:         "Env Conteneur",
		NothingToDisplay:          "Rien Ã  afficher",
		CannotDisplayEnvVariables: "Quelque chose a Ã©chouÃ© lors de l'affichage des variables d'environnement",

		NoContainers: "Aucun conteneur",
		NoContainer:  "Aucun conteneur",
		NoImages:     "Aucune image",
		NoVolumes:    "Aucun volume",
		NoNetworks:   "Aucun rÃ©seau",

		ConfirmQuit:                 "ÃŠtes-vous certain de vouloir quitter ?",
		MustForceToRemoveContainer:  "Vous ne pouvez pas supprimer un conteneur qui tourne sans le forcer. Voulez-vous le forcer ?",
		NotEnoughSpace:              "Manque d'espace pour afficher les diffÃ©rent panneaux",
		ConfirmPruneImages:          "ÃŠtes-vous certain de vouloir dÃ©truire toutes les images non utilisÃ©es ?",
		ConfirmPruneContainers:      "ÃŠtes-vous certain de vouloir dÃ©truire tous les conteneurs arrÃªtÃ©s ?",
		ConfirmStopContainers:       "ÃŠtes-vous certain de vouloir arrÃªter tous les conteneurs ?",
		ConfirmRemoveContainers:     "ÃŠtes-vous certain de vouloir supprimer tous les conteneurs ?",
		ConfirmPruneVolumes:         "ÃŠtes-vous certain de vouloir dÃ©truire tous les volumes non utilisÃ©s ?",
		ConfirmPruneNetworks:        "ÃŠtes-vous certain de vouloir dÃ©truire tous les rÃ©seaux non utilisÃ©s ?",
		StopService:                 "ÃŠtes-vous certain de vouloir arrÃªter le conteneur de ce service ?",
		StopContainer:               "ÃŠtes-vous certain de vouloir arrÃªter ce conteneur ?",
		PressEnterToReturn:          "Appuyez sur EntrÃ©e pour revenir Ã  lazydocker (ce message peut Ãªtre dÃ©sactivÃ© dans vos configurations en appliquant `gui.returnImmediately: true`)",
		DetachFromContainerShortCut: "Par dÃ©faut, pour se dÃ©tacher du conteneur appuyez sur CTRL-P puis CTRL-Q",

		No:  "non",
		Yes: "oui",
	}
}
</file>

<file path="pkg/i18n/german.go">
package i18n

func germanSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "zerstÃ¶ren",
		RemovingStatus:             "entfernen",
		RestartingStatus:           "neustarten",
		StoppingStatus:             "anhalten",
		RunningCustomCommandStatus: "fÃ¼hrt benutzerdefinierten Befehl aus",

		NoViewMachingNewLineFocusedSwitchStatement: "No view matching newLineFocused switch statement",

		ErrorOccurred:                     "Es ist ein Fehler aufgetreten! Bitte erstelle ein Issue hier: https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:                  "Verbindung zum Docker Client fehlgeschlagen. Du musst ggf. den Docker Client neustarten.",
		UnattachableContainerError:        "Der Container bietet keine UnterstÃ¼tzung fÃ¼r das Anbinden. Du musst den Dienst entweder mit der '-it' Flagge benutzen oder `stdin_open: true, tty: true` in der docker-compose.yml Datei setzen.",
		CannotAttachStoppedContainerError: "Du kannst keinen angehaltenen Container anbinden. Du musst ihn erst starten (was du tun kannst, indem du 'r' drÃ¼ckst), (ja, ich bin zu faul um das zu automatisieren) (aber ist schon cool, dass ich so eine Konversation durch eine Fehlermeldung mit dir fÃ¼hren kann)",
		CannotAccessDockerSocketError:     "Kann nicht auf den Socket zugreifen: unix:///var/run/docker.sock\nFÃ¼hre lazydocker als root aus oder lese https://docs.docker.com/install/linux/linux-postinstall/",

		Donate:  "Spenden",
		Confirm: "BestÃ¤tigen",

		Return:             "zurÃ¼ck",
		FocusMain:          "fokussieren aufs Hauptpanel",
		Navigate:           "navigieren",
		Execute:            "ausfÃ¼hren",
		Close:              "schlieÃŸen",
		Menu:               "menÃ¼",
		MenuTitle:          "MenÃ¼",
		Scroll:             "scrollen",
		OpenConfig:         "Ã¶ffne lazydocker Konfiguration",
		EditConfig:         "bearbeite lazydocker Konfiguration",
		Cancel:             "abbrechen",
		Remove:             "entfernen",
		ForceRemove:        "Entfernen erzwingen",
		RemoveWithVolumes:  "entferne mit Volumes",
		RemoveService:      "entferne Container",
		Stop:               "anhalten",
		Restart:            "neustarten",
		Rebuild:            "neubauen",
		Recreate:           "neuerstellen",
		PreviousContext:    "vorheriges Tab",
		NextContext:        "nÃ¤chstes Tab",
		Attach:             "anbinden",
		ViewLogs:           "zeige Protokolle",
		RemoveImage:        "entferne Image",
		RemoveVolume:       "entferne Volume",
		RemoveNetwork:      "entferne Netzwerk",
		RemoveWithoutPrune: "entfernen, ohne die unmarkierten Eltern zu entfernen",
		PruneContainers:    "entferne verlassene Container",
		PruneVolumes:       "entferne unbenutzte Volumes",
		PruneNetworks:      "entferne unbenutzte Netzwerk",
		PruneImages:        "entferne unbenutzte Images",
		ViewRestartOptions: "zeige Neustartoptionen",
		RunCustomCommand:   "fÃ¼hre vordefinierten benutzerdefinierten Befehl aus",

		GlobalTitle:               "Global",
		MainTitle:                 "Haupt",
		ProjectTitle:              "Projekt",
		ServicesTitle:             "Dienste",
		ContainersTitle:           "Container",
		StandaloneContainersTitle: "Alleinstehende Container",
		ImagesTitle:               "Images",
		VolumesTitle:              "Volumes",
		NetworksTitle:             "Netzwerk",
		CustomCommandTitle:        "Benutzerdefinierter Befehl",
		ErrorTitle:                "Fehler",
		LogsTitle:                 "Protokoll",
		ConfigTitle:               "Konfiguration",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Docker-Compose Konfiguration",
		TopTitle:                  "Top",
		StatsTitle:                "Statistiken",
		CreditsTitle:              "Ãœber Uns",
		ContainerConfigTitle:      "Container Konfiguration",
		ContainerEnvTitle:         "Container Env",
		NothingToDisplay:          "Nothing to display",
		CannotDisplayEnvVariables: "Something went wrong while displaying environment variables",

		NoContainers: "Keine Container",
		NoContainer:  "Kein Container",
		NoImages:     "Keine Images",
		NoVolumes:    "Keine Volumes",
		NoNetworks:   "Keine Netzwerk",

		ConfirmQuit:                 "Bist du dir sicher, dass du verlassen mÃ¶chtest?",
		MustForceToRemoveContainer:  "Du kannst keinen Container entfernen, der noch ausgefÃ¼hrt wird auÃŸer du erzwingst es. MÃ¶chtest du es erzwingen?",
		NotEnoughSpace:              "Nicht genug Platz um die Panel darzustellen",
		ConfirmPruneImages:          "Bist du dir sicher, dass du alle unbenutzten Images entfernen mÃ¶chtest?",
		ConfirmPruneContainers:      "Bist du dir sicher, dass du alle angehaltenen Container entfernen mÃ¶chtes?",
		ConfirmPruneVolumes:         "Bist du dir sicher, dass du alle unbenutzen Volumes entfernen mÃ¶chtest?",
		ConfirmPruneNetworks:        "Bist du dir sicher, dass du alle unbenutzen Netzwerk entfernen mÃ¶chtest?",
		StopService:                 "Bist du dir sicher, dass du den Dienst dieses Containers anhalten mÃ¶chtest?",
		StopContainer:               "Bist du dir sicher, dass du den Container anhalten mÃ¶chtest?",
		PressEnterToReturn:          "DrÃ¼cke Eingabe um zu lazydocker zurÃ¼ckzukehren. (Diese Nachfrage kann in Deiner Konfiguration deaktiviert werden, indem du folgenden Wert setzt: `gui.returnImmediately: true`)",
		DetachFromContainerShortCut: "Um sich vom Container zu trennen, drÃ¼cken Sie standardmÃ¤ÃŸig ctrl-p â€‹â€‹und dann ctrl-q",
	}
}
</file>

<file path="pkg/i18n/i18n.go">
package i18n

import (
	"strings"

	"github.com/imdario/mergo"

	"github.com/cloudfoundry/jibber_jabber"
	"github.com/go-errors/errors"
	"github.com/sirupsen/logrus"
)

// Localizer will translate a message into the user's language
type Localizer struct {
	Log *logrus.Entry
	S   TranslationSet
}

func NewTranslationSetFromConfig(log *logrus.Entry, configLanguage string) (*TranslationSet, error) {
	if configLanguage == "auto" {
		language := detectLanguage(jibber_jabber.DetectLanguage)
		return NewTranslationSet(log, language), nil
	}

	for key := range GetTranslationSets() {
		if key == configLanguage {
			return NewTranslationSet(log, configLanguage), nil
		}
	}

	return NewTranslationSet(log, "en"), errors.New("Language not found: " + configLanguage)
}

func NewTranslationSet(log *logrus.Entry, language string) *TranslationSet {
	log.Info("language: " + language)

	baseSet := englishSet()

	for languageCode, translationSet := range GetTranslationSets() {
		if strings.HasPrefix(language, languageCode) {
			_ = mergo.Merge(&baseSet, translationSet, mergo.WithOverride)
		}
	}

	return &baseSet
}

// GetTranslationSets gets all the translation sets, keyed by language code
func GetTranslationSets() map[string]TranslationSet {
	return map[string]TranslationSet{
		"pl": polishSet(),
		"nl": dutchSet(),
		"de": germanSet(),
		"tr": turkishSet(),
		"en": englishSet(),
		"fr": frenchSet(),
		"zh": chineseSet(),
		"es": spanishSet(),
		"pt": portugueseSet(),
	}
}

// detectLanguage extracts user language from environment
func detectLanguage(langDetector func() (string, error)) string {
	if userLang, err := langDetector(); err == nil {
		return userLang
	}

	return "C"
}
</file>

<file path="pkg/i18n/polish.go">
package i18n

func polishSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "czyszczenie",
		RemovingStatus:             "usuwanie",
		RestartingStatus:           "restartowanie",
		StoppingStatus:             "zatrzymywanie",
		RunningCustomCommandStatus: "uruchamianie wÅ‚asnej komendty",

		NoViewMachingNewLineFocusedSwitchStatement: "Å»aden widok nie odpowiada instrukcji przeÅ‚Ä…czenia newLineFocused",

		ErrorOccurred:                     "WystÄ…piÅ‚ bÅ‚Ä…d! ProszÄ™ go zgÅ‚osiÄ‡ na https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:                  "BÅ‚Ä…d poÅ‚Ä…czenia z Dockerem. ByÄ‡ moÅ¼e naleÅ¼y go zrestartowaÄ‡.",
		UnattachableContainerError:        "Kontener nie obsÅ‚uguje przyczepiania (attach). Musisz albo uÅ¼yÄ‡ flag '-it', albo `stdin_open: true, tty: true` w pliku docker-compose.yml.",
		CannotAttachStoppedContainerError: "Nie moÅ¼na przyczepiÄ‡ siÄ™ do zatrzymanego kontenera, naleÅ¼y go najpierw uruchomiÄ‡ (co moÅ¼na wykonaÄ‡ wciskajÄ…c przycisk 'r')",
		CannotAccessDockerSocketError:     "Nie udaÅ‚o siÄ™Â uzyskaÄ‡ dostÄ™pu do unix:///var/run/docker.sock\nUruchom program jako root lub przeczytaj https://docs.docker.com/install/linux/linux-postinstall/",

		Donate:  "Dotacja",
		Confirm: "PotwierdÅº",

		Return:             "powrÃ³t",
		FocusMain:          "skup na gÅ‚Ã³wnym panelu",
		Navigate:           "nawigowanie",
		Execute:            "wykonaj",
		Close:              "zamknij",
		Menu:               "menu",
		MenuTitle:          "Menu",
		Scroll:             "przewiÅ„",
		OpenConfig:         "otwÃ³rz konfiguracjÄ™",
		EditConfig:         "edytuj konfiguracjÄ™",
		Cancel:             "anuluj",
		Remove:             "usuÅ„",
		ForceRemove:        "usuÅ„ siÅ‚Ä…",
		RemoveWithVolumes:  "usuÅ„ z wolumenami",
		RemoveService:      "usuÅ„ kontenery",
		Stop:               "zatrzymaj",
		Restart:            "restartuj",
		Rebuild:            "przebuduj",
		Recreate:           "odtwÃ³rz",
		PreviousContext:    "poprzednia zakÅ‚adka",
		NextContext:        "nastÄ™pna zakÅ‚adka",
		Attach:             "przyczep",
		ViewLogs:           "pokaÅ¼ logi",
		RemoveImage:        "usuÅ„ obraz",
		RemoveVolume:       "usuÅ„ wolumen",
		RemoveNetwork:      "usuÅ„ sieci",
		RemoveWithoutPrune: "usuÅ„ bez kasowania nieoznaczonych rodzicÃ³w",
		PruneContainers:    "wyczyÅ›Ä‡Â kontenery",
		PruneVolumes:       "wyczyÅ›Ä‡ nieuÅ¼ywane wolumeny",
		PruneNetworks:      "wyczyÅ›Ä‡ nieuÅ¼ywane sieci",
		PruneImages:        "wyczyÅ›Ä‡ nieuÅ¼ywane obrazy",
		ViewRestartOptions: "pokaÅ¼ opcje restartu",
		RunCustomCommand:   "wykonaj predefiniowanÄ… wÅ‚asnÄ… komende",

		GlobalTitle:               "Globalne",
		MainTitle:                 "GÅ‚Ã³wne",
		ProjectTitle:              "Projekt",
		ServicesTitle:             "Serwisy",
		ContainersTitle:           "Kontenery",
		StandaloneContainersTitle: "Kontenery samodzielne",
		ImagesTitle:               "Obrazy",
		VolumesTitle:              "Wolumeny",
		NetworksTitle:             "Sieci",
		CustomCommandTitle:        "WÅ‚asna komenda:",
		ErrorTitle:                "BÅ‚Ä…d",
		LogsTitle:                 "Logi",
		ConfigTitle:               "Konfiguracja",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Konfiguracja docker-compose",
		TopTitle:                  "Top",
		StatsTitle:                "Staty",
		CreditsTitle:              "O",
		ContainerConfigTitle:      "Konfiguracja kontenera",
		ContainerEnvTitle:         "Container Env",
		NothingToDisplay:          "Nothing to display",
		CannotDisplayEnvVariables: "Something went wrong while displaying environment variables",

		NoContainers: "Brak kontenerÃ³w",
		NoContainer:  "Brak kontenera",
		NoImages:     "Brak obrazÃ³w",
		NoVolumes:    "Brak wolumenÃ³w",
		NoNetworks:   "Brak sieci",

		ConfirmQuit:                 "Na pewno chcesz wyjÅ›Ä‡?",
		MustForceToRemoveContainer:  "Nie moÅ¼esz usunÄ…Ä‡Â uruchomionego kontenera dopÃ³ki nie zrobisz tego siÅ‚Ä…. Chcesz wykonaÄ‡ to z siÅ‚Ä…?",
		NotEnoughSpace:              "Niedostateczna iloÅ›Ä‡ miejsca do wyÅ›wietlenia paneli",
		ConfirmPruneImages:          "Na pewno wyczyÅ›ciÄ‡ wszystkie nieuÅ¼ywane obrazy?",
		ConfirmPruneContainers:      "Na pewno wyczyÅ›ciÄ‡ wszystkie nieuruchomione kontenery?",
		ConfirmPruneVolumes:         "Na pewno wyczyÅ›ciÄ‡ wszystkie nieuÅ¼ywane wolumeny?",
		ConfirmPruneNetworks:        "Na pewno wyczyÅ›ciÄ‡ wszystkie nieuÅ¼ywane sieci?",
		StopService:                 "Na pewno zatrzymaÄ‡ kontenery tego serwisu?",
		StopContainer:               "Na pewno zatrzymaÄ‡ ten kontener?",
		PressEnterToReturn:          "WciÅ›nij enter aby powrÃ³ciÄ‡ do lazydockera (ten komunikat moÅ¼e byÄ‡ wyÅ‚Ä…czony w konfiguracji poprzez ustawienie `gui.returnImmediately: true`)",
		DetachFromContainerShortCut: "DomyÅ›lnie, aby odÅ‚Ä…czyÄ‡ siÄ™ od kontenera, naciÅ›nij ctrl-p, a nastÄ™pnie ctrl-q",
	}
}
</file>

<file path="pkg/i18n/portuguese.go">
package i18n

func portugueseSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "destruindo",
		RemovingStatus:             "removendo",
		RestartingStatus:           "reiniciando",
		StartingStatus:             "iniciando",
		StoppingStatus:             "parando",
		UppingServiceStatus:        "subindo serviÃ§o",
		UppingProjectStatus:        "subindo projeto",
		DowningStatus:              "derrubando",
		PausingStatus:              "pausando",
		RunningCustomCommandStatus: "executando comando personalizado",
		RunningBulkCommandStatus:   "executando comando em massa",

		NoViewMachingNewLineFocusedSwitchStatement: "No view matching newLineFocused switch statement",

		ErrorOccurred:                     "Um erro ocorreu! Por favor, crie uma issue em https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:                  "Falha na conexÃ£o com o cliente Docker. VocÃª pode precisar reiniciar o seu cliente Docker",
		UnattachableContainerError:        "O contÃªiner nÃ£o suporta anexaÃ§Ã£o. VocÃª deve executar o serviÃ§o com a flag '-it' ou usar `stdin_open: true, tty: true` no arquivo docker-compose.yml",
		WaitingForContainerInfo:           "NÃ£o Ã© possÃ­vel prosseguir atÃ© que o Docker forneÃ§a mais informaÃ§Ãµes sobre o contÃªiner. Por favor, tente novamente em alguns momentos.",
		CannotAttachStoppedContainerError: "VocÃª nÃ£o pode anexar a um contÃªiner parado, vocÃª precisa iniciÃ¡-lo primeiro (o que vocÃª pode fazer com a tecla 'r') (sim, sou preguiÃ§oso demais para fazer isso automaticamente para vocÃª) (aliÃ¡s, bem legal que eu posso me comunicar diretamente com vocÃª na forma de uma mensagem de erro)",
		CannotAccessDockerSocketError:     "NÃ£o Ã© possÃ­vel acessar o sÃ´quete docker em: unix:///var/run/docker.sock\nExecute o lazydocker como root ou leia https://docs.docker.com/install/linux/linux-postinstall/",
		CannotKillChildError:              "TrÃªs segundos foram esperarados para que os processos filhos parassem. Pode haver um processo Ã³rfÃ£o que continua em execuÃ§Ã£o em seu sistema.",

		Donate:  "Doar",
		Confirm: "Confirmar",

		Return:                      "retornar",
		FocusMain:                   "focar no painel principal",
		LcFilter:                    "filtrar lista",
		Navigate:                    "navegar",
		Execute:                     "executar",
		Close:                       "fechar",
		Quit:                        "sair",
		Menu:                        "menu",
		MenuTitle:                   "Menu",
		Scroll:                      "rolar",
		OpenConfig:                  "abrir configuraÃ§Ã£o do lazydocker",
		EditConfig:                  "editar configuraÃ§Ã£o do lazydocker",
		Cancel:                      "cancelar",
		Remove:                      "remover",
		HideStopped:                 "ocultar/mostrar contÃªineres parados",
		ForceRemove:                 "forÃ§ar remoÃ§Ã£o",
		RemoveWithVolumes:           "remover com volumes",
		RemoveService:               "remover contÃªineres",
		UpService:                   "subir serviÃ§o",
		Stop:                        "parar",
		Pause:                       "pausar",
		Restart:                     "reiniciar",
		Down:                        "derrubar projeto",
		DownWithVolumes:             "derrubar projetos com volumes",
		Start:                       "iniciar",
		Rebuild:                     "reconstuir",
		Recreate:                    "recriar",
		PreviousContext:             "aba anterior",
		NextContext:                 "prÃ³xima aba",
		Attach:                      "anexar",
		ViewLogs:                    "ver logs",
		UpProject:                   "subir projeto",
		DownProject:                 "derrubar projeto",
		RemoveImage:                 "remover imagem",
		RemoveVolume:                "remover volume",
		RemoveNetwork:               "remover rede",
		RemoveWithoutPrune:          "remover sem deletar pais nÃ£o etiquetados",
		RemoveWithoutPruneWithForce: "remover (forÃ§ado) sem deletar pais nÃ£o etiquetados",
		RemoveWithForce:             "remover (forÃ§ado)",
		PruneContainers:             "destruir contÃªineres encerrados",
		PruneVolumes:                "destruir volumes nÃ£o utilizados",
		PruneNetworks:               "destruir redes nÃ£o utilizadas",
		PruneImages:                 "destruir imagens nÃ£o utilizadas",
		StopAllContainers:           "parar todos os contÃªineres",
		RemoveAllContainers:         "remover todos os contÃªineres (forÃ§ado)",
		ViewRestartOptions:          "ver opÃ§Ãµes de reinÃ­cio",
		ExecShell:                   "executar shell",
		RunCustomCommand:            "executar comando personalizado predefinido",
		ViewBulkCommands:            "ver comandos em massa",
		FilterList:                  "filtrar lista",
		OpenInBrowser:               "abrir no navegador (primeira porta Ã© http)",
		SortContainersByState:       "ordenar contÃªineres por estado",

		GlobalTitle:               "Global",
		MainTitle:                 "Principal",
		ProjectTitle:              "Projeto",
		ServicesTitle:             "ServiÃ§os",
		ContainersTitle:           "ContÃªineres",
		StandaloneContainersTitle: "ContÃªineres Avulsos",
		ImagesTitle:               "Imagens",
		VolumesTitle:              "Volumes",
		NetworksTitle:             "Redes",
		CustomCommandTitle:        "Comando Personalizado:",
		BulkCommandTitle:          "Comando em Massa:",
		ErrorTitle:                "Erro",
		LogsTitle:                 "Registros",
		ConfigTitle:               "Config",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Docker-Compose Config",
		TopTitle:                  "Topo",
		StatsTitle:                "EstatÃ­sticas",
		CreditsTitle:              "Sobre",
		ContainerConfigTitle:      "ConfiguraÃ§Ã£o do ContÃªiner",
		ContainerEnvTitle:         "ContÃªiner Env",
		NothingToDisplay:          "Nada a exibir",
		NoContainerForService:     "Nenhum log para exibir; o serviÃ§o nÃ£o estÃ¡ associado a nenhum contÃªiner",
		CannotDisplayEnvVariables: "Algo deu errado ao exibir as variÃ¡veis de ambiente",

		NoContainers: "Sem contÃªineres",
		NoContainer:  "Sem contÃªiner",
		NoImages:     "Sem imagens",
		NoVolumes:    "Sem volumes",
		NoNetworks:   "Sem redes",
		NoServices:   "Sem serviÃ§os",

		ConfirmQuit:                 "Tem certeza que deseja sair?",
		ConfirmUpProject:            "Tem certeza que deseja 'iniciar' seu projeto docker compose?",
		MustForceToRemoveContainer:  "VocÃª nÃ£o pode remover um contÃªiner em execuÃ§Ã£o a menos que o force. Deseja forÃ§ar?",
		NotEnoughSpace:              "Sem espaÃ§o suficiente para renderizar os painÃ©is",
		ConfirmPruneImages:          "Tem certeza que deseja eliminar todas as imagens nÃ£o utilizadas?",
		ConfirmPruneContainers:      "Tem certeza que deseja destruir todos os contÃªineres parados?",
		ConfirmStopContainers:       "Tem certeza que deseja parar todos os contÃªineres?",
		ConfirmRemoveContainers:     "Tem certeza que deseja remover todos os contÃªineres?",
		ConfirmPruneVolumes:         "Tem certeza que deseja destruir todos os volumes nÃ£o utilizados?",
		ConfirmPruneNetworks:        "Tem certeza que deseja destruir todas as redes nÃ£o utilizadas?",
		StopService:                 "Tem certeza que deseja parar os contÃªineres deste serviÃ§o?",
		StopContainer:               "Tem certeza que deseja parar este contÃªiner?",
		PressEnterToReturn:          "Pressione enter para retornar ao lazydocker (este prompt pode ser desativado em sua configuraÃ§Ã£o definindo `gui.returnImmediately: true`)",
		DetachFromContainerShortCut: "Por padrÃ£o, para desanexar do contÃªiner, pressione ctrl-p e depois ctrl-q",

		No:  "nÃ£o",
		Yes: "sim",

		LcNextScreenMode: "modo de tela seguinte (normal/meia/tela cheia)",
		LcPrevScreenMode: "modo de tela anterior",
		FilterPrompt:     "filtro",
	}
}
</file>

<file path="pkg/i18n/spanish.go">
package i18n

func spanishSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "limpiando",
		RemovingStatus:             "eliminando",
		RestartingStatus:           "reiniciando",
		StartingStatus:             "iniciando",
		StoppingStatus:             "terminando",
		UppingServiceStatus:        "levantando servicio",
		UppingProjectStatus:        "levantando proyecto",
		DowningStatus:              "dando de baja",
		PausingStatus:              "pausando",
		RunningCustomCommandStatus: "ejecutando comando personalizado",
		RunningBulkCommandStatus:   "ejecutando comando masivo",

		ErrorOccurred:                 "Â¡Hubo un error! Por favor crea un issue en https://github.com/jesseduffield/lazydocker/issues",
		ConnectionFailed:              "FallÃ³ la conexiÃ³n con el docker client. QuizÃ¡ necesitas reiniciar tu docker client",
		UnattachableContainerError:    "Container does not support attaching. You must either run the service with the '-it' flag or use `stdin_open: true, tty: true` in the docker-compose.yml file",
		WaitingForContainerInfo:       "No podemos proceder hasta que docker nos de mÃ¡s informaciÃ³n sobre el contenedor. IntÃ©ntalo otra vez en unos segundos.",
		CannotAccessDockerSocketError: "No es posible acceder al docker socket en: unix:///var/run/docker.sock\nEjecuta lazydocker como root o lee https://docs.docker.com/install/linux/linux-postinstall/",
		CannotKillChildError:          "Esperamos tres segundos a que el proceso hijo se detenga. Debe de haber un proceso huÃ©rfano que continua activo en tu sistema.",

		Donate:  "Donar",
		Confirm: "Confirmar",

		Return:                      "regresar",
		FocusMain:                   "enfocar panel principal",
		LcFilter:                    "filtrar lista",
		Navigate:                    "navegar",
		Execute:                     "ejecutar",
		Close:                       "cerrar",
		Quit:                        "salir",
		Menu:                        "menÃº",
		MenuTitle:                   "MenÃº",
		OpenConfig:                  "abrir configuraciÃ³n de lazydocker",
		EditConfig:                  "editar configuraciÃ³n de lazydocker",
		Cancel:                      "cancelar",
		Remove:                      "borrar",
		HideStopped:                 "esconder/mostrar contenedores parados",
		ForceRemove:                 "borrar(forzado)",
		RemoveWithVolumes:           "borrar con volÃºmenes",
		RemoveService:               "borrar contenedores",
		UpService:                   "levantar servicio",
		Stop:                        "parar",
		Pause:                       "pausa",
		Restart:                     "reiniciar",
		Down:                        "bajar proyecto",
		DownWithVolumes:             "bajar proyecto con volÃºmenes",
		Start:                       "iniciar",
		Rebuild:                     "recompilar",
		Recreate:                    "recrear",
		PreviousContext:             "anterior pestaÃ±a",
		NextContext:                 "siguiente pestaÃ±a",
		ViewLogs:                    "ver logs",
		UpProject:                   "levantar proyecto",
		DownProject:                 "dar de baja el proyecto",
		RemoveImage:                 "limpiar imagen",
		RemoveVolume:                "limpiar volÃºmen",
		RemoveNetwork:               "limpiar red",
		RemoveWithoutPrune:          "limpiar sin borrar padres sin etiqueta",
		RemoveWithoutPruneWithForce: "limpiar (forzado) sin borrar padres sin etiqueta",
		RemoveWithForce:             "limpiar (forzado)",
		PruneContainers:             "limpiar contenedores finalizados",
		PruneVolumes:                "limpiar volÃºmenes sin usar",
		PruneNetworks:               "limpiar redes sin usar",
		PruneImages:                 "limpiar imÃ¡genes sin usar",
		StopAllContainers:           "detener todos los contenedores",
		RemoveAllContainers:         "borrar todos los contenedores (forzado)",
		ViewRestartOptions:          "ver opciones de reinicio",
		ExecShell:                   "ejecutar shell",
		RunCustomCommand:            "ejecutar comando personalizado",
		ViewBulkCommands:            "ver comandos masivos",
		FilterList:                  "filtar list",
		OpenInBrowser:               "abrir en navegador (first port is http)",
		SortContainersByState:       "ordenar contenedores por estado",

		GlobalTitle:               "Global",
		MainTitle:                 "Inicio",
		ProjectTitle:              "Proyecto",
		ServicesTitle:             "Servicios",
		ContainersTitle:           "Contenedores",
		StandaloneContainersTitle: "Contenedores independientes",
		ImagesTitle:               "ImÃ¡genes",
		VolumesTitle:              "VolÃºmenes",
		NetworksTitle:             "Redes",
		CustomCommandTitle:        "Comando personalizado:",
		BulkCommandTitle:          "Comando masivo:",
		ErrorTitle:                "Error",
		LogsTitle:                 "Logs",
		ConfigTitle:               "ConfiguraciÃ³n",
		EnvTitle:                  "Variables de entorno",
		DockerComposeConfigTitle:  "Docker-Compose Config",
		TopTitle:                  "Top",
		StatsTitle:                "EstadÃ­sticas",
		CreditsTitle:              "Acerca",
		ContainerConfigTitle:      "ConfiguraciÃ³n",
		ContainerEnvTitle:         "Variables de entorno",
		NothingToDisplay:          "Nada que mostrar",
		NoContainerForService:     "No hay logs que mostrar; el servicio no estÃ¡ asociado con un contenedor",
		CannotDisplayEnvVariables: "Algo saliÃ³ mal mientras se mostraban las variables de entorno",

		NoContainers: "Sin contenedores",
		NoContainer:  "Sin contenedor",
		NoImages:     "Sin imÃ¡genes",
		NoVolumes:    "Sin volÃºmenes",
		NoNetworks:   "Sin redes",
		NoServices:   "Sin servicios",

		ConfirmQuit:                "Â¿Realmente quieres salir?",
		ConfirmUpProject:           "Â¿Realmente quieres levantar tu proyecto docker compose?",
		MustForceToRemoveContainer: "No puedes borrar un contenedor en ejecuciÃ³n a menos de que lo fuerces, Â¿quieres hacerlo?",
		NotEnoughSpace:             "No hay suficiente espacio para renderizar los paneles",
		ConfirmPruneImages:         "Â¿Realmente quieres limpiar todas tus imÃ¡genes?",
		ConfirmPruneContainers:     "Â¿Realmente quieres limpiar todos los contenedores finalizados?",
		ConfirmStopContainers:      "Â¿Realmente quieres detener todos los contenedores?",
		ConfirmRemoveContainers:    "Â¿Realmente quieres borrar todos los contenedores?",
		ConfirmPruneVolumes:        "Â¿Realmente quieres limpiar todos los vÃ³lumenes sin usar?",
		ConfirmPruneNetworks:       "Â¿Realmente quieres limpiar todas las redes sin usar?",
		StopService:                "Â¿Realmente quieres detener los contenedores de este servicio?",
		StopContainer:              "Â¿Realmente quieres detener este contenedor?",
		PressEnterToReturn:         "Presionar [enter] para volver a lazydocker (este mensaje puede ser desactivado en tu configuraciÃ³n poniendo `gui.returnImmediately: true`)",

		No:  "no",
		Yes: "sÃ­",

		FilterPrompt: "filtrar",
	}
}
</file>

<file path="pkg/i18n/turkish.go">
package i18n

func turkishSet() TranslationSet {
	return TranslationSet{
		PruningStatus:              "temizleniyor",
		RemovingStatus:             "kaldÄ±rÄ±lÄ±yor",
		RestartingStatus:           "yeniden baÅŸlatÄ±lÄ±yor",
		StoppingStatus:             "durduruluyor",
		RunningCustomCommandStatus: "Ã¶zel komut Ã§alÄ±ÅŸtÄ±r",

		NoViewMachingNewLineFocusedSwitchStatement: "NewLineFocused anahtar deyimi ile eÅŸleÅŸen gÃ¶rÃ¼nÃ¼m yok",

		ErrorOccurred:                     "Bir hata oluÅŸtu! LÃ¼tfen https://github.com/jesseduffield/lazydocker/issues adresinden bir hataya iliÅŸkin konu oluÅŸturun",
		ConnectionFailed:                  "Docker baÄŸlantÄ±sÄ± baÅŸarÄ±sÄ±z oldu. Docker' Ä± yeniden baÅŸlatmanÄ±z gerekebilir",
		UnattachableContainerError:        "Konteyner attaching modunda Ã§alÄ±ÅŸmayÄ± desteklemiyor. Hizmeti '-it' opsiyonu ile Ã§alÄ±ÅŸtÄ±rmanÄ±z veya docker-compose.yml dosyasÄ±nda `stdin_open: true, tty: true` kullanmanÄ±z gerekir.",
		CannotAttachStoppedContainerError: "Durdurulan konteynera baÄŸlanamazsÄ±nÄ±z, ilk Ã¶nce baÅŸlatmanÄ±z gerekir (aslÄ±nda baÅŸlatmayÄ± r tuÅŸu ile yapabilirsiniz) (evet, senin iÃ§in bunu otomatik olarak yapabilirim fakat Ã§ok tembelim) (hata mesajÄ± ile seninle birebir iletiÅŸim kurmam Ã§ok daha gÃ¼zel)",
		CannotAccessDockerSocketError:     "Docker' a ÅŸu adresten eriÅŸilemiyor : unix:///var/run/docker.sock\n lazydocker' Ä± root(kÃ¶k kullanÄ±cÄ±) olarak Ã§alÄ±ÅŸtÄ±r veya ÅŸu adresteki adÄ±mlarÄ± takip et : https://docs.docker.com/install/linux/linux-postinstall/",

		Donate:  "BaÄŸÄ±ÅŸ",
		Confirm: "Onayla",

		Return:             "dÃ¶nÃ¼ÅŸ",
		FocusMain:          "ana panele odaklan",
		Navigate:           "gezin",
		Execute:            "Ã§alÄ±ÅŸtÄ±r",
		Close:              "kapat",
		Menu:               "menÃ¼",
		MenuTitle:          "MenÃ¼",
		Scroll:             "kaydÄ±r",
		OpenConfig:         "lazydocker ayarlarÄ±nÄ± aÃ§",
		EditConfig:         "lazzydocker ayarlarÄ±nÄ± dÃ¼zenle",
		Cancel:             "iptal",
		Remove:             "kaldÄ±r",
		ForceRemove:        "kaldÄ±rmaya zorla",
		RemoveWithVolumes:  "alanlarÄ± ile birlikte kaldÄ±r",
		RemoveService:      "konteynerleri kaldÄ±r",
		Stop:               "durdur",
		Restart:            "yeniden baÅŸlat",
		Rebuild:            "yeniden yapÄ±landÄ±r",
		Recreate:           "yeniden oluÅŸtur",
		PreviousContext:    "Ã¶nceki sekme",
		NextContext:        "sonraki sekme",
		Attach:             "baÄŸlan/iliÅŸtir",
		ViewLogs:           "kayÄ±t defterini gÃ¶rÃ¼ntÃ¼le",
		RemoveImage:        "imajÄ± kaldÄ±r",
		RemoveVolume:       "alanÄ± kaldÄ±r",
		RemoveNetwork:      "aÄŸÄ± kaldÄ±r",
		RemoveWithoutPrune: "etkisiz ebeveynleri silmeden kaldÄ±r",
		PruneContainers:    "Ã§alÄ±ÅŸmayan konteynerleri temizle",
		PruneVolumes:       "kullanÄ±lmayan alanlarÄ± temizle",
		PruneNetworks:      "kullanÄ±lmayan aÄŸlarÄ± temizle",
		PruneImages:        "kullanÄ±lmayan imajlarÄ± temizle",
		ViewRestartOptions: "yeniden baÅŸlatma seÃ§eneklerini gÃ¶rÃ¼ntÃ¼le",
		RunCustomCommand:   "Ã¶nceden tanÄ±mlanmÄ±ÅŸ Ã¶zel komutu Ã§alÄ±ÅŸtÄ±r",

		GlobalTitle:               "Global",
		MainTitle:                 "Ana",
		ProjectTitle:              "Proje",
		ServicesTitle:             "Servisler",
		ContainersTitle:           "Konteynerler",
		StandaloneContainersTitle: "BaÄŸÄ±msÄ±z Konteynerler",
		ImagesTitle:               "Imajlar",
		VolumesTitle:              "Alanlar",
		NetworksTitle:             "AÄŸlarÄ±",
		CustomCommandTitle:        "Ã–zel Komut:",
		ErrorTitle:                "Hata",
		LogsTitle:                 "Kayitlar",
		ConfigTitle:               "Ayarlar",
		EnvTitle:                  "Env",
		DockerComposeConfigTitle:  "Docker-Compose Ayar",
		TopTitle:                  "Top",
		StatsTitle:                "Durumlar",
		CreditsTitle:              "Hakkinda",
		ContainerConfigTitle:      "Konteyner Ayar",
		ContainerEnvTitle:         "Konteyner Env",
		NothingToDisplay:          "Nothing to display",
		CannotDisplayEnvVariables: "Something went wrong while displaying environment variables",

		NoContainers: "Konteynerler yok",
		NoContainer:  "Konteyner yok",
		NoImages:     "Imajlar yok",
		NoVolumes:    "Alanlar yok",
		NoNetworks:   "AÄŸlarÄ± yok",

		ConfirmQuit:                 "Ã‡Ä±kmak istediÄŸine emin misin?",
		MustForceToRemoveContainer:  "Zorlamadan Ã§alÄ±ÅŸan bir konteyneri kaldÄ±ramazsÄ±nÄ±z. Zorlamak ister misin?",
		NotEnoughSpace:              "Panelleri oluÅŸturmak iÃ§in yeterli alan yok",
		ConfirmPruneImages:          "KullanÄ±lmayan tÃ¼m gÃ¶rÃ¼ntÃ¼leri temizlemek istediÄŸinize emin misiniz?",
		ConfirmPruneContainers:      "Durdurulan tÃ¼m konteynerlarÄ± temizlemek istediÄŸinizden emin misiniz?",
		ConfirmPruneVolumes:         "KullanÄ±lmayan tÃ¼m alanlarÄ± temizlemek istediÄŸinizden emin misiniz?",
		ConfirmPruneNetworks:        "KullanÄ±lmayan tÃ¼m aÄŸlarÄ± temizlemek istediÄŸinizden emin misiniz?",
		StopService:                 "Bu servisin konteynerlerini durdurmak istediÄŸinize emin misiniz?",
		StopContainer:               "Bu konteyneri durdurmak istediÄŸinize emin misiniz?",
		PressEnterToReturn:          "lazydocker' a geri dÃ¶nmek iÃ§in enter tuÅŸuna basÄ±n ( Bu uyarÄ±, `gui.return Immediately: true` ayarÄ±yla devre dÄ±ÅŸÄ± bÄ±rakÄ±labilir)",
		DetachFromContainerShortCut: "VarsayÄ±lan olarak, kaptan ayÄ±rmak iÃ§in ctrl-p ve ardÄ±ndan ctrl-q tuÅŸlarÄ±na basÄ±n",
	}
}
</file>

<file path="pkg/log/log.go">
package log

import (
	"fmt"
	"io"
	"os"
	"path/filepath"

	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/sirupsen/logrus"
)

// NewLogger returns a new logger
func NewLogger(config *config.AppConfig, rollrusHook string) *logrus.Entry {
	var log *logrus.Logger
	if config.Debug || os.Getenv("DEBUG") == "TRUE" {
		log = newDevelopmentLogger(config)
	} else {
		log = newProductionLogger()
	}

	// highly recommended: tail -f development.log | humanlog
	// https://github.com/aybabtme/humanlog
	log.Formatter = &logrus.JSONFormatter{}

	return log.WithFields(logrus.Fields{
		"debug":     config.Debug,
		"version":   config.Version,
		"commit":    config.Commit,
		"buildDate": config.BuildDate,
	})
}

func getLogLevel() logrus.Level {
	strLevel := os.Getenv("LOG_LEVEL")
	level, err := logrus.ParseLevel(strLevel)
	if err != nil {
		return logrus.DebugLevel
	}
	return level
}

func newDevelopmentLogger(config *config.AppConfig) *logrus.Logger {
	log := logrus.New()
	log.SetLevel(getLogLevel())
	file, err := os.OpenFile(filepath.Join(config.ConfigDir, "development.log"), os.O_CREATE|os.O_WRONLY|os.O_APPEND, 0o666)
	if err != nil {
		fmt.Println("unable to log to file")
		os.Exit(1)
	}
	log.SetOutput(file)
	return log
}

func newProductionLogger() *logrus.Logger {
	log := logrus.New()
	log.Out = io.Discard
	log.SetLevel(logrus.ErrorLevel)
	return log
}
</file>

<file path="pkg/tasks/tasks.go">
package tasks

import (
	"context"
	"fmt"
	"time"

	"github.com/jesseduffield/lazydocker/pkg/i18n"
	"github.com/sasha-s/go-deadlock"
	"github.com/sirupsen/logrus"
)

type TaskManager struct {
	currentTask  *Task
	waitingMutex deadlock.Mutex
	taskIDMutex  deadlock.Mutex
	Log          *logrus.Entry
	Tr           *i18n.TranslationSet
	newTaskId    int
}

type Task struct {
	ctx           context.Context
	cancel        context.CancelFunc
	stopped       bool
	stopMutex     deadlock.Mutex
	notifyStopped chan struct{}
	Log           *logrus.Entry
	f             func(ctx context.Context)
}

type TaskFunc func(ctx context.Context)

func NewTaskManager(log *logrus.Entry, translationSet *i18n.TranslationSet) *TaskManager {
	return &TaskManager{Log: log, Tr: translationSet}
}

// Close closes the task manager, killing whatever task may currently be running
func (t *TaskManager) Close() {
	if t.currentTask == nil {
		return
	}

	c := make(chan struct{}, 1)

	go func() {
		t.currentTask.Stop()
		c <- struct{}{}
	}()

	select {
	case <-c:
		return
	case <-time.After(3 * time.Second):
		fmt.Println(t.Tr.CannotKillChildError)
	}
}

func (t *TaskManager) NewTask(f func(ctx context.Context)) error {
	go func() {
		t.taskIDMutex.Lock()
		t.newTaskId++
		taskID := t.newTaskId
		t.taskIDMutex.Unlock()

		t.waitingMutex.Lock()
		defer t.waitingMutex.Unlock()
		t.taskIDMutex.Lock()
		if taskID < t.newTaskId {
			t.taskIDMutex.Unlock()
			return
		}
		t.taskIDMutex.Unlock()

		ctx, cancel := context.WithCancel(context.Background())
		notifyStopped := make(chan struct{})

		if t.currentTask != nil {
			t.Log.Info("asking task to stop")
			t.currentTask.Stop()
			t.Log.Info("task stopped")
		}

		t.currentTask = &Task{
			ctx:           ctx,
			cancel:        cancel,
			notifyStopped: notifyStopped,
			Log:           t.Log,
			f:             f,
		}

		go func() {
			f(ctx)
			t.Log.Info("returned from function, closing notifyStopped")
			close(notifyStopped)
		}()
	}()

	return nil
}

func (t *Task) Stop() {
	t.stopMutex.Lock()
	defer t.stopMutex.Unlock()
	if t.stopped {
		return
	}

	t.cancel()
	t.Log.Info("closed stop channel, waiting for notifyStopped message")
	<-t.notifyStopped
	t.Log.Info("received notifystopped message")
	t.stopped = true
}

// NewTickerTask is a convenience function for making a new task that repeats some action once per e.g. second
// the before function gets called after the lock is obtained, but before the ticker starts.
// if you handle a message on the stop channel in f() you need to send a message on the notifyStopped channel because returning is not sufficient. Here, unlike in a regular task, simply returning means we're now going to wait till the next tick to run again.
func (t *TaskManager) NewTickerTask(duration time.Duration, before func(ctx context.Context), f func(ctx context.Context, notifyStopped chan struct{})) error {
	notifyStopped := make(chan struct{}, 10)

	return t.NewTask(func(ctx context.Context) {
		if before != nil {
			before(ctx)
		}
		tickChan := time.NewTicker(duration)
		defer tickChan.Stop()
		// calling f first so that we're not waiting for the first tick
		f(ctx, notifyStopped)
		for {
			select {
			case <-notifyStopped:
				t.Log.Info("exiting ticker task due to notifyStopped channel")
				return
			case <-ctx.Done():
				t.Log.Info("exiting ticker task due to stopped cahnnel")
				return
			case <-tickChan.C:
				t.Log.Info("running ticker task again")
				f(ctx, notifyStopped)
			}
		}
	})
}
</file>

<file path="pkg/utils/utils_test.go">
package utils

import (
	"testing"

	"github.com/go-errors/errors"
	"github.com/stretchr/testify/assert"
)

// TestSplitLines is a function.
func TestSplitLines(t *testing.T) {
	type scenario struct {
		multilineString string
		expected        []string
	}

	scenarios := []scenario{
		{
			"",
			[]string{},
		},
		{
			"\n",
			[]string{},
		},
		{
			"hello world !\nhello universe !\n",
			[]string{
				"hello world !",
				"hello universe !",
			},
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, s.expected, SplitLines(s.multilineString))
	}
}

// TestWithPadding is a function.
func TestWithPadding(t *testing.T) {
	type scenario struct {
		str      string
		padding  int
		expected string
	}

	scenarios := []scenario{
		{
			"hello world !",
			1,
			"hello world !",
		},
		{
			"hello world !",
			14,
			"hello world ! ",
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, s.expected, WithPadding(s.str, s.padding))
	}
}

// TestNormalizeLinefeeds is a function.
func TestNormalizeLinefeeds(t *testing.T) {
	type scenario struct {
		byteArray []byte
		expected  []byte
	}
	scenarios := []scenario{
		{
			// \r\n
			[]byte{97, 115, 100, 102, 13, 10},
			[]byte{97, 115, 100, 102, 10},
		},
		{
			// bash\r\nblah
			[]byte{97, 115, 100, 102, 13, 10, 97, 115, 100, 102},
			[]byte{97, 115, 100, 102, 10, 97, 115, 100, 102},
		},
		{
			// \r
			[]byte{97, 115, 100, 102, 13},
			[]byte{97, 115, 100, 102},
		},
		{
			// \n
			[]byte{97, 115, 100, 102, 10},
			[]byte{97, 115, 100, 102, 10},
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, string(s.expected), NormalizeLinefeeds(string(s.byteArray)))
	}
}

// TestResolvePlaceholderString is a function.
func TestResolvePlaceholderString(t *testing.T) {
	type scenario struct {
		templateString string
		arguments      map[string]string
		expected       string
	}

	scenarios := []scenario{
		{
			"",
			map[string]string{},
			"",
		},
		{
			"hello",
			map[string]string{},
			"hello",
		},
		{
			"hello {{arg}}",
			map[string]string{},
			"hello {{arg}}",
		},
		{
			"hello {{arg}}",
			map[string]string{"arg": "there"},
			"hello there",
		},
		{
			"hello",
			map[string]string{"arg": "there"},
			"hello",
		},
		{
			"{{nothing}}",
			map[string]string{"nothing": ""},
			"",
		},
		{
			"{{}} {{ this }} { should not throw}} an {{{{}}}} error",
			map[string]string{
				"blah": "blah",
				"this": "won't match",
			},
			"{{}} {{ this }} { should not throw}} an {{{{}}}} error",
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, s.expected, ResolvePlaceholderString(s.templateString, s.arguments))
	}
}

// TestDisplayArraysAligned is a function.
func TestDisplayArraysAligned(t *testing.T) {
	type scenario struct {
		input    [][]string
		expected bool
	}

	scenarios := []scenario{
		{
			[][]string{{"", ""}, {"", ""}},
			true,
		},
		{
			[][]string{{""}, {"", ""}},
			false,
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, s.expected, displayArraysAligned(s.input))
	}
}

// TestGetPaddedDisplayStrings is a function.
func TestGetPaddedDisplayStrings(t *testing.T) {
	type scenario struct {
		stringArrays [][]string
		padWidths    []int
		expected     []string
	}

	scenarios := []scenario{
		{
			[][]string{{"a", "b"}, {"c", "d"}},
			[]int{1},
			[]string{"a b", "c d"},
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, s.expected, getPaddedDisplayStrings(s.stringArrays, s.padWidths))
	}
}

// TestGetPadWidths is a function.
func TestGetPadWidths(t *testing.T) {
	type scenario struct {
		stringArrays [][]string
		expected     []int
	}

	scenarios := []scenario{
		{
			[][]string{{""}, {""}},
			[]int{},
		},
		{
			[][]string{{"a"}, {""}},
			[]int{},
		},
		{
			[][]string{{"aa", "b", "ccc"}, {"c", "d", "e"}},
			[]int{2, 1},
		},
	}

	for _, s := range scenarios {
		assert.EqualValues(t, s.expected, getPadWidths(s.stringArrays))
	}
}

func TestRenderTable(t *testing.T) {
	type scenario struct {
		input       [][]string
		expected    string
		expectedErr error
	}

	scenarios := []scenario{
		{
			input:       [][]string{{"a", "b"}, {"c", "d"}},
			expected:    "a b\nc d",
			expectedErr: nil,
		},
		{
			input:       [][]string{{"aaaa", "b"}, {"c", "d"}},
			expected:    "aaaa b\nc    d",
			expectedErr: nil,
		},
		{
			input:       [][]string{{"a"}, {"c", "d"}},
			expected:    "",
			expectedErr: errors.New("Each item must return the same number of strings to display"),
		},
	}

	for _, s := range scenarios {
		output, err := RenderTable(s.input)
		assert.EqualValues(t, s.expected, output)
		if s.expectedErr != nil {
			assert.EqualError(t, err, s.expectedErr.Error())
		} else {
			assert.NoError(t, err)
		}
	}
}

func TestMarshalIntoFormat(t *testing.T) {
	type innerData struct {
		Foo int    `json:"foo"`
		Bar string `json:"bar"`
		Baz bool   `json:"baz"`
	}
	type data struct {
		Qux  int       `json:"quz"`
		Quux innerData `json:"quux"`
	}

	type scenario struct {
		input       interface{}
		format      string
		expected    []byte
		expectedErr error
	}

	scenarios := []scenario{
		{
			input:  data{1, innerData{2, "foo", true}},
			format: "json",
			expected: []byte(`{
  "quz": 1,
  "quux": {
    "foo": 2,
    "bar": "foo",
    "baz": true
  }
}`),
			expectedErr: nil,
		},
		{
			input:  data{1, innerData{2, "foo", true}},
			format: "yaml",
			expected: []byte(`quz: 1
quux:
  bar: foo
  baz: true
  foo: 2
`),
			expectedErr: nil,
		},
		{
			input:       data{1, innerData{2, "foo", true}},
			format:      "xml",
			expected:    nil,
			expectedErr: errors.New("Unsupported detailization format: xml"),
		},
	}

	for _, s := range scenarios {
		output, err := marshalIntoFormat(s.input, s.format)
		assert.EqualValues(t, s.expected, output)
		if s.expectedErr != nil {
			assert.EqualError(t, err, s.expectedErr.Error())
		} else {
			assert.NoError(t, err)
		}
	}
}
</file>

<file path="pkg/utils/utils.go">
package utils

import (
	"bytes"
	"encoding/json"
	"fmt"
	"html/template"
	"io"
	"math"
	"regexp"
	"sort"
	"strings"
	"time"

	"github.com/go-errors/errors"
	"github.com/jesseduffield/gocui"
	"github.com/mattn/go-runewidth"

	// "github.com/jesseduffield/yaml"

	"github.com/fatih/color"
	"github.com/goccy/go-yaml"
	"github.com/goccy/go-yaml/lexer"
	"github.com/goccy/go-yaml/printer"
)

// SplitLines takes a multiline string and splits it on newlines
// currently we are also stripping \r's which may have adverse effects for
// windows users (but no issues have been raised yet)
func SplitLines(multilineString string) []string {
	multilineString = strings.Replace(multilineString, "\r", "", -1)
	if multilineString == "" || multilineString == "\n" {
		return make([]string, 0)
	}
	lines := strings.Split(multilineString, "\n")
	if lines[len(lines)-1] == "" {
		return lines[:len(lines)-1]
	}
	return lines
}

// WithPadding pads a string as much as you want
func WithPadding(str string, padding int) string {
	uncoloredStr := Decolorise(str)
	if padding < runewidth.StringWidth(uncoloredStr) {
		return str
	}
	return str + strings.Repeat(" ", padding-runewidth.StringWidth(uncoloredStr))
}

// ColoredString takes a string and a colour attribute and returns a colored
// string with that attribute
func ColoredString(str string, colorAttribute color.Attribute) string {
	// fatih/color does not have a color.Default attribute, so unless we fork that repo the only way for us to express that we don't want to color a string different to the terminal's default is to not call the function in the first place, but that's annoying when you want a streamlined code path. Because I'm too lazy to fork the repo right now, we'll just assume that by FgWhite you really mean Default, for the sake of supporting users with light themed terminals.
	if colorAttribute == color.FgWhite {
		return str
	}
	colour := color.New(colorAttribute)
	return ColoredStringDirect(str, colour)
}

// ColoredYamlString takes an YAML formatted string and returns a colored string
// with colors hardcoded as:
// keys: cyan
// Booleans: magenta
// Numbers: yellow
// Strings: green
func ColoredYamlString(str string) string {
	format := func(attr color.Attribute) string {
		return fmt.Sprintf("%s[%dm", "\x1b", attr)
	}
	tokens := lexer.Tokenize(str)
	var p printer.Printer
	p.Bool = func() *printer.Property {
		return &printer.Property{
			Prefix: format(color.FgMagenta),
			Suffix: format(color.Reset),
		}
	}
	p.Number = func() *printer.Property {
		return &printer.Property{
			Prefix: format(color.FgYellow),
			Suffix: format(color.Reset),
		}
	}
	p.MapKey = func() *printer.Property {
		return &printer.Property{
			Prefix: format(color.FgCyan),
			Suffix: format(color.Reset),
		}
	}
	p.String = func() *printer.Property {
		return &printer.Property{
			Prefix: format(color.FgGreen),
			Suffix: format(color.Reset),
		}
	}
	return p.PrintTokens(tokens)
}

// MultiColoredString takes a string and an array of colour attributes and returns a colored
// string with those attributes
func MultiColoredString(str string, colorAttribute ...color.Attribute) string {
	colour := color.New(colorAttribute...)
	return ColoredStringDirect(str, colour)
}

// ColoredStringDirect used for aggregating a few color attributes rather than
// just sending a single one
func ColoredStringDirect(str string, colour *color.Color) string {
	return colour.SprintFunc()(fmt.Sprint(str))
}

// NormalizeLinefeeds - Removes all Windows and Mac style line feeds
func NormalizeLinefeeds(str string) string {
	str = strings.Replace(str, "\r\n", "\n", -1)
	str = strings.Replace(str, "\r", "", -1)
	return str
}

// Loader dumps a string to be displayed as a loader
func Loader() string {
	characters := "|/-\\"
	now := time.Now()
	nanos := now.UnixNano()
	index := nanos / 50000000 % int64(len(characters))
	return characters[index : index+1]
}

// ResolvePlaceholderString populates a template with values
func ResolvePlaceholderString(str string, arguments map[string]string) string {
	for key, value := range arguments {
		str = strings.Replace(str, "{{"+key+"}}", value, -1)
	}
	return str
}

// Max returns the maximum of two integers
func Max(x, y int) int {
	if x > y {
		return x
	}
	return y
}

// RenderTable takes an array of string arrays and returns a table containing the values
func RenderTable(rows [][]string) (string, error) {
	if len(rows) == 0 {
		return "", nil
	}
	if !displayArraysAligned(rows) {
		return "", errors.New("Each item must return the same number of strings to display")
	}

	columnPadWidths := getPadWidths(rows)
	paddedDisplayRows := getPaddedDisplayStrings(rows, columnPadWidths)

	return strings.Join(paddedDisplayRows, "\n"), nil
}

// Decolorise strips a string of color
func Decolorise(str string) string {
	re := regexp.MustCompile(`\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[mK]`)
	return re.ReplaceAllString(str, "")
}

func getPadWidths(rows [][]string) []int {
	if len(rows[0]) <= 1 {
		return []int{}
	}
	columnPadWidths := make([]int, len(rows[0])-1)
	for i := range columnPadWidths {
		for _, cells := range rows {
			uncoloredCell := Decolorise(cells[i])

			if runewidth.StringWidth(uncoloredCell) > columnPadWidths[i] {
				columnPadWidths[i] = runewidth.StringWidth(uncoloredCell)
			}
		}
	}
	return columnPadWidths
}

func getPaddedDisplayStrings(rows [][]string, columnPadWidths []int) []string {
	paddedDisplayRows := make([]string, len(rows))
	for i, cells := range rows {
		for j, columnPadWidth := range columnPadWidths {
			paddedDisplayRows[i] += WithPadding(cells[j], columnPadWidth) + " "
		}
		paddedDisplayRows[i] += cells[len(columnPadWidths)]
	}
	return paddedDisplayRows
}

// displayArraysAligned returns true if every string array returned from our
// list of displayables has the same length
func displayArraysAligned(stringArrays [][]string) bool {
	for _, strings := range stringArrays {
		if len(strings) != len(stringArrays[0]) {
			return false
		}
	}
	return true
}

func FormatBinaryBytes(b int) string {
	n := float64(b)
	units := []string{"B", "kiB", "MiB", "GiB", "TiB", "PiB", "EiB", "ZiB", "YiB"}
	for _, unit := range units {
		if n > math.Pow(2, 10) {
			n /= math.Pow(2, 10)
		} else {
			val := fmt.Sprintf("%.2f%s", n, unit)
			if val == "0.00B" {
				return "0B"
			}
			return val
		}
	}
	return "a lot"
}

func FormatDecimalBytes(b int) string {
	n := float64(b)
	units := []string{"B", "kB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"}
	for _, unit := range units {
		if n > math.Pow(10, 3) {
			n /= math.Pow(10, 3)
		} else {
			val := fmt.Sprintf("%.2f%s", n, unit)
			if val == "0.00B" {
				return "0B"
			}
			return val
		}
	}
	return "a lot"
}

func ApplyTemplate(str string, object interface{}) string {
	var buf bytes.Buffer
	_ = template.Must(template.New("").Parse(str)).Execute(&buf, object)
	return buf.String()
}

// GetGocuiAttribute gets the gocui color attribute from the string
func GetGocuiAttribute(key string) gocui.Attribute {
	colorMap := map[string]gocui.Attribute{
		"default":   gocui.ColorDefault,
		"black":     gocui.ColorBlack,
		"red":       gocui.ColorRed,
		"green":     gocui.ColorGreen,
		"yellow":    gocui.ColorYellow,
		"blue":      gocui.ColorBlue,
		"magenta":   gocui.ColorMagenta,
		"cyan":      gocui.ColorCyan,
		"white":     gocui.ColorWhite,
		"bold":      gocui.AttrBold,
		"reverse":   gocui.AttrReverse,
		"underline": gocui.AttrUnderline,
	}
	value, present := colorMap[key]
	if present {
		return value
	}
	return gocui.ColorDefault
}

// GetColorAttribute gets the color attribute from the string
func GetColorAttribute(key string) color.Attribute {
	colorMap := map[string]color.Attribute{
		"default":   color.FgWhite,
		"black":     color.FgBlack,
		"red":       color.FgRed,
		"green":     color.FgGreen,
		"yellow":    color.FgYellow,
		"blue":      color.FgBlue,
		"magenta":   color.FgMagenta,
		"cyan":      color.FgCyan,
		"white":     color.FgWhite,
		"bold":      color.Bold,
		"underline": color.Underline,
	}
	value, present := colorMap[key]
	if present {
		return value
	}
	return color.FgWhite
}

// WithShortSha returns a command but with a shorter SHA. in the terminal we're all used to 10 character SHAs but under the hood they're actually 64 characters long. No need including all the characters when we're just displaying a command
func WithShortSha(str string) string {
	split := strings.Split(str, " ")
	for i, word := range split {
		// good enough proxy for now
		if len(word) == 64 {
			split[i] = word[0:10]
		}
	}
	return strings.Join(split, " ")
}

// FormatMapItem is for displaying items in a map
func FormatMapItem(padding int, k string, v interface{}) string {
	return fmt.Sprintf("%s%s %v\n", strings.Repeat(" ", padding), ColoredString(k+":", color.FgYellow), fmt.Sprintf("%v", v))
}

// FormatMap is for displaying a map
func FormatMap(padding int, m map[string]string) string {
	if len(m) == 0 {
		return "none\n"
	}

	output := "\n"

	keys := make([]string, 0, len(m))
	for key := range m {
		keys = append(keys, key)
	}
	sort.Strings(keys)
	for _, key := range keys {
		output += FormatMapItem(padding, key, m[key])
	}

	return output
}

type multiErr []error

func (m multiErr) Error() string {
	var b bytes.Buffer
	b.WriteString("encountered multiple errors:")
	for _, err := range m {
		b.WriteString("\n\t... " + err.Error())
	}
	return b.String()
}

func CloseMany(closers []io.Closer) error {
	errs := make([]error, 0, len(closers))
	for _, c := range closers {
		err := c.Close()
		if err != nil {
			errs = append(errs, err)
		}
	}
	if len(errs) > 0 {
		return multiErr(errs)
	}
	return nil
}

func SafeTruncate(str string, limit int) string {
	if len(str) > limit {
		return str[0:limit]
	} else {
		return str
	}
}

func IsValidHexValue(v string) bool {
	if len(v) != 4 && len(v) != 7 {
		return false
	}

	if v[0] != '#' {
		return false
	}

	for _, char := range v[1:] {
		switch char {
		case '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'A', 'B', 'C', 'D', 'E', 'F':
			continue
		default:
			return false
		}
	}

	return true
}

// Style used on menu items that open another menu
func OpensMenuStyle(str string) string {
	return ColoredString(fmt.Sprintf("%s...", str), color.FgMagenta)
}

// MarshalIntoYaml gets any json-tagged data and marshal it into yaml saving original json structure.
// Useful for structs from 3rd-party libs without yaml tags.
func MarshalIntoYaml(data interface{}) ([]byte, error) {
	return marshalIntoFormat(data, "yaml")
}

func marshalIntoFormat(data interface{}, format string) ([]byte, error) {
	// First marshal struct->json to get the resulting structure declared by json tags
	dataJSON, err := json.MarshalIndent(data, "", "  ")
	if err != nil {
		return nil, err
	}
	switch format {
	case "json":
		return dataJSON, err
	case "yaml":
		// Use Unmarshal->Marshal hack to convert json into yaml with the original structure preserved
		var dataMirror yaml.MapSlice
		if err := yaml.Unmarshal(dataJSON, &dataMirror); err != nil {
			return nil, err
		}
		return yaml.Marshal(dataMirror)
	default:
		return nil, errors.New(fmt.Sprintf("Unsupported detailization format: %s", format))
	}
}
</file>

<file path="scripts/cheatsheet/main.go">
package main

import (
	"fmt"
	"log"
	"os"

	"github.com/jesseduffield/lazydocker/pkg/cheatsheet"
)

func main() {
	if len(os.Args) < 2 {
		log.Fatal("Please provide a command: one of 'generate', 'check'")
	}

	command := os.Args[1]

	switch command {
	case "generate":
		cheatsheet.Generate()
		fmt.Printf("\nGenerated cheatsheets in %s\n", cheatsheet.GetKeybindingsDir())
	case "check":
		cheatsheet.Check()
	default:
		log.Fatal("\nUnknown command. Expected one of 'generate', 'check'")
	}
}
</file>

<file path="scripts/translations/get_required_translations.go">
package main

import (
	"fmt"
	"reflect"

	"github.com/jesseduffield/lazydocker/pkg/i18n"
)

func main() {
	fmt.Println(getOutstandingTranslations())
}

// adapted from https://github.com/a8m/reflect-examples#read-struct-tags
func getOutstandingTranslations() string {
	output := ""
	for languageCode, translationSet := range i18n.GetTranslationSets() {
		output += languageCode + ":\n"
		v := reflect.ValueOf(translationSet)

		for i := 0; i < v.NumField(); i++ {
			value := v.Field(i).String()
			if value == "" {
				output += v.Type().Field(i).Name + "\n"
			}
		}
		output += "\n"
	}
	return output
}
</file>

<file path="scripts/bump_gocui.sh">
# Go's proxy servers are not very up-to-date so that's why we use `GOPROXY=direct`
# We specify the `awesome` branch to avoid the default behaviour of looking for a semver tag.
GOPROXY=direct go get -u github.com/jesseduffield/gocui@awesome && go mod vendor && go mod tidy

# Note to self if you ever want to fork a repo be sure to use this same approach: it's important to use the branch name (e.g. master)
</file>

<file path="scripts/bump_lazycore.sh">
# Go's proxy servers are not very up-to-date so that's why we use `GOPROXY=direct`
# We specify the `awesome` branch to avoid the default behaviour of looking for a semver tag.
GOPROXY=direct go get -u github.com/jesseduffield/lazycore@master && go mod vendor && go mod tidy

# Note to self if you ever want to fork a repo be sure to use this same approach: it's important to use the branch name (e.g. master)
</file>

<file path="scripts/install_update_linux.sh">
#!/bin/bash

# allow specifying different destination directory
DIR="${DIR:-"$HOME/.local/bin"}"

# map different architecture variations to the available binaries
ARCH=$(uname -m)
case $ARCH in
    i386|i686) ARCH=x86 ;;
    armv6*) ARCH=armv6 ;;
    armv7*) ARCH=armv7 ;;
    aarch64*) ARCH=arm64 ;;
esac

# prepare the download URL
GITHUB_LATEST_VERSION=$(curl -L -s -H 'Accept: application/json' https://github.com/jesseduffield/lazydocker/releases/latest | sed -e 's/.*"tag_name":"\([^"]*\)".*/\1/')
GITHUB_FILE="lazydocker_${GITHUB_LATEST_VERSION//v/}_$(uname -s)_${ARCH}.tar.gz"
GITHUB_URL="https://github.com/jesseduffield/lazydocker/releases/download/${GITHUB_LATEST_VERSION}/${GITHUB_FILE}"

# install/update the local binary
curl -L -o lazydocker.tar.gz $GITHUB_URL
tar xzvf lazydocker.tar.gz lazydocker
install -Dm 755 lazydocker -t "$DIR"
rm lazydocker lazydocker.tar.gz
</file>

<file path="test/docker-compose.yml">
version: "3.5"
services:
  my-service:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    depends_on:
      - my-service2
    ports:
      - 123:321

  my-service2:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    ports:
      - 12345:12345

  my-service3:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
</file>

<file path="test/Dockerfile">
FROM alpine:latest

COPY . /app
</file>

<file path="test/print-random-stuff.sh">
#!/bin/sh

while true
do
  echo $((1 + $RANDOM % 10))
  sleep 1
done
</file>

<file path=".dockerignore">
.circleci
.github
docs
test
.gitignore
.goreleaser.yml
*.md
coverage.txt
Dockerfile
LICENSE
test.sh
.git
</file>

<file path=".gitignore">
lazydocker*
TODO.md
Lazydocker.code-workspace
.vscode
.idea
</file>

<file path=".golangci.yml">
linters:
  enable:
    - gofumpt
    - thelper
    - goimports
    - tparallel
    - wastedassign
    - unparam
    - prealloc
    - unconvert
    - exhaustive
    - makezero
    - nakedret
    # - goconst # TODO: enable and fix issues
  fast: false

linters-settings:
  exhaustive:
    default-signifies-exhaustive: true

  nakedret:
    # the gods will judge me but I just don't like naked returns at all
    max-func-lines: 0

run:
  go: '1.21'
  timeout: 10m
</file>

<file path=".goreleaser.yml">
# This is an example goreleaser.yaml file with some sane defaults.
# Make sure to check the documentation at http://goreleaser.com
env:
  - CGO_ENABLED=0
  - GOFLAGS=-mod=vendor
  - GO111MODULE=auto

builds:
  - id: binary
    goos:
      # - freebsd
      - windows
      - darwin
      - linux
    goarch:
      - amd64
      - arm
      - arm64
      - 386
    goarm:
      - 6
      - 7
    ldflags:
      - -s -w -X main.version={{.Version}} -X main.commit={{.Commit}} -X main.date={{.Date}} -X main.buildSource=binaryRelease
  - id: snap
    goos:
      - linux
    goarch:
      - amd64
      - arm
      - arm64
      - 386
    ldflags:
      - -s -w -X main.version={{.Version}} -X main.commit={{.Commit}} -X main.date={{.Date}} -X main.buildSource=snap

archives:
  - builds:
      - binary
    replacements:
      darwin: Darwin
      linux: Linux
      windows: Windows
      386: x86
      amd64: x86_64
    format_overrides:
      - goos: windows
        format: zip

checksum:
  name_template: "checksums.txt"

snapshot:
  name_template: "{{ .Tag }}-next"

changelog:
  sort: asc
  filters:
    exclude:
      - "^docs:"
      - "^test:"
      - "^bump"

brews:
  - tap:
      owner: jesseduffield
      name: homebrew-lazydocker

    # Your app's homepage.
    # Default is empty.
    homepage: "https://github.com/jesseduffield/lazydocker/"

    # Your app's description.
    # Default is empty.
    description: "A simple terminal UI for docker, written in Go"
#snapcrafts:
#  - builds:
#      - snap
#
#    replacements:
#      linux: Linux
#      386: x86
#      amd64: x86_64
#
#    # Wether to publish the snap to the snapcraft store.
#    # Remember you need to `snapcraft login` first.
#    # Defaults to false.
#    publish: false
#
#    # Single-line elevator pitch for your amazing snap.
#    # 79 char long at most.
#    summary: The lazier way to manage everything docker
#
#    # This the description of your snap. You have a paragraph or two to tell the
#    # most important story about your snap. Keep it under 100 words though,
#    # we live in tweetspace and your description wants to look good in the snap
#    # store.
#    description: 'A simple terminal UI for docker, written in Go'
#
#    # A guardrail to prevent you from releasing a snap to all your users before
#    # it is ready.
#    # `devel` will let you release only to the `edge` and `beta` channels in the
#    # store. `stable` will let you release also to the `candidate` and `stable`
#    # channels. More info about channels here:
#    # https://snapcraft.io/docs/reference/channels
#    # TODO: reset to `stable` when we've been manually reviewed: https://forum.snapcraft.io/t/request-for-classic-confinement-for-lazydocker/12155
#    grade: devel
#
#    # Snaps can be setup to follow three different confinement policies:
#    # `strict`, `devmode` and `classic`. A strict confinement where the snap
#    # can only read and write in its own namespace is recommended. Extra
#    # permissions for strict snaps can be declared as `plugs` for the app, which
#    # are explained later. More info about confinement here:
#    # https://snapcraft.io/docs/reference/confinement
#    confinement: classic
#
#    # Your app's license, based on SPDX license expressions: https://spdx.org/licenses
#    # Default is empty.
#    license: MIT
#
#    # # Each binary built by GoReleaser is an app inside the snap. In this section
#    # # you can declare extra details for those binaries. It is optional.
#    # apps:
#
#    #   # The name of the app must be the same name as the binary built or the snapcraft name.
#    #   lazydocker:
#
#    #     # If your app requires extra permissions to work outside of its default
#    #     # confined space, declare them here.
#    #     # You can read the documentation about the available plugs and the
#    #     # things they allow:
#    #     # https://snapcraft.io/docs/reference/interfaces.
#    #     plugs: []
</file>

<file path="CODE-OF-CONDUCT.md">
# Contributor Covenant Code of Conduct

## Our Pledge

In the interest of fostering an open and welcoming environment, we as
contributors and maintainers pledge to making participation in our project and
our community a harassment-free experience for everyone, regardless of age, body
size, disability, ethnicity, sex characteristics, gender identity and expression,
level of experience, education, socio-economic status, nationality, personal
appearance, race, religion, or sexual identity and orientation.

## Our Standards

Examples of behavior that contributes to creating a positive environment
include:

* Using welcoming and inclusive language
* Being respectful of differing viewpoints and experiences
* Gracefully accepting constructive criticism
* Focusing on what is best for the community
* Showing empathy towards other community members

Examples of unacceptable behavior by participants include:

* The use of sexualized language or imagery and unwelcome sexual attention or
  advances
* Trolling, insulting/derogatory comments, and personal or political attacks
* Public or private harassment
* Publishing others' private information, such as a physical or electronic
  address, without explicit permission
* Other conduct which could reasonably be considered inappropriate in a
  professional setting

## Our Responsibilities

Project maintainers are responsible for clarifying the standards of acceptable
behavior and are expected to take appropriate and fair corrective action in
response to any instances of unacceptable behavior.

Project maintainers have the right and responsibility to remove, edit, or
reject comments, commits, code, wiki edits, issues, and other contributions
that are not aligned to this Code of Conduct, or to ban temporarily or
permanently any contributor for other behaviors that they deem inappropriate,
threatening, offensive, or harmful.

## Scope

This Code of Conduct applies both within project spaces and in public spaces
when an individual is representing the project or its community. Examples of
representing a project or community include using an official project e-mail
address, posting via an official social media account, or acting as an appointed
representative at an online or offline event. Representation of a project may be
further defined and clarified by project maintainers.

## Enforcement

Instances of abusive, harassing, or otherwise unacceptable behavior may be
reported by contacting the [project leader](https://github.com/jesseduffield). 
All complaints will be reviewed and investigated and will result in a response that
complaints will be reviewed and investigated and will result in a response that
is deemed necessary and appropriate to the circumstances. The project team is
obligated to maintain confidentiality with regard to the reporter of an incident.
Further details of specific enforcement policies may be posted separately.

Project maintainers who do not follow or enforce the Code of Conduct in good
faith may face temporary or permanent repercussions as determined by other
members of the project's leadership.

## Attribution

This Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4,
available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html

[homepage]: https://www.contributor-covenant.org
</file>

<file path="CONTRIBUTING.md">
# Contributing

Wanna learn Go? This is the project for you!

When contributing to this repository, please first discuss the change you wish
to make via issue, email, or any other method with the owners of this repository
before making a change.

## So all code changes happen through Pull Requests

Pull requests are the best way to propose changes to the codebase. We actively
welcome your pull requests:

1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests.
3. If you've added code that need documentation, update the documentation.
4. Make sure your code follows the [effective go](https://golang.org/doc/effective_go.html) guidelines as much as possible.
5. Be sure to test your modifications.
6. Write a [good commit message](http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html).
7. Issue that pull request!

## Vendoring

We use a vendor directory to store all dependent files. A vendor directory ensures a single source of truth, so that it's clear in each PR what changes are being made, as well as allowing quick testing-out of ideas across various dependent package, or searching the files in your dependent packages via your editor.

BUT this currently comes at a cost. I have begrudgingly migrated from dep to go modules, and go modules are still working on their support for vendor directories:
https://github.com/golang/go/issues/27227
https://github.com/golang/go/issues/30240

This means there is a little overhead in working with the code base. If you need to make changes to dependent packages, you have two approaches you can take:

# 1)

a) Set `export GOFLAGS=-mod=vendor` in your ~/.bashrc file
b) use `go run main.go` to run lazydocker
c) if you need to bump a dependency e.g. jesseduffield/gocui, use

```
GOFLAGS= go get -u github.com/jesseduffield/gocui@master
go mod tidy
go mod vendor
```

# 2)

a) don't worry about your ~/.bashrc file
b) use `go run -mod=vendor main.go` to run lazydocker
c) if you need to bump a dependency e.g. jesseduffield/gocui, use

```
go get -u github.com/jesseduffield/gocui@master
go mod tidy
go mod vendor
```

Hopefully this will be much more streamlined in the future :)

## Code of conduct

Please note by participating in this project, you agree to abide by the [code of conduct].

[code of conduct]: https://github.com/jesseduffield/lazydocker/blob/master/CODE-OF-CONDUCT.md

## Any contributions you make will be under the MIT Software License

In short, when you submit code changes, your submissions are understood to be
under the same [MIT License](http://choosealicense.com/licenses/mit/) that
covers the project. Feel free to contact the maintainers if that's a concern.

## Report bugs using Github's [issues](https://github.com/jesseduffield/lazydocker/issues)

We use GitHub issues to track public bugs. Report a bug by [opening a new
issue](https://github.com/jesseduffield/lazydocker/issues/new); it's that easy!
</file>

<file path="coverage.txt">
mode: atomic
mode: atomic
mode: atomic
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:341.36,343.16 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:343.16,344.13 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:347.2,462.3 1 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:479.157,481.16 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:481.16,483.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:485.2,486.16 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:486.16,488.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:491.2,491.27 1 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:491.27,493.3 1 2
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:495.2,507.23 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:510.67,512.24 2 8
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:512.24,514.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:515.2,516.32 2 8
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:519.43,521.67 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:521.67,523.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:524.2,525.24 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:528.64,532.16 3 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:532.16,534.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:536.2,536.20 1 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:539.72,543.2 2 4
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:545.78,548.45 2 6
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:548.45,549.25 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:549.25,551.18 2 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:551.18,553.5 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:554.4,554.16 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:555.9,557.4 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:560.2,561.16 2 6
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:561.16,563.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:565.2,565.54 1 6
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:565.54,567.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:569.2,569.18 1 6
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:576.83,578.16 2 2
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:578.16,580.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:582.2,582.49 1 2
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:582.49,584.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:586.2,587.16 2 2
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:587.16,589.3 1 0
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:591.2,591.49 1 2
github.com/jesseduffield/lazydocker/pkg/config/app_config.go:595.45,597.2 1 4
github.com/jesseduffield/lazydocker/pkg/config/config_default_platform.go:7.42,12.2 1 4
mode: atomic
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:29.50,31.54 2 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:31.54,33.3 1 2
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:34.2,35.31 2 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:35.31,37.3 1 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:38.2,38.14 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:42.50,44.33 2 8
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:44.33,46.3 1 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:47.2,47.61 1 7
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:52.71,54.37 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:54.37,56.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:57.2,58.41 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:67.43,68.46 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:68.46,70.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:71.2,73.36 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:73.36,78.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:79.2,79.38 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:79.38,84.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:85.2,85.38 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:85.38,90.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:91.2,91.38 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:91.38,96.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:97.2,97.30 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:102.79,105.2 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:109.66,111.2 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:114.44,118.2 3 4
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:121.22,127.2 5 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:130.79,131.36 1 7
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:131.36,133.3 1 5
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:134.2,134.12 1 7
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:138.24,139.11 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:139.11,141.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:142.2,142.10 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:146.59,147.28 1 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:147.28,149.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:150.2,150.41 1 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:150.41,152.3 1 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:154.2,157.54 3 2
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:161.36,164.2 2 16
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:166.50,167.31 1 5
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:167.31,169.3 1 2
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:170.2,171.27 2 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:171.27,172.40 1 4
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:172.40,174.43 2 8
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:174.43,176.5 1 4
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:179.2,179.18 1 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:182.81,184.43 2 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:184.43,185.28 1 6
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:185.28,186.12 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:188.3,188.38 1 6
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:188.38,190.4 1 6
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:191.3,191.57 1 6
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:193.2,193.29 1 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:198.57,199.39 1 5
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:199.39,200.43 1 10
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:200.43,202.4 1 2
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:204.2,204.13 1 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:207.38,210.29 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:210.29,211.26 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:211.26,213.4 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:213.9,215.22 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:215.22,217.5 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:218.4,218.14 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:221.2,221.16 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:224.39,227.29 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:227.29,228.26 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:228.26,230.4 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:230.9,232.22 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:232.22,234.5 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:235.4,235.14 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:238.2,238.16 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:241.59,245.2 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:248.52,264.13 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:264.13,266.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:267.2,267.27 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:271.52,286.13 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:286.13,288.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:289.2,289.22 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:293.38,295.29 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:295.29,297.22 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:297.22,299.4 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:301.2,301.33 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:305.65,307.2 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:310.57,311.17 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:311.17,313.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:315.2,318.21 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:318.21,320.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:321.2,322.27 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:322.27,324.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:326.2,326.15 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:331.34,334.24 3 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:334.24,336.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:337.2,337.19 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:340.43,342.28 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:342.28,344.17 2 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:344.17,346.4 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:348.2,348.19 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:348.19,350.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:351.2,351.12 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:354.49,355.22 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:355.22,357.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:357.8,359.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:362.37,363.32 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:363.32,365.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:367.2,367.17 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:367.17,369.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:371.2,371.29 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:371.29,372.15 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:373.117,374.12 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:375.11,376.16 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:380.2,380.13 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:384.40,386.2 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:390.56,392.2 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:394.73,397.16 2 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:397.16,399.3 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:400.2,400.16 1 3
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:401.14,402.23 1 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:403.14,406.63 2 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:406.63,408.4 1 0
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:409.3,409.34 1 1
github.com/jesseduffield/lazydocker/pkg/utils/utils.go:410.10,411.86 1 1
mode: atomic
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:20.51,22.36 2 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:22.36,23.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:23.26,25.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:27.2,27.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:30.55,38.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:40.50,41.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:41.26,43.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:44.2,45.39 2 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:45.39,47.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:48.2,48.23 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:52.70,53.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:53.12,56.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:56.16,58.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:60.3,60.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:60.13,63.23 3 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:63.23,65.24 2 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:65.24,67.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:68.5,68.75 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:68.75,70.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:74.3,74.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:74.29,75.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:75.42,77.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/app_status_manager.go:81.2,81.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:16.110,20.52 4 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:20.52,22.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:24.2,28.18 4 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:28.18,30.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:32.2,34.21 3 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:34.21,36.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:38.2,64.60 2 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:67.51,76.68 5 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:76.68,79.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:79.8,80.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:80.42,82.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:82.9,82.49 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:82.49,84.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:87.2,87.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:90.95,93.24 2 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:93.24,100.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:102.2,102.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:102.29,113.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:115.2,129.15 2 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:132.42,133.100 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:133.100,135.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:137.2,137.83 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:137.83,139.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:142.75,146.80 3 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:146.80,147.55 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:147.55,148.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:148.31,153.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:153.10,158.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:161.3,161.76 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:161.76,163.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:165.8,165.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:165.25,167.66 2 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:167.66,168.59 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:168.59,173.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:175.4,175.21 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:178.3,183.76 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:183.76,185.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:186.8,188.19 2 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:188.19,190.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:192.3,192.62 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:192.62,193.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:193.31,198.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:198.10,203.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:206.3,206.76 1 0
github.com/jesseduffield/lazydocker/pkg/gui/arrangement.go:206.76,208.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:16.127,17.49 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:17.49,18.55 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:18.55,20.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:22.3,22.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:22.22,23.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:23.41,25.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:28.3,28.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:32.49,33.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:33.42,35.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:36.2,38.12 3 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:41.76,45.10 3 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:45.10,46.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:46.30,48.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:49.8,51.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:52.2,52.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:55.95,63.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:65.106,68.16 3 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:68.16,70.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:71.2,72.54 2 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:75.86,79.16 4 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:79.16,81.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:82.2,83.15 2 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:83.15,85.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:86.2,88.40 3 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:88.40,90.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:91.2,91.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:94.35,97.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:102.133,104.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:106.142,108.40 2 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:108.40,109.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:109.46,110.56 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:110.56,112.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:114.3,115.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:115.17,117.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:118.3,119.69 2 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:119.69,121.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:122.3,122.59 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:124.2,124.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:127.116,129.135 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:129.135,131.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:132.2,132.124 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:132.124,134.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:136.2,136.131 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:136.131,138.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:139.2,139.122 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:139.122,141.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:143.2,143.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:146.56,150.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/confirmation_panel.go:152.51,158.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:19.89,21.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:21.64,23.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:26.41,26.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:32.127,34.15 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:34.15,36.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:38.2,40.73 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:40.73,42.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:46.2,48.6 3 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:48.6,49.10 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:50.21,51.10 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:52.19,54.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:54.18,58.5 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:59.4,59.28 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:59.28,61.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:66.67,71.12 4 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:71.12,75.3 3 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:77.2,77.40 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:77.40,80.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:82.2,82.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:82.15,83.40 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:83.40,85.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:88.2,88.74 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:88.74,91.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:93.2,93.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:96.34,97.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:97.50,101.41 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:101.41,103.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:107.112,116.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:116.16,118.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:120.2,120.63 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:120.63,122.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:122.17,124.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:125.8,127.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:127.17,129.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/container_logs.go:132.2,132.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:22.81,24.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:24.68,25.54 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:25.54,27.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:29.3,29.98 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:29.98,31.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:34.2,36.62 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:36.62,64.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:65.71,72.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:82.65,84.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:85.52,89.89 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:89.89,91.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:93.4,93.80 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:93.80,95.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:97.4,97.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:109.89,110.16 1 7
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:110.16,112.3 1 3
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:114.2,116.29 3 4
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:116.29,118.3 1 1
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:120.2,120.80 1 3
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:123.82,124.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:124.53,124.91 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:127.68,128.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:128.32,130.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:132.2,132.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:132.44,134.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:136.2,136.90 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:136.90,140.24 4 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:140.24,142.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:143.3,146.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:149.2,150.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:150.16,153.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:155.2,155.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:158.85,159.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:159.53,159.97 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:162.74,163.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:163.32,165.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:167.2,177.39 10 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:177.39,179.50 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:179.50,180.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:180.30,182.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:182.10,184.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:186.8,188.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:190.2,191.54 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:191.54,193.61 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:193.61,194.27 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:194.27,196.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:198.8,200.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:202.2,203.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:203.16,205.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:207.2,209.15 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:212.84,214.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:214.64,216.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:216.18,218.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:220.4,220.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:223.41,223.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:229.82,231.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:231.64,233.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:233.18,235.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:237.4,237.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:240.41,240.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:246.54,247.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:247.33,250.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:253.2,260.16 4 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:260.16,262.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:264.2,268.23 3 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:268.23,269.63 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:269.63,270.40 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:270.40,271.37 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:271.37,272.11 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:274.5,275.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:280.2,280.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:283.53,284.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:284.46,285.60 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:285.60,287.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:290.2,290.61 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:290.61,292.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:294.2,294.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:297.80,301.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:303.79,305.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:305.16,307.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:309.2,309.82 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:309.82,310.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:310.68,311.58 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:311.58,312.63 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:312.63,313.132 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:313.132,314.72 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:314.72,317.8 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:320.5,320.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:322.4,322.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:326.2,329.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:329.31,329.95 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:333.31,333.114 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:337.2,340.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:343.69,344.72 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:344.72,345.37 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:345.37,347.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:347.9,349.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:351.3,351.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:351.17,353.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:355.3,355.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:359.73,361.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:361.16,363.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:365.2,365.38 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:368.72,370.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:370.16,372.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:374.2,374.115 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:374.115,375.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:375.68,376.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:376.43,378.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:380.4,380.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:385.75,387.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:387.16,389.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:391.2,391.69 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:391.69,392.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:392.45,394.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:396.3,396.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:400.74,402.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:402.16,404.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:406.2,407.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:407.16,409.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:411.2,411.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:414.47,415.124 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:415.124,416.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:416.67,418.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:418.18,420.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:421.4,421.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:426.76,428.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:428.16,430.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:432.2,434.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:437.78,439.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:439.16,441.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:443.2,443.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:446.73,456.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:458.82,460.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:460.16,462.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:464.2,470.67 3 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:473.46,474.123 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:474.123,475.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:475.68,476.71 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:476.71,477.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:477.44,479.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:482.4,482.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:487.48,488.125 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:488.125,489.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:489.68,490.71 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:490.71,491.93 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:491.93,493.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:496.4,496.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:501.80,521.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:524.89,526.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:526.16,528.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:530.2,530.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:533.77,535.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:535.41,537.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:539.2,540.19 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:540.19,542.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:543.2,544.21 2 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:544.21,546.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/containers_panel.go:547.2,548.37 2 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:12.154,13.96 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:13.96,16.27 2 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:16.27,17.39 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:17.39,19.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:21.4,22.21 2 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:22.21,24.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:27.4,27.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:27.22,29.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:31.4,31.61 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:31.61,32.69 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:32.69,34.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:35.5,35.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:39.3,45.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:48.2,51.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:54.124,56.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/custom_commands.go:58.122,60.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:9.42,11.9 2 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:11.9,13.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:15.2,15.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:15.30,17.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:19.2,22.42 3 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:25.55,29.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:31.169,32.78 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:32.78,34.14 2 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:34.14,35.73 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:35.73,37.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:39.3,39.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:43.44,44.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:44.42,46.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:48.2,48.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:51.37,58.18 6 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:58.18,60.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:62.2,64.29 2 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:68.38,69.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:69.35,70.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:70.43,72.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:75.2,75.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/filtering.go:78.39,80.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:8.53,9.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:9.14,11.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:13.2,14.8 2 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:14.8,16.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:18.2,18.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:19.22,20.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:21.14,23.13 2 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:24.16,25.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:26.10,27.59 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:32.56,37.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:39.59,43.64 4 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:43.64,45.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:47.2,49.49 2 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:49.49,51.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:53.2,55.106 2 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:55.106,56.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:56.43,58.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:62.2,62.40 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:62.40,64.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:66.2,66.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:69.37,73.35 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:73.35,75.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:77.2,79.16 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:79.16,81.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:83.2,83.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:86.55,90.89 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:90.89,92.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:96.39,99.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:99.22,100.90 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:100.90,102.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:106.2,106.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:106.44,108.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:111.2,111.89 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:111.89,113.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:115.2,115.57 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:119.48,123.53 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:123.53,124.65 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:124.65,126.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:129.2,129.39 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:132.46,137.39 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:137.39,140.49 3 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:140.49,142.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/focus.go:145.2,145.39 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:25.52,26.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:26.32,29.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:31.2,32.13 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:32.13,34.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:35.2,35.27 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:39.51,41.27 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:41.27,43.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gocui.go:44.2,44.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:118.189,147.2 5 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:149.45,157.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:159.72,161.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:161.12,164.22 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:164.22,165.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:165.34,167.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:169.4,169.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:175.29,180.16 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:180.16,182.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:183.2,186.50 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:186.50,188.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:190.2,194.65 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:194.65,196.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:198.2,198.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:198.45,200.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:202.2,205.12 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:205.12,206.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:206.34,207.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:207.18,208.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:210.4,210.58 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:210.58,213.13 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:215.4,215.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:219.2,221.45 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:221.45,223.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:224.2,224.52 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:224.52,226.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:229.2,231.42 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:231.42,233.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:235.2,235.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:235.32,238.17 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:238.17,240.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:242.3,242.47 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:242.47,244.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:247.2,253.12 5 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:253.12,261.3 5 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:263.2,264.26 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:264.26,266.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:267.2,267.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:270.29,280.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:282.48,284.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:286.27,287.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:287.12,288.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:288.46,290.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:292.2,292.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:292.12,293.60 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:293.60,295.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:297.2,297.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:297.12,298.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:298.45,300.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:302.2,302.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:302.12,303.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:303.46,305.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:307.2,307.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:307.12,308.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:308.44,310.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:314.70,317.29 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:317.29,318.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:318.17,320.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:321.3,322.30 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:325.1,326.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:326.6,329.21 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:329.21,330.11 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:331.22,332.11 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:333.26,335.19 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:336.12,345.19 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:349.3,349.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:349.7,350.11 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:351.22,352.11 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:353.34,359.62 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:360.26,362.19 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:369.47,371.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:373.38,375.21 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:375.21,377.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:378.2,378.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:378.26,379.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:379.41,381.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:383.2,383.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:386.57,387.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:387.41,388.102 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:388.102,390.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:392.2,392.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:397.32,398.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:398.29,400.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:402.2,402.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:405.65,406.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:406.18,408.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:410.2,411.29 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:411.29,413.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:414.2,414.76 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:417.49,419.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:419.16,421.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:423.2,423.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:426.49,427.57 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:427.57,429.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:430.2,430.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:433.72,434.98 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:434.98,437.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:440.48,441.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:441.44,443.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:445.2,446.13 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:449.51,450.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:450.46,452.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:453.2,453.21 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:456.42,458.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:460.40,461.38 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:461.38,461.52 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:464.60,469.6 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:469.6,470.10 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:471.21,472.10 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:473.19,474.71 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:474.71,475.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:475.35,477.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:486.32,488.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:488.16,489.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:491.2,493.45 3 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:493.45,494.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/gui.go:497.2,497.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:21.73,26.58 2 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:26.58,34.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:35.63,37.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:45.57,46.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:46.50,48.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:50.4,50.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:50.50,52.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:54.4,54.24 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:54.24,56.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:58.4,58.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:58.22,60.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:62.4,62.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:68.77,70.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:70.32,70.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:76.62,86.16 9 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:86.16,88.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:90.2,92.15 2 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:95.38,96.49 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:96.49,98.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:100.2,100.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:103.44,105.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:105.16,107.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:109.2,111.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:114.55,115.79 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:115.79,117.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:119.2,119.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:122.75,130.16 3 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:130.16,132.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:134.2,160.86 3 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:160.86,166.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:166.26,167.62 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:167.62,169.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:171.5,171.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:176.2,179.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:182.43,183.120 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:183.120,184.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:184.67,186.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:186.18,188.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:189.4,189.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:194.78,196.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:196.16,198.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:200.2,206.67 3 0
github.com/jesseduffield/lazydocker/pkg/gui/images_panel.go:209.76,221.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:21.35,24.22 2 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:25.12,26.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:27.17,28.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:32.2,32.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:33.10,34.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:35.10,36.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:37.10,38.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:39.13,40.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:41.13,42.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:43.13,44.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:45.13,46.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:47.13,48.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:49.13,50.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:53.2,53.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:57.52,514.44 2 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:514.44,523.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:525.2,525.112 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:525.112,535.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:537.2,537.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:537.44,539.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:541.2,543.44 2 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:543.44,567.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:569.2,569.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:569.44,570.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:570.32,578.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:581.2,581.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:584.49,587.35 2 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:587.35,588.107 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:588.107,590.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:593.2,593.73 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:593.73,595.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:597.2,597.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:600.73,601.49 1 0
github.com/jesseduffield/lazydocker/pkg/gui/keybindings.go:601.49,603.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:10.59,12.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:12.34,14.45 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:14.45,16.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:18.3,18.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:18.67,22.4 3 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:23.3,23.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:27.39,29.37 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:29.37,31.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:32.2,32.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:35.65,36.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:36.14,38.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:40.2,40.39 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:40.39,42.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:45.2,47.40 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:50.40,51.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:51.14,53.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:55.2,57.42 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:61.44,69.89 5 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:69.89,73.17 3 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:73.17,75.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:77.3,77.10 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:77.10,85.4 3 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:87.3,88.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:88.17,90.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:91.3,101.19 3 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:104.2,104.57 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:104.57,106.58 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:106.58,108.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:115.2,115.39 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:118.52,119.17 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:119.17,121.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:123.2,124.8 2 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:124.8,126.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/layout.go:129.67,133.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:9.38,15.2 5 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:17.40,23.49 5 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:23.49,26.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:28.2,29.36 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:29.36,31.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:33.2,33.74 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:36.67,42.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:44.68,50.30 5 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:50.30,51.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:51.43,53.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:56.2,57.43 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:57.43,59.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:61.2,61.74 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:64.67,67.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:69.66,74.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:76.52,81.9 3 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:81.9,83.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:85.2,86.40 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:89.68,94.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:96.67,99.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:101.41,102.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:102.29,104.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:106.2,108.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:108.34,110.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/main_panel.go:112.2,112.40 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:16.71,27.28 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:27.28,29.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:38.61,39.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:39.46,41.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:43.2,43.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:43.29,45.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:47.2,47.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:50.41,52.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:52.16,54.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:56.2,56.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:59.52,60.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:60.22,64.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:64.26,66.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:70.2,72.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:72.34,73.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:73.31,75.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:77.3,77.21 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:77.21,79.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:81.3,81.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:84.2,84.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:84.34,85.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:85.45,89.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:92.2,95.55 3 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:95.55,97.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:99.2,102.40 3 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:107.43,114.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:116.41,121.47 2 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:121.47,122.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:122.43,124.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:129.3,129.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/menu_panel.go:132.2,132.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:18.77,21.60 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:21.60,29.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:30.67,32.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:43.61,45.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:50.79,51.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:51.53,51.93 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:54.68,67.41 12 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:67.41,69.48 2 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:69.48,71.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:72.8,74.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:76.2,80.15 4 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:83.40,84.51 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:84.51,86.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:88.2,88.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:91.46,93.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:93.16,95.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:97.2,99.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:102.77,104.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:104.16,106.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:108.2,120.88 3 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:120.88,123.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:123.26,124.70 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:124.70,125.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:125.45,127.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:128.6,128.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:134.2,137.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:140.45,141.122 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:141.122,142.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:142.67,144.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:144.18,146.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:147.4,147.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:152.80,154.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:154.16,156.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:158.2,164.67 3 0
github.com/jesseduffield/lazydocker/pkg/gui/networks_panel.go:167.78,179.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:10.55,15.35 3 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:15.35,16.58 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:16.58,17.28 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:18.12,19.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:20.18,21.51 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:27.2,27.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:27.25,29.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:29.36,30.59 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:30.59,31.48 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:31.48,33.47 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:33.47,34.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:34.50,35.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:38.6,38.52 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:46.2,47.49 2 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:50.76,51.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:51.32,53.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:55.2,55.88 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:55.88,58.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:58.26,59.27 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:59.27,61.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:63.5,63.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/options_menu_panel.go:68.2,72.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels.go:5.45,7.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:22.76,25.60 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:25.60,26.49 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:26.49,44.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:46.5,52.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:54.67,56.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:66.61,68.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:75.40,78.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:80.41,82.46 2 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:82.46,83.66 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:83.66,85.53 2 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:85.53,87.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:91.2,91.20 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:94.74,95.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:95.53,95.80 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:98.37,113.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:115.74,119.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:119.35,135.14 7 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:135.14,137.51 2 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:137.51,139.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:142.4,142.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:147.86,148.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:148.53,150.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:153.69,155.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:157.69,159.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:161.31,172.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:175.70,177.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:177.16,179.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/project_panel.go:181.2,181.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:20.77,23.60 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:23.60,51.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:52.67,53.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:53.33,55.6 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:56.5,56.107 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:66.61,67.48 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:67.48,69.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:71.4,71.48 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:71.48,73.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:75.4,75.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:78.21,80.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:84.88,85.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:85.30,86.54 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:86.54,86.83 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:89.2,89.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:92.85,93.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:93.30,94.54 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:94.54,94.83 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:97.2,97.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:100.78,101.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:101.30,102.54 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:102.54,102.83 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:105.2,105.52 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:108.76,110.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:110.64,112.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:112.18,114.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:116.4,116.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:119.41,119.64 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:125.77,126.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:126.30,127.54 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:127.54,127.93 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:130.2,130.57 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:139.54,141.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:143.76,145.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:145.16,147.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:149.2,162.82 3 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:162.82,165.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:165.26,166.70 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:166.70,167.69 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:167.69,169.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:171.6,171.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:177.2,180.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:183.71,185.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:185.16,187.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:188.2,188.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:188.30,190.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:192.2,192.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:195.70,197.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:197.16,199.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:201.2,201.113 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:201.113,202.68 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:202.68,203.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:203.41,205.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:207.4,207.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:212.68,214.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:214.16,216.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:218.2,218.72 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:218.72,219.38 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:219.38,221.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:223.3,223.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:227.73,229.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:229.16,231.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:233.2,233.69 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:233.69,234.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:234.43,236.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:238.3,238.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:242.71,244.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:244.16,246.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:248.2,248.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:248.67,249.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:249.41,251.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:253.3,253.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:257.72,259.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:259.16,261.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:263.2,263.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:263.30,265.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:267.2,268.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:268.16,270.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:272.2,272.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:275.82,277.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:277.16,279.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:281.2,282.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:282.16,284.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:286.2,286.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:289.68,290.118 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:290.118,296.73 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:296.73,297.59 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:297.59,299.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:300.4,300.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:305.70,320.26 3 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:320.26,321.69 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:321.69,322.66 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:322.66,324.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:325.6,325.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:332.26,333.69 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:333.69,334.77 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:334.77,336.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:337.6,337.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:343.2,343.82 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:343.82,348.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:350.2,353.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:356.77,358.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:358.16,360.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:362.2,379.26 3 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:379.26,380.72 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:380.72,381.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:381.46,383.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:384.6,384.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:394.26,395.72 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:395.72,396.70 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:396.70,398.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:399.6,399.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:409.26,411.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:415.2,415.82 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:415.82,420.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:422.2,425.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:428.80,430.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:430.16,432.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:434.2,444.44 4 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:444.44,445.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:445.33,447.14 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:449.3,449.48 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:449.48,450.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:450.35,453.15 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:458.2,458.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:458.30,460.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:462.2,462.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:465.78,470.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:472.76,474.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:474.16,476.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:478.2,479.22 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:479.22,481.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:483.2,483.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:486.87,488.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:488.16,490.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:492.2,493.22 2 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:493.22,495.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/services_panel.go:497.2,497.46 1 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:15.52,19.40 3 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:19.40,21.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:23.2,27.39 3 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:27.39,29.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:31.2,33.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:36.43,44.12 6 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:44.12,48.49 3 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:48.49,50.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:53.2,55.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:55.34,59.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/subprocess.go:61.2,65.22 4 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:10.62,12.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:34.79,38.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:38.35,40.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:43.2,43.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:47.84,53.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:55.55,56.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:56.35,62.3 4 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:68.67,71.36 2 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:71.36,72.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:72.25,74.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:75.3,79.7 4 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:79.7,80.11 1 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:81.25,83.11 2 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:84.22,86.11 2 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:87.22,89.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/tasks_adapter.go:94.2,100.30 2 0
github.com/jesseduffield/lazydocker/pkg/gui/theme.go:8.60,10.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/theme.go:13.40,19.2 5 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:15.61,18.65 3 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:18.65,20.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:20.8,22.32 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:22.32,23.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:23.36,25.10 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:27.4,27.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:27.33,30.5 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:33.2,34.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:34.16,35.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:37.2,38.37 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:41.65,44.46 3 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:44.46,46.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:46.8,48.32 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:48.32,49.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:49.36,51.10 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:53.4,53.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:53.33,56.5 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:59.2,60.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:60.16,61.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:63.2,64.37 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:67.33,70.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:74.88,75.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:75.44,77.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:78.2,89.29 9 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:89.29,91.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:91.8,91.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:91.34,93.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:95.2,95.29 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:95.29,98.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:100.2,100.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:100.22,102.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:104.2,105.22 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:105.22,107.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:110.69,112.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:114.44,117.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:119.46,122.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:124.63,128.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:131.70,132.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:132.34,134.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:134.17,136.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:137.3,137.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:137.43,139.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:140.3,140.43 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:140.43,142.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:143.3,143.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:145.2,145.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:148.44,150.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:153.46,155.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:158.52,159.38 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:159.38,161.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:161.17,163.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:164.3,164.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:168.73,170.43 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:170.43,172.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:173.2,174.41 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:177.70,179.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:181.43,183.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:185.54,187.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:189.42,192.24 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:192.24,194.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:195.2,195.27 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:198.61,200.32 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:200.32,202.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:203.2,203.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:206.55,212.54 4 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:212.54,214.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:215.2,216.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:219.44,221.28 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:222.14,223.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:224.22,225.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:227.2,227.34 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:230.52,232.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:234.42,236.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:238.33,243.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:245.111,246.65 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:246.65,248.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:249.2,249.76 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:252.137,253.72 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:253.72,255.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:257.2,262.25 4 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:262.25,264.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:266.2,266.35 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:266.35,268.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:270.2,272.39 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:272.39,273.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:273.44,275.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:278.2,278.31 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:281.40,282.37 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:282.37,286.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:288.2,290.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:293.40,294.37 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:294.37,298.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:300.2,302.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:305.93,306.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:306.25,307.21 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:307.21,308.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:308.22,310.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:311.4,311.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:314.2,314.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:317.93,318.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:318.25,319.21 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:319.21,320.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:320.13,322.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:323.4,323.24 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:326.2,326.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:329.43,331.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:333.66,336.48 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:336.48,337.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:337.45,339.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:342.2,342.19 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:346.66,349.48 2 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:349.48,350.45 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:350.45,352.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:355.2,355.19 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:358.57,367.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:369.57,371.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/view_helpers.go:373.54,375.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:19.29,20.27 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:20.27,23.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:25.2,25.24 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:65.61,92.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:94.40,96.56 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:96.56,98.58 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:98.58,100.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:101.3,101.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:104.2,118.94 10 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:118.94,120.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:120.8,122.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:124.2,164.12 31 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:167.47,168.92 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:168.92,170.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:172.2,174.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:177.48,179.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:179.18,181.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:183.2,184.24 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:184.24,186.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:188.2,189.38 2 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:192.43,194.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:197.52,198.102 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:198.102,200.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:202.2,202.75 1 0
github.com/jesseduffield/lazydocker/pkg/gui/views.go:202.75,204.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:18.75,21.59 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:21.59,29.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:30.65,32.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:43.59,44.61 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:44.61,46.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:47.4,47.61 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:47.61,49.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:50.4,50.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:56.76,57.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:57.53,57.91 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:60.65,71.33 10 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:71.33,73.42 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:73.42,75.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:76.8,78.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:80.2,80.36 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:80.36,83.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:85.2,85.15 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:88.39,89.50 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:89.50,91.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:93.2,93.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:96.45,98.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:98.16,100.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:102.2,104.12 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:107.76,109.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:109.16,111.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:113.2,132.87 3 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:132.87,135.26 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:135.26,136.70 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:136.70,137.56 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:137.56,139.7 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:140.6,140.16 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:146.2,149.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:152.44,153.121 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:153.121,154.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:154.67,156.18 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:156.18,158.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:159.4,159.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:164.79,166.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:166.16,168.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:170.2,176.67 3 0
github.com/jesseduffield/lazydocker/pkg/gui/volumes_panel.go:179.77,191.2 4 0
github.com/jesseduffield/lazydocker/pkg/gui/window.go:10.50,12.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/window.go:14.48,16.2 1 0
mode: atomic
mode: atomic
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:33.58,34.71 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:34.71,36.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:39.66,41.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:43.61,45.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:47.50,50.20 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:50.20,52.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:54.2,54.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:57.50,60.20 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:60.20,62.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:64.2,64.65 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/context_state.go:67.57,69.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:16.55,18.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:20.50,26.30 5 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:26.30,28.3 1 4
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:31.63,36.37 4 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:36.37,37.22 1 6
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:37.22,39.4 1 3
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:43.57,47.17 3 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:47.17,49.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:51.2,51.47 1 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:51.47,53.3 1 5
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:56.47,61.2 3 3
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:63.58,67.45 3 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:67.45,70.3 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:72.2,72.49 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:76.40,81.2 3 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:83.51,87.37 3 3
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:87.37,88.35 1 4
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:88.35,90.4 1 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:92.2,92.11 1 1
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:95.45,100.37 4 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:100.37,102.3 1 4
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:103.2,103.15 1 2
github.com/jesseduffield/lazydocker/pkg/gui/panels/filtered_list.go:106.48,111.2 3 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:14.57,16.25 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:16.25,18.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:20.2,20.33 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:23.50,26.33 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:26.33,28.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:32.55,34.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:36.44,38.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/list_panel.go:40.44,42.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:80.51,85.95 4 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:85.95,87.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:89.2,89.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:89.25,91.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:91.17,93.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:96.2,96.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:99.53,101.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:103.52,105.16 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:105.16,106.41 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:106.41,108.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:110.3,110.32 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:110.32,111.53 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:111.53,111.83 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:114.3,114.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:117.2,119.33 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:122.59,123.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:123.30,125.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:127.2,128.34 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:128.34,130.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:132.2,138.33 5 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:141.60,145.9 3 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:145.9,148.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:150.2,150.18 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:153.54,157.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:159.54,163.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:165.57,166.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:166.30,168.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:170.2,172.28 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:175.57,176.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:176.30,178.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:180.2,182.28 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:185.41,187.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:189.51,192.2 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:194.47,197.48 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:197.48,198.47 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:198.47,200.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:202.3,202.67 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:202.67,203.78 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:203.78,205.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:206.6,208.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:210.3,210.25 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:210.25,211.78 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:211.78,213.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:216.3,216.14 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:219.2,221.29 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:224.52,227.31 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:227.31,229.74 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:229.74,231.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:232.3,233.17 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:233.17,235.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:236.3,238.29 2 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:238.29,239.44 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:239.44,241.5 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:244.3,244.40 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:244.40,246.4 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:247.3,247.13 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:250.2,250.12 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:253.58,254.30 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:254.30,256.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:258.2,258.42 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:261.55,263.2 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:265.47,266.22 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:266.22,268.3 1 0
github.com/jesseduffield/lazydocker/pkg/gui/panels/side_list_panel.go:270.2,270.20 1 0
mode: atomic
mode: atomic
mode: atomic
github.com/jesseduffield/lazydocker/pkg/commands/container.go:46.78,48.86 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:48.86,49.100 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:49.100,55.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:56.3,56.13 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:59.2,59.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:63.34,66.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:69.35,72.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:75.37,78.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:81.37,84.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:87.49,88.24 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:88.24,90.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:93.2,93.33 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:93.33,95.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:97.2,97.35 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:97.35,99.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:101.2,104.17 3 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:108.84,110.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:110.16,112.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:115.2,115.27 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:115.27,117.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:119.2,119.53 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:123.49,126.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:129.66,131.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:134.68,136.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:136.16,138.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:140.2,140.82 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container.go:144.42,146.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:138.68,143.23 4 1
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:143.23,145.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:146.2,146.14 1 1
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:150.66,152.23 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:152.23,154.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:155.2,155.14 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:158.82,164.2 4 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:167.64,168.22 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:168.22,170.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:172.2,172.37 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:172.37,173.48 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:173.48,176.4 2 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:180.59,184.23 4 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:184.23,186.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/container_stats.go:187.2,187.38 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:66.75,70.2 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:73.161,75.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:75.16,77.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:79.2,80.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:80.16,82.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:84.2,85.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:85.16,87.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:89.2,113.16 5 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:113.16,116.3 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:118.2,118.27 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:121.39,123.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:125.71,128.16 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:128.16,134.3 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:136.2,139.21 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:139.21,154.3 5 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:156.2,156.35 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:159.148,164.16 4 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:164.16,166.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:168.2,170.28 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:170.28,172.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:172.8,174.17 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:174.17,176.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:179.2,181.34 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:184.98,186.35 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:186.35,187.40 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:187.40,188.66 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:188.66,190.15 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:193.3,193.26 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:198.94,203.16 4 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:203.16,205.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:207.2,209.39 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:209.39,213.56 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:213.56,214.44 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:214.44,216.10 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:221.3,221.26 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:221.26,230.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:232.3,234.47 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:234.47,236.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:236.9,238.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:239.3,244.34 5 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:247.2,247.27 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:251.59,252.31 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:252.31,254.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:256.2,258.16 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:258.16,260.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:266.2,268.28 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:268.28,276.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:278.2,278.22 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:283.79,287.39 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:287.39,289.17 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:289.17,291.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:291.9,293.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:296.2,296.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:300.58,311.2 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:314.54,321.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:321.16,323.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:324.2,324.15 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:332.44,335.36 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:335.36,337.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:339.2,340.26 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:340.26,342.53 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:342.53,344.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:345.3,346.17 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:346.17,348.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:349.3,349.37 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:352.2,352.26 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:352.26,357.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:359.2,360.22 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:360.22,360.56 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:361.74,361.108 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:364.2,366.16 3 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:366.16,368.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:369.2,370.9 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:370.9,372.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:373.2,374.9 2 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:374.9,376.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:378.2,378.29 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:378.29,380.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/docker.go:388.2,388.31 1 0
github.com/jesseduffield/lazydocker/pkg/commands/dummies.go:14.37,16.2 1 19
github.com/jesseduffield/lazydocker/pkg/commands/dummies.go:19.44,29.2 2 19
github.com/jesseduffield/lazydocker/pkg/commands/dummies.go:32.34,36.2 3 19
github.com/jesseduffield/lazydocker/pkg/commands/dummies.go:39.45,41.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/dummies.go:44.78,52.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:18.33,19.16 1 1
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:19.16,21.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:23.2,23.28 1 1
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:35.61,39.2 3 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:42.52,44.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:46.39,48.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:51.45,53.35 2 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:53.35,55.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/errors.go:56.2,56.14 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:31.70,32.85 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:32.85,34.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:36.2,36.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:39.85,41.25 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:41.25,43.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:45.2,46.18 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:46.18,48.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:49.2,50.23 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:50.23,52.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:54.2,56.64 3 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:56.64,60.3 3 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:62.2,66.18 4 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:66.18,68.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:70.2,75.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:79.49,81.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:81.16,83.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:85.2,85.85 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:85.85,87.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:89.2,92.33 3 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:96.59,98.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:98.16,100.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:102.2,104.31 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:104.31,107.20 3 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:107.20,109.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:111.3,114.25 4 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:114.25,118.88 3 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:118.88,119.40 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:119.40,121.11 2 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:126.3,135.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:138.2,138.23 1 0
github.com/jesseduffield/lazydocker/pkg/commands/image.go:142.45,145.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:23.63,25.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:25.16,27.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:29.2,31.35 2 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:31.35,40.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:42.2,42.25 1 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:46.47,49.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/network.go:52.34,54.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:42.75,50.2 1 19
github.com/jesseduffield/lazydocker/pkg/commands/os.go:54.71,56.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:59.74,65.2 5 5
github.com/jesseduffield/lazydocker/pkg/commands/os.go:68.102,74.2 5 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:77.76,79.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:82.56,85.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:88.71,91.2 2 5
github.com/jesseduffield/lazydocker/pkg/commands/os.go:94.99,97.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:99.73,102.32 2 2
github.com/jesseduffield/lazydocker/pkg/commands/os.go:102.32,111.3 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:111.8,113.3 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:115.2,115.86 1 2
github.com/jesseduffield/lazydocker/pkg/commands/os.go:119.54,122.2 2 3
github.com/jesseduffield/lazydocker/pkg/commands/os.go:125.50,127.16 2 4
github.com/jesseduffield/lazydocker/pkg/commands/os.go:127.16,129.3 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:130.2,130.22 1 3
github.com/jesseduffield/lazydocker/pkg/commands/os.go:130.22,132.3 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:133.2,133.15 1 2
github.com/jesseduffield/lazydocker/pkg/commands/os.go:136.71,138.16 2 5
github.com/jesseduffield/lazydocker/pkg/commands/os.go:138.16,142.9 2 3
github.com/jesseduffield/lazydocker/pkg/commands/os.go:142.9,144.4 1 2
github.com/jesseduffield/lazydocker/pkg/commands/os.go:145.3,145.28 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:147.2,147.26 1 2
github.com/jesseduffield/lazydocker/pkg/commands/os.go:151.53,160.2 5 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:163.49,172.2 5 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:176.66,178.18 2 4
github.com/jesseduffield/lazydocker/pkg/commands/os.go:178.18,180.3 1 3
github.com/jesseduffield/lazydocker/pkg/commands/os.go:181.2,181.18 1 4
github.com/jesseduffield/lazydocker/pkg/commands/os.go:181.18,182.50 1 2
github.com/jesseduffield/lazydocker/pkg/commands/os.go:182.50,184.4 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:186.2,186.18 1 4
github.com/jesseduffield/lazydocker/pkg/commands/os.go:186.18,188.3 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:190.2,190.51 1 3
github.com/jesseduffield/lazydocker/pkg/commands/os.go:194.88,196.2 1 3
github.com/jesseduffield/lazydocker/pkg/commands/os.go:199.50,201.32 2 5
github.com/jesseduffield/lazydocker/pkg/commands/os.go:201.32,207.3 2 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:207.8,215.3 2 4
github.com/jesseduffield/lazydocker/pkg/commands/os.go:216.2,216.32 1 5
github.com/jesseduffield/lazydocker/pkg/commands/os.go:221.52,223.2 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:226.67,228.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:228.16,230.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:231.2,234.16 3 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:234.16,236.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:237.2,237.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:241.78,243.16 2 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:243.16,246.3 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:248.2,248.56 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:248.56,251.3 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:252.2,252.40 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:252.40,255.3 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:257.2,257.28 1 1
github.com/jesseduffield/lazydocker/pkg/commands/os.go:261.51,264.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:267.59,268.41 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:268.41,269.25 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:269.25,271.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:272.3,272.20 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:274.2,274.18 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:280.61,284.16 4 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:284.16,285.26 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:285.26,287.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:288.3,288.31 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:290.2,290.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:294.48,296.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:296.16,298.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:299.2,299.29 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:303.64,305.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:308.66,311.37 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:311.37,313.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:315.2,315.35 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:315.35,317.17 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:317.17,319.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:321.3,321.27 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:327.2,332.27 4 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:332.27,334.13 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:334.13,336.18 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:336.18,338.5 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:340.4,340.45 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:340.45,342.5 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:344.4,344.52 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:344.52,345.19 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:345.19,347.6 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:350.4,350.44 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:350.44,352.5 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:354.4,354.13 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:358.2,360.26 2 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:360.26,362.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:363.2,363.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:367.47,369.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os.go:372.55,374.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/os_default_platform.go:10.30,18.2 1 19
github.com/jesseduffield/lazydocker/pkg/commands/service.go:23.76,25.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:28.32,30.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:33.30,35.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:38.35,40.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:43.33,45.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:47.59,53.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:56.47,58.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:61.49,72.2 5 0
github.com/jesseduffield/lazydocker/pkg/commands/service.go:75.66,83.2 3 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:23.61,25.16 2 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:25.16,27.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:29.2,33.33 3 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:33.33,42.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:44.2,44.24 1 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:48.46,51.2 2 0
github.com/jesseduffield/lazydocker/pkg/commands/volume.go:54.43,56.2 1 0
mode: atomic
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:32.53,36.83 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:36.83,38.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:39.39,39.61 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:48.66,52.16 4 3
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:52.16,55.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:58.2,58.23 1 3
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:58.23,60.17 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:60.17,62.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:63.3,64.17 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:64.17,66.4 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:68.3,68.21 1 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:70.2,70.26 1 2
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:75.33,75.47 1 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:85.44,87.2 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:89.117,91.16 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:91.16,93.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:94.2,97.16 3 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:97.16,99.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:103.2,108.16 5 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:108.16,110.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:113.2,118.8 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:123.87,127.6 3 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:127.6,128.10 1 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:129.21,130.20 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:131.14,131.14 0 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:134.3,135.17 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:135.17,136.12 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:138.3,138.13 1 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:143.79,145.16 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:145.16,147.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:148.2,149.12 2 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:152.101,156.16 4 1
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:156.16,158.3 1 0
github.com/jesseduffield/lazydocker/pkg/commands/ssh/ssh.go:159.2,159.17 1 1
mode: atomic
mode: atomic
</file>

<file path="docker-compose.yml">
version: '3'
services:
  lazydocker:
    build:
      context: https://github.com/jesseduffield/lazydocker.git
      args:
        BASE_IMAGE_BUILDER: golang
        GOARCH: amd64
        GOARM:
    image: lazyteam/lazydocker
    container_name: lazydocker
    stdin_open: true
    tty: true
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ./config:/.config/jesseduffield/lazydocker
</file>

<file path="Dockerfile">
ARG BASE_IMAGE_BUILDER=golang
ARG ALPINE_VERSION=3.20
ARG GO_VERSION=1.23

FROM ${BASE_IMAGE_BUILDER}:${GO_VERSION}-alpine${ALPINE_VERSION} AS builder
ARG GOARCH=amd64
ARG GOARM
ARG VERSION
ARG VCS_REF
WORKDIR /tmp/gobuild
COPY ./ .
RUN CGO_ENABLED=0 GOOS=linux GOARCH=${GOARCH} GOARM=${GOARM} \
    go build -a -mod=vendor \
    -ldflags="-s -w \
    -X main.commit=${VCS_REF} \
    -X main.version=${VERSION} \
    -X main.buildSource=Docker"

FROM ${BASE_IMAGE_BUILDER}:${GO_VERSION}-alpine${ALPINE_VERSION} AS docker-builder
ARG GOARCH=amd64
ARG GOARM
ARG DOCKER_VERSION=v27.0.3
RUN apk add -U -q --progress --no-cache git bash coreutils gcc musl-dev
WORKDIR /go/src/github.com/docker/cli
RUN git clone --branch ${DOCKER_VERSION} --single-branch --depth 1 https://github.com/docker/cli.git . > /dev/null 2>&1
ENV CGO_ENABLED=0 \
    GOARCH=${GOARCH} \
    GOARM=${GOARM} \
    DISABLE_WARN_OUTSIDE_CONTAINER=1
RUN ./scripts/build/binary
RUN rm build/docker && mv build/docker-linux-* build/docker

FROM scratch
ARG BUILD_DATE
ARG VCS_REF
ARG VERSION
LABEL \
    org.opencontainers.image.authors="jessedduffield@gmail.com" \
    org.opencontainers.image.created=$BUILD_DATE \
    org.opencontainers.image.version=$VERSION \
    org.opencontainers.image.revision=$VCS_REF \
    org.opencontainers.image.url="https://github.com/jesseduffield/lazydocker" \
    org.opencontainers.image.documentation="https://github.com/jesseduffield/lazydocker" \
    org.opencontainers.image.source="https://github.com/jesseduffield/lazydocker" \
    org.opencontainers.image.title="lazydocker" \
    org.opencontainers.image.description="The lazier way to manage everything docker"
ENTRYPOINT [ "/bin/lazydocker" ]
COPY --from=docker-builder /go/src/github.com/docker/cli/build/docker /bin/docker
COPY --from=builder /tmp/gobuild/lazydocker /bin/lazydocker
</file>

<file path="go.mod">
module github.com/jesseduffield/lazydocker

go 1.22

toolchain go1.23.6

require (
	github.com/OpenPeeDeeP/xdg v0.2.1-0.20190312153938-4ba9e1eb294c
	github.com/boz/go-throttle v0.0.0-20160922054636-fdc4eab740c1
	github.com/cloudfoundry/jibber_jabber v0.0.0-20151120183258-bcc4c8345a21
	github.com/docker/cli v27.1.1+incompatible
	github.com/docker/docker v28.5.2+incompatible
	github.com/fatih/color v1.10.0
	github.com/go-errors/errors v1.5.1
	github.com/gookit/color v1.5.0
	github.com/imdario/mergo v0.3.16
	github.com/integrii/flaggy v1.4.0
	github.com/jesseduffield/asciigraph v0.0.0-20190605104717-6d88e39309ee
	github.com/jesseduffield/gocui v0.3.1-0.20240418080333-8cd33929c513
	github.com/jesseduffield/kill v0.0.0-20220618033138-bfbe04675d10
	github.com/jesseduffield/lazycore v0.0.0-20221023210126-718a4caea996
	github.com/jesseduffield/yaml v0.0.0-20190702115811-b900b7e08b56
	github.com/mattn/go-runewidth v0.0.15
	github.com/mcuadros/go-lookup v0.0.0-20171110082742-5650f26be767
	github.com/mgutz/str v1.2.0
	github.com/pmezard/go-difflib v1.0.0
	github.com/samber/lo v1.31.0
	github.com/sasha-s/go-deadlock v0.3.1
	github.com/sirupsen/logrus v1.9.3
	github.com/spkg/bom v0.0.0-20160624110644-59b7046e48ad
	github.com/stretchr/testify v1.9.0
	golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1
)

require (
	github.com/containerd/errdefs v1.0.0 // indirect
	github.com/containerd/errdefs/pkg v0.3.0 // indirect
	github.com/moby/sys/atomicwriter v0.1.0 // indirect
	github.com/moby/sys/sequential v0.6.0 // indirect
)

require (
	github.com/Microsoft/go-winio v0.6.2 // indirect
	github.com/containerd/log v0.1.0 // indirect
	github.com/davecgh/go-spew v1.1.1 // indirect
	github.com/distribution/reference v0.6.0 // indirect
	github.com/docker/docker-credential-helpers v0.8.2 // indirect
	github.com/docker/go-connections v0.5.0 // indirect
	github.com/docker/go-units v0.5.0 // indirect
	github.com/felixge/httpsnoop v1.0.4 // indirect
	github.com/fvbommel/sortorder v1.1.0 // indirect
	github.com/gdamore/encoding v1.0.1 // indirect
	github.com/gdamore/tcell/v2 v2.7.4 // indirect
	github.com/go-logr/logr v1.4.2 // indirect
	github.com/go-logr/stdr v1.2.2 // indirect
	github.com/goccy/go-yaml v1.11.0
	github.com/lucasb-eyer/go-colorful v1.2.0 // indirect
	github.com/mattn/go-colorable v0.1.8 // indirect
	github.com/mattn/go-isatty v0.0.12 // indirect
	github.com/moby/docker-image-spec v1.3.1 // indirect
	github.com/moby/term v0.5.0 // indirect
	github.com/morikuni/aec v1.0.0 // indirect
	github.com/onsi/ginkgo v1.8.0 // indirect
	github.com/onsi/gomega v1.5.0 // indirect
	github.com/opencontainers/go-digest v1.0.0 // indirect
	github.com/opencontainers/image-spec v1.1.0 // indirect
	github.com/petermattis/goid v0.0.0-20180202154549-b0b1615b78e5 // indirect
	github.com/pkg/errors v0.9.1 // indirect
	github.com/rivo/uniseg v0.4.7 // indirect
	github.com/xo/terminfo v0.0.0-20210125001918-ca9a967f8778 // indirect
	go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.53.0 // indirect
	go.opentelemetry.io/otel v1.28.0 // indirect
	go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracehttp v1.28.0 // indirect
	go.opentelemetry.io/otel/metric v1.28.0 // indirect
	go.opentelemetry.io/otel/sdk v1.28.0 // indirect
	go.opentelemetry.io/otel/trace v1.28.0 // indirect
	golang.org/x/crypto v0.24.0 // indirect
	golang.org/x/exp v0.0.0-20231006140011-7918f672742d // indirect
	golang.org/x/sys v0.24.0 // indirect
	golang.org/x/term v0.21.0 // indirect
	golang.org/x/text v0.16.0 // indirect
	golang.org/x/time v0.5.0 // indirect
	gopkg.in/yaml.v3 v3.0.1 // indirect
	gotest.tools/v3 v3.5.1 // indirect
)
</file>

<file path="LICENSE">
MIT License

Copyright (c) 2018 Jesse Duffield

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</file>

<file path="main.go">
package main

import (
	"bytes"
	"fmt"
	"log"
	"os"
	"runtime"
	"runtime/debug"

	"github.com/docker/docker/client"
	"github.com/go-errors/errors"
	"github.com/integrii/flaggy"
	"github.com/jesseduffield/lazydocker/pkg/app"
	"github.com/jesseduffield/lazydocker/pkg/config"
	"github.com/jesseduffield/lazydocker/pkg/utils"
	"github.com/jesseduffield/yaml"
	"github.com/samber/lo"
)

const DEFAULT_VERSION = "unversioned"

var (
	commit      string
	version     = DEFAULT_VERSION
	date        string
	buildSource = "unknown"

	configFlag    = false
	debuggingFlag = false
	composeFiles  []string
)

func main() {
	updateBuildInfo()

	info := fmt.Sprintf(
		"%s\nDate: %s\nBuildSource: %s\nCommit: %s\nOS: %s\nArch: %s",
		version,
		date,
		buildSource,
		commit,
		runtime.GOOS,
		runtime.GOARCH,
	)

	flaggy.SetName("lazydocker")
	flaggy.SetDescription("The lazier way to manage everything docker")
	flaggy.DefaultParser.AdditionalHelpPrepend = "https://github.com/jesseduffield/lazydocker"

	flaggy.Bool(&configFlag, "c", "config", "Print the current default config")
	flaggy.Bool(&debuggingFlag, "d", "debug", "a boolean")
	flaggy.StringSlice(&composeFiles, "f", "file", "Specify alternate compose files")
	flaggy.SetVersion(info)

	flaggy.Parse()

	if configFlag {
		var buf bytes.Buffer
		encoder := yaml.NewEncoder(&buf)
		err := encoder.Encode(config.GetDefaultConfig())
		if err != nil {
			log.Fatal(err.Error())
		}
		fmt.Printf("%v\n", buf.String())
		os.Exit(0)
	}

	projectDir, err := os.Getwd()
	if err != nil {
		log.Fatal(err.Error())
	}

	appConfig, err := config.NewAppConfig("lazydocker", version, commit, date, buildSource, debuggingFlag, composeFiles, projectDir)
	if err != nil {
		log.Fatal(err.Error())
	}

	app, err := app.NewApp(appConfig)
	if err == nil {
		err = app.Run()
	}
	app.Close()

	if err != nil {
		if errMessage, known := app.KnownError(err); known {
			log.Println(errMessage)
			os.Exit(0)
		}

		if client.IsErrConnectionFailed(err) {
			log.Println(app.Tr.ConnectionFailed)
			os.Exit(0)
		}

		newErr := errors.Wrap(err, 0)
		stackTrace := newErr.ErrorStack()
		app.Log.Error(stackTrace)

		log.Fatalf("%s\n\n%s", app.Tr.ErrorOccurred, stackTrace)
	}
}

func updateBuildInfo() {
	if version == DEFAULT_VERSION {
		if buildInfo, ok := debug.ReadBuildInfo(); ok {
			revision, ok := lo.Find(buildInfo.Settings, func(setting debug.BuildSetting) bool {
				return setting.Key == "vcs.revision"
			})
			if ok {
				commit = revision.Value
				// if lazydocker was built from source we'll show the version as the
				// abbreviated commit hash
				version = utils.SafeTruncate(revision.Value, 7)
			}

			// if version hasn't been set we assume that neither has the date
			time, ok := lo.Find(buildInfo.Settings, func(setting debug.BuildSetting) bool {
				return setting.Key == "vcs.time"
			})
			if ok {
				date = time.Value
			}
		}
	}
}
</file>

<file path="README.md">
<div align="center">
<sup>Special thanks to:</sup>
<br>
<br>
<a href="https://www.warp.dev/?utm_source=github&utm_medium=referral&utm_campaign=lazydocker_20231023">
  <div>
    <img src="https://github.com/warpdotdev/brand-assets/blob/main/Github/Sponsor/Warp-Github-LG-02.png?raw=true" width="400" alt="Warp">
  </div>
  <b>Warp, the intelligent terminal</b>
  <br>
  <b>Available for MacOS and Linux</b>
  <br>
  <div>
    <sup>VisitÂ warp.devÂ to learn more.</sup>
  </div>
</a>
<br>
<hr>
<a href="https://tuple.app/lazydocker">
  <div>
    <img src="assets/tuple.png" width="400" alt="Tuple">
  </div>
  <b>Tuple, the premier screen sharing app for developers on macOS and Windows.</b>
</a>
<br>
<hr>
<br>
<a href="https://www.subble.com/jobs/engineer">
  <div>
    <img src="assets/subble-job-ad.jpg" width="400" alt="Subble">
  </div>
  <b>Click here to learn more</b>
</a>
<br>

<hr>
</div>

<p align="center">
  <img src="https://user-images.githubusercontent.com/8456633/59972109-8e9c8480-95cc-11e9-8350-38f7f86ba76d.png">
</p>

A simple terminal UI for both docker and docker-compose, written in Go with the [gocui](https://github.com/jroimartin/gocui 'gocui') library.

![CI](https://github.com/jesseduffield/lazygit/workflows/Continuous%20Integration/badge.svg)
[![Go Report Card](https://goreportcard.com/badge/github.com/jesseduffield/lazydocker)](https://goreportcard.com/report/github.com/jesseduffield/lazydocker)
[![GolangCI](https://golangci.com/badges/github.com/jesseduffield/lazydocker.svg)](https://golangci.com)
[![GoDoc](https://godoc.org/github.com/jesseduffield/lazydocker?status.svg)](http://godoc.org/github.com/jesseduffield/lazydocker)
![GitHub repo size](https://img.shields.io/github/repo-size/jesseduffield/lazydocker)
[![GitHub Releases](https://img.shields.io/github/downloads/jesseduffield/lazydocker/total)](https://github.com/jesseduffield/lazydocker/releases)
[![GitHub tag](https://img.shields.io/github/tag/jesseduffield/lazydocker.svg)](https://github.com/jesseduffield/lazydocker/releases/latest)
[![homebrew](https://img.shields.io/homebrew/v/lazydocker)](https://github.com/Homebrew/homebrew-core/blob/master/Formula/lazydocker.rb)

![Gif](/docs/resources/demo3.gif)

[Demo](https://youtu.be/NICqQPxwJWw)

## Sponsors

<p align="center">
 Maintenance of this project is made possible by all the <a href="https://github.com/jesseduffield/lazydocker/graphs/contributors">contributors</a> and <a href="https://github.com/sponsors/jesseduffield">sponsors</a>. If you'd like to sponsor this project and have your avatar or company logo appear below <a href="https://github.com/sponsors/jesseduffield">click here</a>. ğŸ’™
</p>

<p align="center">
<!-- sponsors --><a href="https://github.com/intabulas"><img src="https://github.com/intabulas.png" width="60px" alt="Mark Lussier" /></a><a href="https://github.com/peppy"><img src="https://github.com/peppy.png" width="60px" alt="Dean Herbert" /></a><a href="https://github.com/piot"><img src="https://github.com/piot.png" width="60px" alt="Peter Bjorklund" /></a><a href="https://github.com/rgwood"><img src="https://github.com/rgwood.png" width="60px" alt="Reilly Wood" /></a><a href="https://github.com/oliverguenther"><img src="https://github.com/oliverguenther.png" width="60px" alt="Oliver GÃ¼nther" /></a><a href="https://github.com/pawanjay176"><img src="https://github.com/pawanjay176.png" width="60px" alt="Pawan Dhananjay" /></a><a href="https://github.com/bdach"><img src="https://github.com/bdach.png" width="60px" alt="BartÅ‚omiej Dach" /></a><a href="https://github.com/davidklsn"><img src="https://github.com/davidklsn.png" width="60px" alt="David Karlsson" /></a><a href="https://github.com/carstengehling"><img src="https://github.com/carstengehling.png" width="60px" alt="Carsten Gehling" /></a><a href="https://github.com/ceuk"><img src="https://github.com/ceuk.png" width="60px" alt="CEUK" /></a><a href="https://github.com/akospwc"><img src="https://github.com/akospwc.png" width="60px" alt="Akos Putz" /></a><a href="https://github.com/Xetera"><img src="https://github.com/Xetera.png" width="60px" alt="Xetera" /></a><a href="https://github.com/HoldenLucas"><img src="https://github.com/HoldenLucas.png" width="60px" alt="Holden Lucas" /></a><a href="https://github.com/nartc"><img src="https://github.com/nartc.png" width="60px" alt="Chau Tran" /></a><a href="https://github.com/matejcik"><img src="https://github.com/matejcik.png" width="60px" alt="matejcik" /></a><a href="https://github.com/lucatume"><img src="https://github.com/lucatume.png" width="60px" alt="theAverageDev (Luca Tumedei)" /></a><a href="https://github.com/IvanZuy"><img src="https://github.com/IvanZuy.png" width="60px" alt="Ivan Zaitsev" /></a><a href="https://github.com/nicholascloud"><img src="https://github.com/nicholascloud.png" width="60px" alt="Nicholas Cloud" /></a><a href="https://github.com/PhotonQuantum"><img src="https://github.com/PhotonQuantum.png" width="60px" alt="LightQuantum" /></a><a href="https://github.com/GitSquared"><img src="https://github.com/GitSquared.png" width="60px" alt="Gabriel Saillard" /></a><a href="https://github.com/ava1ar"><img src="https://github.com/ava1ar.png" width="60px" alt="Aliaksandr Stelmachonak" /></a><a href="https://github.com/minidfx"><img src="https://github.com/minidfx.png" width="60px" alt="Burgy Benjamin" /></a><a href="https://github.com/JoeKlemmer"><img src="https://github.com/JoeKlemmer.png" width="60px" alt="Joe Klemmer" /></a><a href="https://github.com/tobi"><img src="https://github.com/tobi.png" width="60px" alt="Tobias LÃ¼tke" /></a><a href="https://github.com/benbfortis"><img src="https://github.com/benbfortis.png" width="60px" alt="Ben Beaumont" /></a><a href="https://github.com/jakewarren"><img src="https://github.com/jakewarren.png" width="60px" alt="" /></a><a href="https://github.com/tgpholly"><img src="https://github.com/tgpholly.png" width="60px" alt="Holly" /></a><a href="https://github.com/jisantuc"><img src="https://github.com/jisantuc.png" width="60px" alt="James Santucci" /></a><a href="https://github.com/bitprophet"><img src="https://github.com/bitprophet.png" width="60px" alt="Jeff Forcier" /></a><a href="https://github.com/tayleighr"><img src="https://github.com/tayleighr.png" width="60px" alt="" /></a><a href="https://github.com/Novakov"><img src="https://github.com/Novakov.png" width="60px" alt="Maciej T. Nowak" /></a><a href="https://github.com/farzadmf"><img src="https://github.com/farzadmf.png" width="60px" alt="Farzad Majidfayyaz" /></a><a href="https://github.com/nekhaevskiy"><img src="https://github.com/nekhaevskiy.png" width="60px" alt="Yury" /></a><a href="https://github.com/reivilibre"><img src="https://github.com/reivilibre.png" width="60px" alt="" /></a><a href="https://github.com/andreaskurth"><img src="https://github.com/andreaskurth.png" width="60px" alt="Andreas Kurth" /></a><a href="https://github.com/BSteffaniak"><img src="https://github.com/BSteffaniak.png" width="60px" alt="Braden Steffaniak" /></a><a href="https://github.com/jordan-gillard"><img src="https://github.com/jordan-gillard.png" width="60px" alt="Jordan Gillard" /></a><a href="https://github.com/smangels"><img src="https://github.com/smangels.png" width="60px" alt="Sebastian" /></a><a href="https://github.com/George-Spanos"><img src="https://github.com/George-Spanos.png" width="60px" alt="George Spanos" /></a><a href="https://github.com/frantisekstanko"><img src="https://github.com/frantisekstanko.png" width="60px" alt="Frantisek Stanko" /></a><a href="https://github.com/amslezak"><img src="https://github.com/amslezak.png" width="60px" alt="Andy Slezak" /></a><a href="https://github.com/mkock"><img src="https://github.com/mkock.png" width="60px" alt="Martin Kock" /></a><a href="https://github.com/illarionvk"><img src="https://github.com/illarionvk.png" width="60px" alt="Illarion Koperski" /></a><a href="https://github.com/WhiteBlackGoose"><img src="https://github.com/WhiteBlackGoose.png" width="60px" alt="" /></a><a href="https://github.com/jessealama"><img src="https://github.com/jessealama.png" width="60px" alt="Jesse Alama" /></a><a href="https://github.com/codacy"><img src="https://github.com/codacy.png" width="60px" alt="Codacy" /></a><a href="https://github.com/colbr"><img src="https://github.com/colbr.png" width="60px" alt="Brett" /></a><a href="https://github.com/heijmans"><img src="https://github.com/heijmans.png" width="60px" alt="Jan Heijmans" /></a><a href="https://github.com/Vesther"><img src="https://github.com/Vesther.png" width="60px" alt="Kevin Nowald" /></a><a href="https://github.com/sempruijs"><img src="https://github.com/sempruijs.png" width="60px" alt="sem pruijs" /></a><a href="https://github.com/omarluq"><img src="https://github.com/omarluq.png" width="60px" alt="Omar Luq " /></a><a href="https://github.com/ethanjli"><img src="https://github.com/ethanjli.png" width="60px" alt="Ethan Li" /></a><a href="https://github.com/phubaba"><img src="https://github.com/phubaba.png" width="60px" alt="" /></a><a href="https://github.com/fomrat"><img src="https://github.com/fomrat.png" width="60px" alt="Brian MacAskill" /></a><a href="https://github.com/canhazcodez"><img src="https://github.com/canhazcodez.png" width="60px" alt="Maxi" /></a><a href="https://github.com/nikbrunner"><img src="https://github.com/nikbrunner.png" width="60px" alt="nbr" /></a><a href="https://github.com/neunkasulle"><img src="https://github.com/neunkasulle.png" width="60px" alt="Jan Zenkner" /></a><a href="https://github.com/ahkohd"><img src="https://github.com/ahkohd.png" width="60px" alt="Victor Aremu" /></a><a href="https://github.com/RVxLab"><img src="https://github.com/RVxLab.png" width="60px" alt="" /></a><a href="https://github.com/igor-ramazanov"><img src="https://github.com/igor-ramazanov.png" width="60px" alt="Igor Ramazanov" /></a><a href="https://github.com/glotchimo"><img src="https://github.com/glotchimo.png" width="60px" alt="Elliott Maguire" /></a><a href="https://github.com/n8nio"><img src="https://github.com/n8nio.png" width="60px" alt="n8n - Workflow Automation" /></a><a href="https://github.com/kaleballmon"><img src="https://github.com/kaleballmon.png" width="60px" alt="kaleb allmon" /></a><a href="https://github.com/joshuadavidthomas"><img src="https://github.com/joshuadavidthomas.png" width="60px" alt="Josh Thomas" /></a><a href="https://github.com/josephjacks"><img src="https://github.com/josephjacks.png" width="60px" alt="JJ" /></a><a href="https://github.com/FrederickGeek8"><img src="https://github.com/FrederickGeek8.png" width="60px" alt="Frederick Morlock" /></a><a href="https://github.com/agrippanux"><img src="https://github.com/agrippanux.png" width="60px" alt="Darren Craine" /></a><a href="https://github.com/ezdac"><img src="https://github.com/ezdac.png" width="60px" alt="Maximilian Langenfeld" /></a><a href="https://github.com/sarzhann"><img src="https://github.com/sarzhann.png" width="60px" alt="Nurzhan" /></a><a href="https://github.com/dbuls"><img src="https://github.com/dbuls.png" width="60px" alt="Davis Buls" /></a><a href="https://github.com/MGreek"><img src="https://github.com/MGreek.png" width="60px" alt="Grec Marc" /></a><a href="https://github.com/sainu"><img src="https://github.com/sainu.png" width="60px" alt="sainu" /></a><a href="https://github.com/mguellsegarra"><img src="https://github.com/mguellsegarra.png" width="60px" alt="Marc GÃ¼ell Segarra" /></a><a href="https://github.com/lppassos"><img src="https://github.com/lppassos.png" width="60px" alt="" /></a><a href="https://github.com/chrisolsen"><img src="https://github.com/chrisolsen.png" width="60px" alt="Chris Olsen" /></a><a href="https://github.com/vladimir-popov"><img src="https://github.com/vladimir-popov.png" width="60px" alt="Vladimir Popov" /></a><a href="https://github.com/neilcode"><img src="https://github.com/neilcode.png" width="60px" alt="Neil Lambert" /></a><a href="https://github.com/shaungarwood"><img src="https://github.com/shaungarwood.png" width="60px" alt="Shaun Garwood" /></a><a href="https://github.com/dhh"><img src="https://github.com/dhh.png" width="60px" alt="David Heinemeier Hansson" /></a><a href="https://github.com/wayanjimmy"><img src="https://github.com/wayanjimmy.png" width="60px" alt="Wayan jimmy" /></a><!-- sponsors -->
</p>

## Elevator Pitch

Minor rant incoming: Something's not working? Maybe a service is down. `docker-compose ps`. Yep, it's that microservice that's still buggy. No issue, I'll just restart it: `docker-compose restart`. Okay now let's try again. Oh wait the issue is still there. Hmm. `docker-compose ps`. Right so the service must have just stopped immediately after starting. I probably would have known that if I was reading the log stream, but there is a lot of clutter in there from other services. I could get the logs for just that one service with `docker compose logs --follow myservice` but that dies everytime the service dies so I'd need to run that command every time I restart the service. I could alternatively run `docker-compose up myservice` and in that terminal window if the service is down I could just `up` it again, but now I've got one service hogging a terminal window even after I no longer care about its logs. I guess when I want to reclaim the terminal realestate I can do `ctrl+P,Q`, but... wait, that's not working for some reason. Should I use ctrl+C instead? I can't remember if that closes the foreground process or kills the actual service.

What a headache!

Memorising docker commands is hard. Memorising aliases is slightly less hard. Keeping track of your containers across multiple terminal windows is near impossible. What if you had all the information you needed in one terminal window with every common command living one keypress away (and the ability to add custom commands as well). Lazydocker's goal is to make that dream a reality.

- [Requirements](https://github.com/jesseduffield/lazydocker#requirements)
- [Installation](https://github.com/jesseduffield/lazydocker#installation)
- [Usage](https://github.com/jesseduffield/lazydocker#usage)
- [Keybindings](/docs/keybindings)
- [Cool Features](https://github.com/jesseduffield/lazydocker#cool-features)
- [Contributing](https://github.com/jesseduffield/lazydocker#contributing)
- [Video Tutorial](https://youtu.be/NICqQPxwJWw)
- [Config Docs](/docs/Config.md)
- [Twitch Stream](https://www.twitch.tv/jesseduffield)
- [FAQ](https://github.com/jesseduffield/lazydocker#faq)

## Requirements

- Docker >= **29.0.0** (API >= **1.24**)
- Docker-Compose >= **1.23.2** (optional)

## Installation

### Homebrew

Normally `lazydocker` formula can be found in the Homebrew core but we suggest you to tap our formula to get frequently updated one. It works with Linux, too.

**Tap**:
```sh
brew install jesseduffield/lazydocker/lazydocker
```

**Core**:
```sh
brew install lazydocker
```

### Scoop (Windows)

You can install `lazydocker` using [scoop](https://scoop.sh/):

```sh
scoop install lazydocker
```
### Chocolatey (Windows)

You can install `lazydocker` using [Chocolatey](https://chocolatey.org/):

```sh
choco install lazydocker
```
### asdf-vm

You can install [asdf-lazydocker plugin](https://github.com/comdotlinux/asdf-lazydocker) using [asdf-vm](https://asdf-vm.com/):
#### Setup (Once)
```sh
asdf plugin add lazydocker https://github.com/comdotlinux/asdf-lazydocker.git
```

#### For Install / Upgrade
```sh
asdf list all lazydocker
asdf install lazydocker latest
asdf global lazydocker latest
```

### Binary Release (Linux/OSX/Windows)

You can manually download a binary release from [the release page](https://github.com/jesseduffield/lazydocker/releases).

Automated install/update, don't forget to always verify what you're piping into bash:

```sh
curl https://raw.githubusercontent.com/jesseduffield/lazydocker/master/scripts/install_update_linux.sh | bash
```
The script installs downloaded binary to `$HOME/.local/bin` directory by default, but it can be changed by setting `DIR` environment variable.

### Go

Required Go Version >= **1.19**

```sh
go install github.com/jesseduffield/lazydocker@latest
```

Required Go version >= **1.8**, <= **1.17**

```sh
go get github.com/jesseduffield/lazydocker
```

### Arch Linux AUR

You can install lazydocker using the [AUR](https://aur.archlinux.org/packages/lazydocker) by running:

```sh
yay -S lazydocker
```

### Docker

[![Docker Pulls](https://img.shields.io/docker/pulls/lazyteam/lazydocker.svg)](https://hub.docker.com/r/lazyteam/lazydocker)
[![Docker Stars](https://img.shields.io/docker/stars/lazyteam/lazydocker.svg)](https://hub.docker.com/r/lazyteam/lazydocker)
[![Docker Automated](https://img.shields.io/docker/cloud/automated/lazyteam/lazydocker.svg)](https://hub.docker.com/r/lazyteam/lazydocker)

1. <details><summary>Click if you have an ARM device</summary><p>

    - If you have a ARM 32 bit v6 architecture

        ```sh
        docker build -t lazyteam/lazydocker \
        --build-arg BASE_IMAGE_BUILDER=arm32v6/golang \
        --build-arg GOARCH=arm \
        --build-arg GOARM=6 \
        https://github.com/jesseduffield/lazydocker.git
        ```

    - If you have a ARM 32 bit v7 architecture

        ```sh
        docker build -t lazyteam/lazydocker \
        --build-arg BASE_IMAGE_BUILDER=arm32v7/golang \
        --build-arg GOARCH=arm \
        --build-arg GOARM=7 \
        https://github.com/jesseduffield/lazydocker.git
        ```

    - If you have a ARM 64 bit v8 architecture

        ```sh
        docker build -t lazyteam/lazydocker \
        --build-arg BASE_IMAGE_BUILDER=arm64v8/golang \
        --build-arg GOARCH=arm64 \
        https://github.com/jesseduffield/lazydocker.git
        ```

    </p></details>

1. Run the container

    ```sh
    docker run --rm -it -v \
    /var/run/docker.sock:/var/run/docker.sock \
    -v /yourpath:/.config/jesseduffield/lazydocker \
    lazyteam/lazydocker
    ```

    - Don't forget to change `/yourpath` to an actual path you created to store lazydocker's config
    - You can also use this [docker-compose.yml](https://github.com/jesseduffield/lazydocker/blob/master/docker-compose.yml)
    - You might want to create an alias, for example:

        ```sh
        echo "alias lzd='docker run --rm -it -v /var/run/docker.sock:/var/run/docker.sock -v /yourpath/config:/.config/jesseduffield/lazydocker lazyteam/lazydocker'" >> ~/.zshrc
        ```



For development, you can build the image using:

```sh
git clone https://github.com/jesseduffield/lazydocker.git
cd lazydocker
docker build -t lazyteam/lazydocker \
    --build-arg BUILD_DATE=`date -u +"%Y-%m-%dT%H:%M:%SZ"` \
    --build-arg VCS_REF=`git rev-parse --short HEAD` \
    --build-arg VERSION=`git describe --abbrev=0 --tag` \
    .
```

If you encounter a compatibility issue with Docker bundled binary, try rebuilding
the image with the build argument `--build-arg DOCKER_VERSION="v$(docker -v | cut -d" " -f3 | rev | cut -c 2- | rev)"`
so that the bundled docker binary matches your host docker binary version.

### Manual

You'll need to [install Go](https://golang.org/doc/install)

```
git clone https://github.com/jesseduffield/lazydocker.git
cd lazydocker
go install
```

You can also use `go run main.go` to compile and run in one go (pun definitely intended)

## Usage

Call `lazydocker` in your terminal. I personally use this a lot so I've made an alias for it like so:

```
echo "alias lzd='lazydocker'" >> ~/.zshrc
```

(you can substitute .zshrc for whatever rc file you're using)

- Basic video tutorial [here](https://youtu.be/NICqQPxwJWw).
- List of keybindings
  [here](/docs/keybindings).

## Cool features

everything is one keypress away (or one click away! Mouse support FTW):

- viewing the state of your docker or docker-compose container environment at a glance
- viewing logs for a container/service
- viewing ascii graphs of your containers' metrics so that you can not only feel but also look like a developer
- customising those graphs to measure nearly any metric you want
- attaching to a container/service
- restarting/removing/rebuilding containers/services
- viewing the ancestor layers of a given image
- pruning containers, images, or volumes that are hogging up disk space

## Contributing

There is still a lot of work to go! Please check out the [contributing guide](CONTRIBUTING.md).
For contributor discussion about things not better discussed here in the repo, join the discord channel

<a href="https://discord.gg/ehwFt2t4wt"><img src='/docs/resources/discord.png' width='75'></a>

## Donate

If you would like to support the development of lazydocker, consider [sponsoring me](https://github.com/sponsors/jesseduffield) (github is matching all donations dollar-for-dollar for 12 months)

## Social

If you want to see what I (Jesse) am up to in terms of development, follow me on
[twitter](https://twitter.com/DuffieldJesse) or watch me program on
[twitch](https://www.twitch.tv/jesseduffield)

## FAQ

### How do I edit my config?

By opening lazydocker, clicking on the 'project' panel in the top left, and pressing 'o' (or 'e' if your editor is vim). See [Config Docs](/docs/Config.md)

### How do I get text to wrap in my main panel?

In the future I want to make this the default, but for now there are some CPU issues that arise with wrapping. If you want to enable wrapping, use `gui.wrapMainPanel: true`

### How do you select text?

Because we support mouse events, you will need to hold option while dragging the mouse to indicate you're trying to select text rather than click on something. Alternatively you can disable mouse events via the `gui.ignoreMouseEvents` config value.

Mac Users: See [Issue #190](https://github.com/jesseduffield/lazydocker/issues/190) for other options.

### Why can't I see my container's logs?

By default we only show logs from the last hour, so that we're not putting too much strain on the machine. This may be why you can't see logs when you first start lazydocker. This can be overwritten in the config's `commandTemplates`

If you are running lazydocker in Docker container, it is a know bug, that you can't see logs or CPU usage.

## Alternatives

- [docui](https://github.com/skanehira/docui) - Skanehira beat me to the punch on making a docker terminal UI, so definitely check out that repo as well! I think the two repos can live in harmony though: lazydocker is more about managing existing containers/services, and docui is more about creating and configuring them.
- [Portainer](https://github.com/portainer/portainer) - Portainer tries to solve the same problem but it's accessed via your browser rather than your terminal. It also supports docker swarm.
- See [Awesome Docker list](https://github.com/veggiemonk/awesome-docker/blob/master/README.md#terminal) for similar tools to work with Docker.
</file>

<file path="test.sh">
#!/usr/bin/env bash

set -e
echo "" > coverage.txt

export GOFLAGS=-mod=vendor

use_go_test=false
if command -v gotest; then
    use_go_test=true
fi

for d in $( find ./* -maxdepth 10 ! -path "./vendor*" ! -path "./.git*" ! -path "./scripts*" -type d); do
    if ls $d/*.go &> /dev/null; then
        args="-race -coverprofile=profile.out -covermode=atomic $d"
        if [ "$use_go_test" == true ]; then
            gotest $args
        else
            go test $args
        fi
        if [ -f profile.out ]; then
            cat profile.out >> coverage.txt
            rm profile.out
        fi
    fi
done
</file>

</files>
